import{n as Z,G as Cn,V as at,i as St,a as me,e as E,c as C,d as F,g as b,u as v,a1 as z,j as P,a5 as $e,U as K,r as je,X as Be,q as tt,a3 as Ye,x as re,z as Ze,A as xe,k as y,b as B,h as L,a6 as Ce,E as Te,m as de,a7 as Bt,o as Ie,a8 as ue,w as ut,a2 as ye,t as ee,f as te,l as De,a4 as Oe,a9 as Lt,p as rs,T as fe,aa as Tn,ab as Nn,ac as Et,s as os,Z as as,_ as us,$ as fs,a0 as cs,ad as ds}from"../chunks/DWRrKtVX.js";import{n as An,l as Dn,o as hs,p as ms,S as ge,i as ve,g as le,t as V,c as ne,a as N,f as Fe,h as Xe,b as q,d as Q,m as X,e as G,k as Se,j as lt}from"../chunks/Cvh-KGzI.js";import{t as $n,s as Y,u as ps,v as _s,w as st,x as ft,y as ke,z as mt,A as Re,C as Je,D as Ot,E as vt,F as Fn,G as Vn,H as Rn,I as gs,J as vs,K as Pn,L as jt,N as Mt,O as bs,B as we,P as ws,g as Bn,a as Ln,Q as bt,R as Ke,T as On,U as Ht,V as ks,W as ys,X as Ss,Y as Is,Z as it,_ as Es,$ as wt,a0 as Cs,a1 as Ts,a2 as Ns,a3 as As,a4 as Ds,a5 as ht,a6 as At,a7 as et,a8 as $s,a9 as Ut,aa as zt,ab as Fs,ac as Vs,ad as qt,ae as Rs,af as Qt,ag as Xt,ah as Ps,ai as Bs,aj as Ls,ak as jn,al as Os,am as js,an as Ms,k as Hs,ao as Us,ap as zs,m as qs,aq as Qs,ar as Xs,as as Gs,at as Ws,au as Js,av as Ks,d as nt,M as Gt,aw as Ys,ax as Zs,ay as Wt,az as xs,aA as ei,S as ti,o as li,aB as ni,aC as si}from"../chunks/BNTT2V-8.js";import{e as he,u as Dt,o as Mn,c as $t,I as Ue,f as ii}from"../chunks/GZZfrk-c.js";/* empty css                */import{w as Hn}from"../chunks/B7C6BzLZ.js";const ri=!1;function oi(l,e,t,n){if(!e)return Z;const s=l.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return Z;const{delay:i=0,duration:r=300,easing:a=Cn,start:o=An()+i,end:u=o+r,tick:f=Z,css:c}=t(l,{from:e,to:s},n);let d=!0,h=!1,m;function p(){c&&(m=hs(l,0,1,r,i,a,c)),i||(h=!0)}function _(){c&&ms(l,m),d=!1}return Dn(g=>{if(!h&&g>=o&&(h=!0),h&&g>=u&&(f(1,0),_()),!d)return!1;if(h){const w=g-o,k=0+1*a(w/r);f(k,1-k)}return!0}),p(),f(0,1),_}function ai(l){const e=getComputedStyle(l);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,s=l.getBoundingClientRect();l.style.position="absolute",l.style.width=t,l.style.height=n,Un(l,s)}}function Un(l,e){const t=l.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(l),s=n.transform==="none"?"":n.transform;l.style.transform=`${s} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function ui({fallback:l,...e}){const t=new Map,n=new Map;function s(r,a,o){const{delay:u=0,duration:f=A=>Math.sqrt(A)*30,easing:c=$n}=at(at({},e),o),d=r.getBoundingClientRect(),h=a.getBoundingClientRect(),m=d.left-h.left,p=d.top-h.top,_=d.width/h.width,g=d.height/h.height,w=Math.sqrt(m*m+p*p),k=getComputedStyle(a),S=k.transform==="none"?"":k.transform,I=+k.opacity;return{delay:u,duration:St(f)?f(w):f,easing:c,css:(A,$)=>`
				opacity: ${A*I};
				transform-origin: top left;
				transform: ${S} translate(${$*m}px,${$*p}px) scale(${A+(1-A)*_}, ${A+(1-A)*g});
			`}}function i(r,a,o){return(u,f)=>(r.set(f.key,u),()=>{if(a.has(f.key)){const c=a.get(f.key);return a.delete(f.key),s(c,u,f)}return r.delete(f.key),l&&l(u,f,o)})}return[i(n,t,!1),i(t,n,!0)]}function fi(l){let e,t,n,s;return{c(){e=E("textarea"),this.h()},l(i){e=C(i,"TEXTAREA",{spellcheck:!0,placeholder:!0,style:!0,class:!0}),F(e).forEach(b),this.h()},h(){v(e,"spellcheck","false"),v(e,"placeholder",l[1]),v(e,"style",t=`--white-space:${l[5]};`),e.readOnly=l[3],v(e,"class","svelte-1ilfv2h"),z(e,"strikethrough",l[2])},m(i,r){P(i,e,r),$e(e,l[0]),l[17](e),n||(s=[K(e,"input",l[16]),K(e,"load",l[11]),K(e,"input",l[18]),K(e,"beforeinput",l[12]),K(e,"keydown",l[13]),K(e,"focus",l[14]),K(e,"blur",l[15])],n=!0)},p(i,[r]){r&2&&v(e,"placeholder",i[1]),r&32&&t!==(t=`--white-space:${i[5]};`)&&v(e,"style",t),r&8&&(e.readOnly=i[3]),r&1&&$e(e,i[0]),r&4&&z(e,"strikethrough",i[2])},i:Z,o:Z,d(i){i&&b(e),l[17](null),n=!1,je(s)}}}function ci(l,e,t){let{value:n}=e,{placeholder:s=""}=e,{nowrap:i=!1}=e,{strikethrough:r=!1}=e,{readonly:a=!1}=e,{bold:o=void 0}=e,{textHeight:u=0}=e,f,c,d,h;function m(T){c&&(d!==n||h!==o||T)&&(t(6,c.value=c.value.replace(/\r?\n|\r/g,""),c),t(6,c.style.height="0px",c),t(7,u=c.scrollHeight),t(6,c.style.height=u+"px",c),d=n,h=o)}Be(Y.subscribe(["fontSize"],()=>m(!0))),tt(()=>{requestAnimationFrame(()=>m())});const p=()=>{c.focus()};function _(T){Ye.call(this,l,T)}function g(T){Ye.call(this,l,T)}function w(T){Ye.call(this,l,T)}function k(T){Ye.call(this,l,T)}function S(T){Ye.call(this,l,T)}function I(){n=this.value,t(0,n)}function A(T){re[T?"unshift":"push"](()=>{c=T,t(6,c)})}const $=()=>requestAnimationFrame(()=>m());return l.$$set=T=>{"value"in T&&t(0,n=T.value),"placeholder"in T&&t(1,s=T.placeholder),"nowrap"in T&&t(8,i=T.nowrap),"strikethrough"in T&&t(2,r=T.strikethrough),"readonly"in T&&t(3,a=T.readonly),"bold"in T&&t(9,o=T.bold),"textHeight"in T&&t(7,u=T.textHeight)},l.$$.update=()=>{l.$$.dirty&256&&(i?t(5,f="nowrap"):t(5,f="auto"))},[n,s,r,a,m,f,c,u,i,o,p,_,g,w,k,S,I,A,$]}class Ft extends ge{constructor(e){super(),ve(this,e,ci,fi,me,{value:0,placeholder:1,nowrap:8,strikethrough:2,readonly:3,bold:9,textHeight:7,autoHeight:4,focus:10})}get autoHeight(){return this.$$.ctx[4]}get focus(){return this.$$.ctx[10]}}const pt=Hn(new Map);function di(l){let e,t,n;return{c(){e=Ze("svg"),t=Ze("path"),n=Ze("path"),this.h()},l(s){e=xe(s,"svg",{style:!0,viewBox:!0,fill:!0,stroke:!0,class:!0});var i=F(e);t=xe(i,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),F(t).forEach(b),n=xe(i,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),F(n).forEach(b),i.forEach(b),this.h()},h(){v(t,"d","M68 8L49 29L30 8"),v(t,"stroke","currentColor"),v(t,"stroke-width","10"),v(t,"stroke-linecap","round"),v(t,"stroke-linejoin","round"),v(t,"class","arrowAbove svelte-1q5bq9r"),v(n,"d","M30 92L49 71L68 92"),v(n,"stroke","currentColor"),v(n,"stroke-width","10"),v(n,"stroke-linecap","round"),v(n,"stroke-linejoin","round"),v(n,"class","arrowBelow svelte-1q5bq9r"),v(e,"style",`width:${Jt};height:${Jt};`),v(e,"viewBox","0 0 100 100"),v(e,"fill","none"),v(e,"stroke","var(--text)"),v(e,"class","svelte-1q5bq9r")},m(s,i){P(s,e,i),y(e,t),y(e,n)},p:Z,i:Z,o:Z,d(s){s&&b(e)}}}let Jt="var(--button-size)";class hi extends ge{constructor(e){super(),ve(this,e,null,di,me,{})}}function Kt(l,e,t){const n=l.slice();return n[65]=e[t],n[67]=t,n}function mi(l){var A;let e,t,n,s,i,r,a,o,u,f,c,d,h,m,p,_,g,w=l[5]!=null&&Yt(l),k=((A=l[5])==null?void 0:A.isExtension)&&Zt(l),S=!l[14]&&l[4].children.length==0&&l[4].level<l[17]&&xt(l),I=l[14]&&el(l);return{c(){e=E("div"),t=E("div"),n=E("div"),r=B(),a=E("div"),w&&w.c(),o=B(),k&&k.c(),u=B(),f=E("div"),h=B(),S&&S.c(),m=B(),I&&I.c(),this.h()},l($){e=C($,"DIV",{class:!0,style:!0});var T=F(e);t=C(T,"DIV",{class:!0});var D=F(t);n=C(D,"DIV",{class:!0,role:!0}),F(n).forEach(b),r=L(D),a=C(D,"DIV",{class:!0});var R=F(a);w&&w.l(R),R.forEach(b),o=L(D),k&&k.l(D),u=L(D),f=C(D,"DIV",{class:!0,role:!0}),F(f).forEach(b),D.forEach(b),h=L(T),S&&S.l(T),m=L(T),I&&I.l(T),T.forEach(b),this.h()},h(){var $,T;v(n,"class","line above svelte-lfoydy"),v(n,"role","separator"),z(n,"left",l[4].children.length>0),z(n,"right",l[16]()==0&&l[4].level>1&&!l[1]),v(a,"class","text svelte-lfoydy"),z(a,"crossed",($=l[5])==null?void 0:$.crossed),z(a,"bold",(T=l[5])==null?void 0:T.bold),v(f,"class","line below svelte-lfoydy"),v(f,"role","separator"),v(t,"class","barcontainer svelte-lfoydy"),v(e,"class","content svelte-lfoydy"),v(e,"style","--this-background: none"),z(e,"root",l[5]==null),z(e,"left",l[4].children.length>0),z(e,"right",l[16]()==0&&l[4].level>1&&!l[1])},m($,T){P($,e,T),y(e,t),y(t,n),y(t,r),y(t,a),w&&w.m(a,null),y(t,o),k&&k.m(t,null),y(t,u),y(t,f),y(e,h),S&&S.m(e,null),y(e,m),I&&I.m(e,null),p=!0,_||(g=[K(n,"click",l[35]),K(n,"mousedown",kt),K(f,"click",l[40]),K(f,"mousedown",kt)],_=!0)},p($,T){var D,R,O;(!p||T[0]&16)&&z(n,"left",$[4].children.length>0),(!p||T[0]&65554)&&z(n,"right",$[16]()==0&&$[4].level>1&&!$[1]),$[5]!=null?w?(w.p($,T),T[0]&32&&N(w,1)):(w=Yt($),w.c(),N(w,1),w.m(a,null)):w&&(le(),V(w,1,1,()=>{w=null}),ne()),(!p||T[0]&32)&&z(a,"crossed",(D=$[5])==null?void 0:D.crossed),(!p||T[0]&32)&&z(a,"bold",(R=$[5])==null?void 0:R.bold),(O=$[5])!=null&&O.isExtension?k?(k.p($,T),T[0]&32&&N(k,1)):(k=Zt($),k.c(),N(k,1),k.m(t,u)):k&&(le(),V(k,1,1,()=>{k=null}),ne()),!$[14]&&$[4].children.length==0&&$[4].level<$[17]?S?(S.p($,T),T[0]&16400&&N(S,1)):(S=xt($),S.c(),N(S,1),S.m(e,m)):S&&(le(),V(S,1,1,()=>{S=null}),ne()),$[14]?I?(I.p($,T),T[0]&16384&&N(I,1)):(I=el($),I.c(),N(I,1),I.m(e,null)):I&&(le(),V(I,1,1,()=>{I=null}),ne()),(!p||T[0]&32)&&z(e,"root",$[5]==null),(!p||T[0]&16)&&z(e,"left",$[4].children.length>0),(!p||T[0]&65554)&&z(e,"right",$[16]()==0&&$[4].level>1&&!$[1])},i($){p||($&&Te(()=>{p&&(i&&i.end(1),s=Fe(n,jt,{}),s.start())}),N(w),N(k),$&&Te(()=>{p&&(d&&d.end(1),c=Fe(f,jt,{}),c.start())}),N(S),N(I),p=!0)},o($){s&&s.invalidate(),$&&(i=Xe(n,Mt,{})),V(w),V(k),c&&c.invalidate(),$&&(d=Xe(f,Mt,{})),V(S),V(I),p=!1},d($){$&&b(e),$&&i&&i.end(),w&&w.d(),k&&k.d(),$&&d&&d.end(),S&&S.d(),I&&I.d(),_=!1,je(g)}}}function pi(l){let e;return{c(){e=E("div"),this.h()},l(t){e=C(t,"DIV",{class:!0}),F(e).forEach(b),this.h()},h(){v(e,"class","content svelte-lfoydy")},m(t,n){P(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&b(e)}}}function Yt(l){var f;let e,t,n,s,i;function r(c){l[36](c)}function a(c){l[38](c)}function o(c){l[39](c)}let u={bold:!!l[5].bold,placeholder:l[5].placeholder??(l[4].level==1&&l[16]()==0?"type here":""),readonly:((f=l[5])==null?void 0:f.isExtension)??!1};return l[12]!==void 0&&(u.value=l[12]),l[13]!==void 0&&(u.autoHeight=l[13]),l[7]!==void 0&&(u.textHeight=l[7]),e=new Ft({props:u}),re.push(()=>Se(e,"value",r)),l[37](e),re.push(()=>Se(e,"autoHeight",a)),re.push(()=>Se(e,"textHeight",o)),e.$on("keydown",l[21]),e.$on("blur",l[19]),e.$on("focus",l[20]),e.$on("beforeinput",l[27]),{c(){q(e.$$.fragment)},l(c){Q(e.$$.fragment,c)},m(c,d){X(e,c,d),i=!0},p(c,d){var m;const h={};d[0]&32&&(h.bold=!!c[5].bold),d[0]&48&&(h.placeholder=c[5].placeholder??(c[4].level==1&&c[16]()==0?"type here":"")),d[0]&32&&(h.readonly=((m=c[5])==null?void 0:m.isExtension)??!1),!t&&d[0]&4096&&(t=!0,h.value=c[12],ye(()=>t=!1)),!n&&d[0]&8192&&(n=!0,h.autoHeight=c[13],ye(()=>n=!1)),!s&&d[0]&128&&(s=!0,h.textHeight=c[7],ye(()=>s=!1)),e.$set(h)},i(c){i||(N(e.$$.fragment,c),i=!0)},o(c){V(e.$$.fragment,c),i=!1},d(c){l[37](null),G(e,c)}}}function Zt(l){let e,t,n;return t=new Ue({props:{name:"arrowRightThroughCircle",size:l[7]+"px"}}),{c(){e=E("div"),q(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var i=F(e);Q(t.$$.fragment,i),i.forEach(b),this.h()},h(){v(e,"class","extensionIcon svelte-lfoydy")},m(s,i){P(s,e,i),X(t,e,null),n=!0},p(s,i){const r={};i[0]&128&&(r.size=s[7]+"px"),t.$set(r)},i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){V(t.$$.fragment,s),n=!1},d(s){s&&b(e),G(t)}}}function xt(l){let e,t,n,s,i,r,a;return t=new Ue({props:{name:"add"}}),{c(){e=E("button"),q(t.$$.fragment),this.h()},l(o){e=C(o,"BUTTON",{class:!0});var u=F(e);Q(t.$$.fragment,u),u.forEach(b),this.h()},h(){v(e,"class",n=Ce(`add palette-${l[11]}`)+" svelte-lfoydy")},m(o,u){P(o,e,u),X(t,e,null),i=!0,r||(a=[K(e,"click",l[41]),K(e,"mousedown",kt)],r=!0)},p(o,u){(!i||u[0]&2048&&n!==(n=Ce(`add palette-${o[11]}`)+" svelte-lfoydy"))&&v(e,"class",n)},i(o){i||(N(t.$$.fragment,o),o&&(s||Te(()=>{s=Fe(e,bs,{}),s.start()})),i=!0)},o(o){V(t.$$.fragment,o),i=!1},d(o){o&&b(e),G(t),r=!1,je(a)}}}function el(l){let e,t,n,s,i,r;return t=new hi({}),{c(){e=E("button"),q(t.$$.fragment),this.h()},l(a){e=C(a,"BUTTON",{class:!0});var o=F(e);Q(t.$$.fragment,o),o.forEach(b),this.h()},h(){v(e,"class",n=Ce(`unfoldButton foldParent palette-${l[11]}`)+" svelte-lfoydy")},m(a,o){P(a,e,o),X(t,e,null),s=!0,i||(r=[K(e,"click",l[28]),K(e,"mousedown",kt)],i=!0)},p(a,o){(!s||o[0]&2048&&n!==(n=Ce(`unfoldButton foldParent palette-${a[11]}`)+" svelte-lfoydy"))&&v(e,"class",n)},i(a){s||(N(t.$$.fragment,a),s=!0)},o(a){V(t.$$.fragment,a),s=!1},d(a){a&&b(e),G(t),i=!1,je(r)}}}function tl(l,e){var i;let t,n,s;return n=new zn({props:{id:e[65],addSibling:e[22],deleteSelf:e[23],focusSibling:e[24],focusSiblingStrict:e[25],focusParent:e[26],dispatchSelfFocus:e[18],parentIsEmpty:((i=e[5])==null?void 0:i.empty)??!1}}),n.$on("saveFocus",e[42]),{key:l,first:null,c(){t=Ie(),q(n.$$.fragment),this.h()},l(r){t=Ie(),Q(n.$$.fragment,r),this.h()},h(){this.first=t},m(r,a){P(r,t,a),X(n,r,a),s=!0},p(r,a){var u;e=r;const o={};a[0]&16&&(o.id=e[65]),a[0]&32&&(o.parentIsEmpty=((u=e[5])==null?void 0:u.empty)??!1),n.$set(o)},i(r){s||(N(n.$$.fragment,r),s=!0)},o(r){V(n.$$.fragment,r),s=!1},d(r){r&&b(t),G(n,r)}}}function _i(l){let e,t,n,s,i,r=[],a=new Map,o,u,f,c;const d=[pi,mi],h=[];function m(g,w){var k;return(k=g[5])!=null&&k.empty?0:1}t=m(l),n=h[t]=d[t](l);let p=he(l[4].children);const _=g=>g[65];for(let g=0;g<p.length;g+=1){let w=Kt(l,p,g),k=_(w);a.set(k,r[g]=tl(k,w))}return{c(){e=E("div"),n.c(),s=B(),i=E("ul");for(let g=0;g<r.length;g+=1)r[g].c();this.h()},l(g){e=C(g,"DIV",{class:!0});var w=F(e);n.l(w),s=L(w),i=C(w,"UL",{class:!0});var k=F(i);for(let S=0;S<r.length;S+=1)r[S].l(k);k.forEach(b),w.forEach(b),this.h()},h(){var g;v(i,"class","children svelte-lfoydy"),z(i,"isFolded",l[14]),v(e,"class",o=Ce(`box top palette-${l[10]}`)+" svelte-lfoydy"),z(e,"childless",l[4].children.length==0),z(e,"empty",(g=l[5])==null?void 0:g.empty),z(e,"focus",l[6]==l[0]),z(e,"childFocus",l[9]),z(e,"activeMouse",l[15]),z(e,"highlight",l[9]||l[6]==l[0])},m(g,w){P(g,e,w),h[t].m(e,null),y(e,s),y(e,i);for(let k=0;k<r.length;k+=1)r[k]&&r[k].m(i,null);c=!0},p(g,w){var S;l=g;let k=t;t=m(l),t===k?h[t].p(l,w):(le(),V(h[k],1,1,()=>{h[k]=null}),ne(),n=h[t],n?n.p(l,w):(n=h[t]=d[t](l),n.c()),N(n,1),n.m(e,s)),w[0]&130285616&&(p=he(l[4].children),le(),r=Dt(r,w,_,1,l,p,a,i,Mn,tl,null,Kt),ne()),(!c||w[0]&16384)&&z(i,"isFolded",l[14]),(!c||w[0]&1024&&o!==(o=Ce(`box top palette-${l[10]}`)+" svelte-lfoydy"))&&v(e,"class",o),(!c||w[0]&1040)&&z(e,"childless",l[4].children.length==0),(!c||w[0]&1056)&&z(e,"empty",(S=l[5])==null?void 0:S.empty),(!c||w[0]&1089)&&z(e,"focus",l[6]==l[0]),(!c||w[0]&1536)&&z(e,"childFocus",l[9]),(!c||w[0]&33792)&&z(e,"activeMouse",l[15]),(!c||w[0]&1601)&&z(e,"highlight",l[9]||l[6]==l[0])},i(g){if(!c){N(n);for(let w=0;w<p.length;w+=1)N(r[w]);g&&Te(()=>{c&&(f&&f.end(1),u=Fe(e,ps,{skip:l[5]==null}),u.start())}),c=!0}},o(g){V(n);for(let w=0;w<r.length;w+=1)V(r[w]);u&&u.invalidate(),g&&(f=Xe(e,_s,{skip:l[5]==null})),c=!1},d(g){g&&b(e),h[t].d();for(let w=0;w<r.length;w+=1)r[w].d();g&&f&&f.end()}}}function kt(l){l.preventDefault()}function gi(l,e,t){let n,s,i,r,a,o;de(l,pt,U=>t(33,s=U)),de(l,st,U=>t(34,i=U)),de(l,ft,U=>t(47,r=U)),de(l,ke,U=>t(6,a=U)),de(l,mt,U=>t(15,o=U));let{id:u}=e,{parentIsEmpty:f=!1}=e,c=Y.data.consistentEnterBehaviour.value,d=Y.data.tabReturnsToParent.value,h,m,p=10;function _(){let U=i[u];U!=null&&(t(4,h=U),h.value.tag=="flow"?t(5,m=null):(t(5,m=h.value),requestAnimationFrame(()=>dt&&dt())))}let g;function w(){let U=i[h.parent];if(U==null)return g;let se=U.children.indexOf(u);return se==-1||(g=se),g}let{addSibling:k=()=>!1}=e,{deleteSelf:S=()=>{}}=e,{focusSibling:I=()=>{}}=e,{focusSiblingStrict:A=()=>!1}=e,{focusParent:$=()=>{}}=e,{dispatchSelfFocus:T=()=>{}}=e,R=Bt("invert")(),j=Bt("columnCount")(),M,J=!1,oe=new Set;function pe(U,se){se?oe.add(U):oe.delete(U),t(9,J=oe.size>0)}let ae=!1,Ne=a;function be(){a==u?(T(u,!0),h.level>=1&&ae&&M&&M.focus()):Ne==u&&T(u,!1),Ne=a}tt(()=>{ae=!0,be()}),Be(()=>{T(u,!1)});function ce(){a==u&&ue(ke,a=null,a)}function W(){a!=u&&ue(ke,a=u,a)}let Ve=$t({"control shift":{x:{handle:()=>{m!=null&&m.isExtension||H("crossed")}}},commandControl:{Backspace:{handle:()=>{Me(),S(w()),Re.setPrevAfterFocus(a)}},b:{handle:()=>{m!=null&&m.isExtension||H("bold")}},e:{handle:()=>{!(m!=null&&m.isExtension)&&_e()&&ze(0,0)}}},"alt shift":{Enter:{handle:()=>{let U=i[u];if(U==null)return;let se=Je(i,U.parent);if(se==null)return;let Ee=Ot(i,se,"down");if(Ee==null)return;let He=i[Ee];if(He==null)return;Me(),vt(Ee,0);let Ge=He.children[0];ue(ke,a=Ge,a),Re.setPrevAfterFocus(a)}}},alt:{Enter:{handle:()=>{if(!(m!=null&&m.isExtension))if(c)k(w(),0)&&(I(w(),0),Re.setPrevAfterFocus(a));else{if(Me(),A(w(),-1))return;k(w(),0)&&(I(w(),0),Re.setPrevAfterFocus(a))}}}},shift:{Enter:{handle:()=>{var se;Me();let U=0;h.children[0]&&((se=i[h.children[0]])!=null&&se.value.isExtension)&&(U=1),x(U,0)&&(Pe(U,0),Re.setPrevAfterFocus(a))}},Tab:{handle:()=>{Me(),I(w(),-1)}}},none:{Enter:{handle:()=>{if(c)k(w(),1)&&(I(w(),1),Re.setPrevAfterFocus(a));else{if(Me(),A(w(),1))return;k(w(),1)&&(I(w(),1),Re.setPrevAfterFocus(a))}}},Backspace:{handle:()=>{Me(),S(w()),Re.setPrevAfterFocus(a)},require:()=>(((Qe==null?void 0:Qe.length)??1)==0||((m==null?void 0:m.isExtension)??!1))&&h.children.length==0},ArrowUp:{handle:()=>{Me(),ct("up")||(h.level==1?$():qe())}},ArrowDown:{handle:()=>{Me(),ct("down")||qe()}},Tab:{handle:()=>{Me(),I(w(),1,d)}},ArrowLeft:{handle:()=>{$()}},ArrowRight:{handle:()=>{Me(),h.children.length>0?Pe(0,0):qe()}}},control:{l:{handle:()=>{!n&&h.children.length==0||Jn()}}}});function H(U){const se=Je(i,u);se!=null&&(Fn(se,U),_())}function x(U,se){let Ee=U+se;return h.level<j?(vt(u,Ee),!0):(qe(),!1)}function _e(){var U;return h.children.length>=1&&((U=i[h.children[0]])!=null&&U.value.isExtension)?!1:h.level<j-1?(Vn(u),!0):(qe(),!1)}async function Ae(U){if(h.children.length>1||h.level>=1){if(m!=null&&m.empty&&h.children.length==1){S(w());return}let se=h.children[U];a==se&&ue(ke,a=null,a),await ut();const Ee=i[se]?i[se].value.isExtension:!1;return Rn(se),Ee?qe():h.children[U-1]?Pe(U-1,0):h.children.length==0?qe():U==0&&Pe(0,0),!0}else return Pe(0,0),!1}function Pe(U,se,Ee){let He=U+se;if(He<0){qe();return}if(He>=h.children.length){if(Ee){qe();return}let Ge=i[h.children[h.children.length-1]];if(Ge==null)return;if(Ge.children.length>0){let is=Ge.children[0];ue(ke,a=is,a)}else ue(ke,a=u,a)}else{let Ge=i[h.children[He]];if(Ge==null)return;Ge.value.empty&&se!=0?Pe(He,se,Ee):ue(ke,a=h.children[He],a)}}function Le(U,se){let Ee=U+se;if(Ee<0||Ee>=h.children.length)return!1;let He=i[h.children[Ee]];return He==null?!1:He.value.empty&&se!=0?Le(Ee,se):(ue(ke,a=h.children[Ee],a),!0)}function ze(U,se){if(U>=h.children.length)return!1;let Ee=i[h.children[U]];return!Ee||se>=Ee.children.length?!1:(ue(ke,a=Ee.children[se],a),!0)}function ct(U){let se=Je(i,u);if(se==null)return!1;for(;;){let Ee=Ot(i,se,U);if(Ee==null)return!1;if(gs(i,Ee).unwrap().value.empty){se=Ee;continue}else return ue(ke,a=Ee,a),!0}}function qe(){m!=null&&m.empty?$():ue(ke,a=u,a)}function Me(){a==u&&ue(ke,a=null,a)}let Rt,Pt,Qe;function Xn(){m!=null&&Qe!=m.content&&t(12,Qe=m.content)}let It=!1;function Gn(){It||(It=!0,ue(ft,r={beforeFocusId:u,afterFocusId:u,ownerId:vs(i,u).unwrap(),action(){if(m==null)return{tag:"identity"};const U=Je(i,u);return U==null?{tag:"identity"}:(It=!1,Pn(U,{...m,content:Qe}))}},r))}function Wn(U){let se=Je(i,u);return se==null?!1:U.get(se)??!1}function Jn(){let U=Je(i,u);if(U==null)return;let se=s.get(U)??!1;s.set(U,!se),pt.set(s)}function Kn(){let U=Je(i,u);U!=null&&(s.delete(U),pt.set(s))}let dt;const Yn=()=>{if(m!=null&&m.isExtension)return;k(w(),0)&&(I(w(),0),Re.setPrevAfterFocus(a))};function Zn(U){Qe=U,t(12,Qe)}function xn(U){re[U?"unshift":"push"](()=>{M=U,t(8,M)})}function es(U){dt=U,t(13,dt)}function ts(U){p=U,t(7,p)}const ls=()=>{k(w(),1)&&(I(w(),1),Re.setPrevAfterFocus(a))},ns=()=>{x(0,0),Pe(0,0)};function ss(U){Ye.call(this,l,U)}return l.$$set=U=>{"id"in U&&t(0,u=U.id),"parentIsEmpty"in U&&t(1,f=U.parentIsEmpty),"addSibling"in U&&t(2,k=U.addSibling),"deleteSelf"in U&&t(29,S=U.deleteSelf),"focusSibling"in U&&t(3,I=U.focusSibling),"focusSiblingStrict"in U&&t(30,A=U.focusSiblingStrict),"focusParent"in U&&t(31,$=U.focusParent),"dispatchSelfFocus"in U&&t(32,T=U.dispatchSelfFocus)},l.$$.update=()=>{if(l.$$.dirty[1]&8&&_(),l.$$.dirty[0]&64&&be(),l.$$.dirty[0]&16){let se=h.level%2==0!==R;t(10,Rt=se?"accent-secondary":"accent"),t(11,Pt=se?"accent":"accent-secondary")}l.$$.dirty[0]&32&&Xn(),l.$$.dirty[1]&4&&t(14,n=Wn(s))},[u,f,k,I,h,m,a,p,M,J,Rt,Pt,Qe,dt,n,o,w,j,pe,ce,W,Ve,x,Ae,Pe,Le,qe,Gn,Kn,S,A,$,T,s,i,Yn,Zn,xn,es,ts,ls,ns,ss]}class zn extends ge{constructor(e){super(),ve(this,e,gi,_i,me,{id:0,parentIsEmpty:1,addSibling:2,deleteSelf:29,focusSibling:3,focusSiblingStrict:30,focusParent:31,dispatchSelfFocus:32},null,[-1,-1,-1])}}function vi(l){let e,t,n,s,i,r,a;return r=new we({props:{icon:"add"}}),r.$on("click",function(){St(l[1])&&l[1].apply(this,arguments)}),{c(){e=E("div"),t=E("div"),n=ee(l[0]),s=B(),i=E("div"),q(r.$$.fragment),this.h()},l(o){e=C(o,"DIV",{class:!0});var u=F(e);t=C(u,"DIV",{class:!0});var f=F(t);n=te(f,l[0]),f.forEach(b),s=L(u),i=C(u,"DIV",{class:!0});var c=F(i);Q(r.$$.fragment,c),c.forEach(b),u.forEach(b),this.h()},h(){v(t,"class","text svelte-hup1mp"),v(i,"class","add svelte-hup1mp"),v(e,"class","top svelte-hup1mp")},m(o,u){P(o,e,u),y(e,t),y(t,n),y(e,s),y(e,i),X(r,i,null),a=!0},p(o,[u]){l=o,(!a||u&1)&&De(n,l[0])},i(o){a||(N(r.$$.fragment,o),a=!0)},o(o){V(r.$$.fragment,o),a=!1},d(o){o&&b(e),G(r)}}}function bi(l,e,t){let{column:n}=e,{addEmpty:s}=e;return l.$$set=i=>{"column"in i&&t(0,n=i.column),"addEmpty"in i&&t(1,s=i.addEmpty)},[n,s]}class wi extends ge{constructor(e){super(),ve(this,e,bi,vi,me,{column:0,addEmpty:1})}}function ll(l,e,t){const n=l.slice();return n[8]=e[t],n[10]=t,n}function nl(l,e,t){const n=l.slice();return n[11]=e[t],n[10]=t,n}function sl(l){let e,t,n,s,i;function r(){return l[5](l[10])}return t=new wi({props:{column:l[11],addEmpty:r}}),t.$on("focusFlow",l[6]),{c(){e=E("div"),q(t.$$.fragment),n=B(),this.h()},l(a){e=C(a,"DIV",{class:!0});var o=F(e);Q(t.$$.fragment,o),n=L(o),o.forEach(b),this.h()},h(){v(e,"class",s=Ce(`header palette-${!!(l[10]%2)==l[1].invert?"accent":"accent-secondary"}`)+" svelte-1nplt9v")},m(a,o){P(a,e,o),X(t,e,null),y(e,n),i=!0},p(a,o){l=a;const u={};o&2&&(u.column=l[11]),t.$set(u),(!i||o&2&&s!==(s=Ce(`header palette-${!!(l[10]%2)==l[1].invert?"accent":"accent-secondary"}`)+" svelte-1nplt9v"))&&v(e,"class",s)},i(a){i||(N(t.$$.fragment,a),i=!0)},o(a){V(t.$$.fragment,a),i=!1},d(a){a&&b(e),G(t)}}}function il(l){let e,t;return{c(){e=E("div"),this.h()},l(n){e=C(n,"DIV",{class:!0}),F(e).forEach(b),this.h()},h(){v(e,"class",t=Ce(`column palette-${!!(l[10]%2)==l[1].invert?"plain":"plain-secondary"}`)+" svelte-1nplt9v")},m(n,s){P(n,e,s)},p(n,s){s&2&&t!==(t=Ce(`column palette-${!!(n[10]%2)==n[1].invert?"plain":"plain-secondary"}`)+" svelte-1nplt9v")&&v(e,"class",t)},d(n){n&&b(e)}}}function ki(l){let e,t,n,s,i,r,a,o,u,f,c,d;s=new zn({props:{id:l[0]}});let h=he(l[1].columns),m=[];for(let w=0;w<h.length;w+=1)m[w]=sl(nl(l,h,w));const p=w=>V(m[w],1,1,()=>{m[w]=null});let _=he(l[1].columns),g=[];for(let w=0;w<_.length;w+=1)g[w]=il(ll(l,_,w));return{c(){e=E("div"),t=E("div"),n=E("div"),q(s.$$.fragment),i=B(),r=E("div");for(let w=0;w<m.length;w+=1)m[w].c();a=B(),o=E("div");for(let w=0;w<g.length;w+=1)g[w].c();this.h()},l(w){e=C(w,"DIV",{class:!0,style:!0});var k=F(e);t=C(k,"DIV",{class:!0});var S=F(t);n=C(S,"DIV",{class:!0});var I=F(n);Q(s.$$.fragment,I),I.forEach(b),i=L(S),r=C(S,"DIV",{class:!0});var A=F(r);for(let T=0;T<m.length;T+=1)m[T].l(A);A.forEach(b),a=L(S),o=C(S,"DIV",{class:!0});var $=F(o);for(let T=0;T<g.length;T+=1)g[T].l($);$.forEach(b),S.forEach(b),k.forEach(b),this.h()},h(){v(n,"class","content svelte-1nplt9v"),z(n,"customScrollbar",Y.data.customScrollbar.value),v(r,"class","headers svelte-1nplt9v"),v(o,"class","columns svelte-1nplt9v"),v(t,"class","viewer svelte-1nplt9v"),v(e,"class","top svelte-1nplt9v"),v(e,"style",u=`--column-count: ${l[1].columns.length};`),z(e,"invert",l[1].invert)},m(w,k){P(w,e,k),y(e,t),y(t,n),X(s,n,null),y(t,i),y(t,r);for(let S=0;S<m.length;S+=1)m[S]&&m[S].m(r,null);y(t,a),y(t,o);for(let S=0;S<g.length;S+=1)g[S]&&g[S].m(o,null);f=!0,c||(d=K(n,"scroll",yi),c=!0)},p(w,[k]){const S={};if(k&1&&(S.id=w[0]),s.$set(S),k&6){h=he(w[1].columns);let I;for(I=0;I<h.length;I+=1){const A=nl(w,h,I);m[I]?(m[I].p(A,k),N(m[I],1)):(m[I]=sl(A),m[I].c(),N(m[I],1),m[I].m(r,null))}for(le(),I=h.length;I<m.length;I+=1)p(I);ne()}if(k&2){_=he(w[1].columns);let I;for(I=0;I<_.length;I+=1){const A=ll(w,_,I);g[I]?g[I].p(A,k):(g[I]=il(A),g[I].c(),g[I].m(o,null))}for(;I<g.length;I+=1)g[I].d(1);g.length=_.length}(!f||k&2&&u!==(u=`--column-count: ${w[1].columns.length};`))&&v(e,"style",u),(!f||k&2)&&z(e,"invert",w[1].invert)},i(w){if(!f){N(s.$$.fragment,w);for(let k=0;k<h.length;k+=1)N(m[k]);f=!0}},o(w){V(s.$$.fragment,w),m=m.filter(Boolean);for(let k=0;k<m.length;k+=1)V(m[k]);f=!1},d(w){w&&b(e),G(s),Oe(m,w),Oe(g,w),c=!1,d()}}}function yi(l){const e=l.currentTarget;e.scrollLeft!==0&&(e.scrollLeft=0)}function Si(l,e,t){let n,s,i;de(l,ke,c=>t(7,s=c)),de(l,st,c=>t(4,i=c));let{flowId:r}=e,a;Lt("invert",()=>n.invert),Lt("columnCount",()=>n.columns.length);function o(c){let d=ws(r,c);ue(ke,s=d,s)}const u=c=>o(c);function f(c){Ye.call(this,l,c)}return l.$$set=c=>{"flowId"in c&&t(0,r=c.flowId)},l.$$.update=()=>{l.$$.dirty&17&&i[r]!=null&&t(3,a=i[r]),l.$$.dirty&8&&t(1,n=a.value)},[r,n,o,a,i,u,f]}class Ii extends ge{constructor(e){super(),ve(this,e,Si,ki,me,{flowId:0})}}function Ei(l){let e,t,n,s,i,r,a,o,u,f;function c(h){l[13](h)}let d={nowrap:!0,placeholder:"type name here"};return l[5]!==void 0&&(d.value=l[5]),s=new Ft({props:d}),re.push(()=>Se(s,"value",c)),l[14](s),s.$on("blur",l[7]),s.$on("focus",l[8]),s.$on("keydown",l[9]),s.$on("beforeinput",l[10]),o=new we({props:{icon:"trash",tooltip:"delete flow"}}),o.$on("click",function(){St(l[1])&&l[1].apply(this,arguments)}),{c(){e=E("div"),t=E("div"),n=E("div"),q(s.$$.fragment),r=B(),a=E("div"),q(o.$$.fragment),this.h()},l(h){e=C(h,"DIV",{class:!0});var m=F(e);t=C(m,"DIV",{class:!0});var p=F(t);n=C(p,"DIV",{class:!0});var _=F(n);Q(s.$$.fragment,_),_.forEach(b),r=L(p),a=C(p,"DIV",{class:!0});var g=F(a);Q(o.$$.fragment,g),g.forEach(b),p.forEach(b),m.forEach(b),this.h()},h(){v(n,"class","text svelte-u08vkz"),z(n,"focus",l[0]==l[3]),v(a,"class","button svelte-u08vkz"),v(t,"class",u=Ce(`content palette-${l[6]}`)+" svelte-u08vkz"),v(e,"class",Ce("top")+" svelte-u08vkz"),z(e,"invert",l[2].invert)},m(h,m){P(h,e,m),y(e,t),y(t,n),X(s,n,null),y(t,r),y(t,a),X(o,a,null),f=!0},p(h,[m]){l=h;const p={};!i&&m&32&&(i=!0,p.value=l[5],ye(()=>i=!1)),s.$set(p),(!f||m&9)&&z(n,"focus",l[0]==l[3]),(!f||m&64&&u!==(u=Ce(`content palette-${l[6]}`)+" svelte-u08vkz"))&&v(t,"class",u),(!f||m&4)&&z(e,"invert",l[2].invert)},i(h){f||(N(s.$$.fragment,h),N(o.$$.fragment,h),f=!0)},o(h){V(s.$$.fragment,h),V(o.$$.fragment,h),f=!1},d(h){h&&b(e),l[14](null),G(s),G(o)}}}function Ci(l,e,t){let n,s,i,r;de(l,ft,$=>t(16,s=$)),de(l,ke,$=>t(3,i=$)),de(l,st,$=>t(12,r=$));let{flowId:a}=e,{deleteSelf:o=()=>{}}=e,u,f;function c(){i==a&&ue(ke,i=null,i)}async function d(){await ut(),i!=a&&ue(ke,i=a,i)}function h(){let $=u.children.find(T=>{const D=r[T];return D&&!D.value.empty});$&&ue(ke,i=$,i)}const m=$t({none:{Enter:{handle:h},ArrowDown:{handle:h},ArrowRight:{handle:h}}});function p(){i==a&&f&&f.focus()}tt(p);let _;function g(){_!=n.content&&t(5,_=n.content)}let w=!1;function k(){w||(w=!0,ue(ft,s={beforeFocusId:a,afterFocusId:a,ownerId:a,action(){return w=!1,Pn(a,{...n,content:_})}},s))}let S="plain";function I($){_=$,t(5,_)}function A($){re[$?"unshift":"push"](()=>{f=$,t(4,f)})}return l.$$set=$=>{"flowId"in $&&t(0,a=$.flowId),"deleteSelf"in $&&t(1,o=$.deleteSelf)},l.$$.update=()=>{if(l.$$.dirty&4097){let $=r[a];$!=null&&t(11,u=$)}l.$$.dirty&2048&&t(2,n=u.value),l.$$.dirty&8&&p(),l.$$.dirty&4&&g(),l.$$.dirty&4&&(n.invert?t(6,S="accent-secondary"):t(6,S="accent"))},[a,o,n,i,f,_,S,c,d,m,k,u,r,I,A]}class Ti extends ge{constructor(e){super(),ve(this,e,Ci,Ei,me,{flowId:0,deleteSelf:1})}}function rl(l,e,t){const n=l.slice();return n[13]=e[t],n}function ol(l,e,t){const n=l.slice();return n[13]=e[t],n}function al(l){let e,t;const n=[l[13]];let s={};for(let i=0;i<n.length;i+=1)s=at(s,n[i]);return e=new we({props:s}),{c(){q(e.$$.fragment)},l(i){Q(e.$$.fragment,i)},m(i,r){X(e,i,r),t=!0},p(i,r){const a=r&8?Bn(n,[Ln(i[13])]):{};e.$set(a)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){G(e,i)}}}function ul(l){let e,t;return e=new we({props:{icon:l[1]?"delete":"ellipses"}}),e.$on("click",l[7]),{c(){q(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){X(e,n,s),t=!0},p(n,s){const i={};s&2&&(i.icon=n[1]?"delete":"ellipses"),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function fl(l){let e,t,n,s=he(l[2]),i=[];for(let a=0;a<s.length;a+=1)i[a]=cl(rl(l,s,a));const r=a=>V(i[a],1,1,()=>{i[a]=null});return{c(){e=E("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=C(a,"DIV",{class:!0});var o=F(e);for(let u=0;u<i.length;u+=1)i[u].l(o);o.forEach(b),this.h()},h(){v(e,"class","hidden svelte-1w0szyh")},m(a,o){P(a,e,o);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);n=!0},p(a,o){if(o&4){s=he(a[2]);let u;for(u=0;u<s.length;u+=1){const f=rl(a,s,u);i[u]?(i[u].p(f,o),N(i[u],1)):(i[u]=cl(f),i[u].c(),N(i[u],1),i[u].m(e,null))}for(le(),u=s.length;u<i.length;u+=1)r(u);ne()}},i(a){if(!n){for(let o=0;o<s.length;o+=1)N(i[o]);a&&Te(()=>{n&&(t||(t=lt(e,bt,{},!0)),t.run(1))}),n=!0}},o(a){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)V(i[o]);a&&(t||(t=lt(e,bt,{},!1)),t.run(0)),n=!1},d(a){a&&b(e),Oe(i,a),a&&t&&t.end()}}}function cl(l){let e,t;const n=[l[13]];let s={};for(let i=0;i<n.length;i+=1)s=at(s,n[i]);return e=new we({props:s}),{c(){q(e.$$.fragment)},l(i){Q(e.$$.fragment,i)},m(i,r){X(e,i,r),t=!0},p(i,r){const a=r&4?Bn(n,[Ln(i[13])]):{};e.$set(a)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){G(e,i)}}}function Ni(l){let e,t,n,s,i,r,a,o=he(l[3]),u=[];for(let h=0;h<o.length;h+=1)u[h]=al(ol(l,o,h));const f=h=>V(u[h],1,1,()=>{u[h]=null});let c=l[2].length>0&&ul(l),d=l[1]&&l[2].length>0&&fl(l);return{c(){e=E("div"),t=E("div"),n=E("div");for(let h=0;h<u.length;h+=1)u[h].c();s=B(),i=E("div"),c&&c.c(),r=B(),d&&d.c(),this.h()},l(h){e=C(h,"DIV",{class:!0});var m=F(e);t=C(m,"DIV",{class:!0});var p=F(t);n=C(p,"DIV",{class:!0});var _=F(n);for(let w=0;w<u.length;w+=1)u[w].l(_);_.forEach(b),s=L(p),i=C(p,"DIV",{class:!0});var g=F(i);c&&c.l(g),r=L(g),d&&d.l(g),g.forEach(b),p.forEach(b),m.forEach(b),this.h()},h(){v(n,"class","showButtons svelte-1w0szyh"),v(i,"class","hideButtons svelte-1w0szyh"),v(t,"class","buttons svelte-1w0szyh"),v(e,"class","top svelte-1w0szyh"),z(e,"allButtonsHidden",l[3].length==0)},m(h,m){P(h,e,m),y(e,t),y(t,n);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(n,null);y(t,s),y(t,i),c&&c.m(i,null),y(i,r),d&&d.m(i,null),l[8](e),a=!0},p(h,[m]){if(m&8){o=he(h[3]);let p;for(p=0;p<o.length;p+=1){const _=ol(h,o,p);u[p]?(u[p].p(_,m),N(u[p],1)):(u[p]=al(_),u[p].c(),N(u[p],1),u[p].m(n,null))}for(le(),p=o.length;p<u.length;p+=1)f(p);ne()}h[2].length>0?c?(c.p(h,m),m&4&&N(c,1)):(c=ul(h),c.c(),N(c,1),c.m(i,r)):c&&(le(),V(c,1,1,()=>{c=null}),ne()),h[1]&&h[2].length>0?d?(d.p(h,m),m&6&&N(d,1)):(d=fl(h),d.c(),N(d,1),d.m(i,null)):d&&(le(),V(d,1,1,()=>{d=null}),ne()),(!a||m&8)&&z(e,"allButtonsHidden",h[3].length==0)},i(h){if(!a){for(let m=0;m<o.length;m+=1)N(u[m]);N(c),N(d),a=!0}},o(h){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)V(u[m]);V(c),V(d),a=!1},d(h){h&&b(e),Oe(u,h),c&&c.d(),d&&d.d(),l[8](null)}}}function Ai(l,e,t){let n,s,{buttons:i}=e,{showCount:r=i.length}=e,{resize:a=!1}=e,o,u=Y.data.buttonSize.value,f=Y.data.padding.value;a&&(Be(Y.subscribe(["padding"],_=>{f=Y.data[_].value,d()})),Be(Y.subscribe(["buttonSize"],_=>{u=Y.data[_].value,d()})));let c;tt(()=>{a&&(c=new ResizeObserver(d),c.observe(o))}),Be(()=>{a&&c.unobserve(o)});function d(){if(o==null)return;let _=o.clientWidth;t(4,r=Math.max(0,Math.floor((_+f)/(u+f*3))-1)),r==i.length-1&&t(4,r=i.length)}let h=!1;const m=()=>t(1,h=!h);function p(_){re[_?"unshift":"push"](()=>{o=_,t(0,o)})}return l.$$set=_=>{"buttons"in _&&t(5,i=_.buttons),"showCount"in _&&t(4,r=_.showCount),"resize"in _&&t(6,a=_.resize)},l.$$.update=()=>{l.$$.dirty&48&&t(3,n=i.slice(0,r)),l.$$.dirty&48&&t(2,s=i.slice(r))},[o,h,s,n,r,i,a,m,p]}class qn extends ge{constructor(e){super(),ve(this,e,Ai,Ni,me,{buttons:5,showCount:4,resize:6})}}function Di(l){let e,t,n,s,i;return t=new qn({props:{buttons:[...l[0],...l[1]],showCount:l[0].length}}),{c(){e=E("div"),q(t.$$.fragment),this.h()},l(r){e=C(r,"DIV",{class:!0});var a=F(e);Q(t.$$.fragment,a),a.forEach(b),this.h()},h(){v(e,"class","top svelte-aroqqm")},m(r,a){P(r,e,a),X(t,e,null),n=!0,s||(i=K(e,"mousedown",$i),s=!0)},p(r,[a]){const o={};a&3&&(o.buttons=[...r[0],...r[1]]),a&1&&(o.showCount=r[0].length),t.$set(o)},i(r){n||(N(t.$$.fragment,r),n=!0)},o(r){V(t.$$.fragment,r),n=!1},d(r){r&&b(e),G(t),s=!1,i()}}}let We="no cell selected";function $i(l){l.preventDefault()}function Fi(l,e,t){let n,s,i,r,a,o;de(l,pt,R=>t(6,n=R)),de(l,ft,R=>t(7,s=R)),de(l,st,R=>t(8,i=R)),de(l,ke,R=>t(9,r=R)),de(l,Ke,R=>t(10,a=R)),de(l,On,R=>t(11,o=R));let{flowId:u}=e,f=null;async function c(){if(await ut(),r==null){t(3,f=null);return}t(3,f=Je(i,o[u]))}rs(function(){c()});function d(){if(f==null)return null;let R=i[f];return R??null}async function h(){if(f==null)return;let R=i[f];if(R==null)return;let O=i[R.parent];if(O!=null&&(R.children.length>1||O.level>=1)){ue(ke,r=null,r);let j=O.children.indexOf(f);await ut(),Rn(f),R.children.length<=0?ue(ke,r=R.parent,r):j>=O.children.length?ue(ke,r=O.children[O.children.length-1],r):ue(ke,r=O.children[j],r),Re.setPrevAfterFocus(r)}}function m(){var M;if(f==null||a==null)return;let R=i[f];if(R==null)return;let O=i[a];if(O==null)return;let j=0;R.children[0]&&((M=i[R.children[0]])!=null&&M.value.isExtension)&&(j=1),R.level<O.value.columns.length&&vt(f,j)}function p(R){if(f==null)return;let O=i[f];if(O==null)return;let j=i[O.parent];if(j==null)return;let J=j.children.indexOf(f)+R;vt(O.parent,J)}function _(){var j,M;if(f==null||a==null)return;let R=i[f];if(R==null)return;let O=i[a];if(O!=null&&!(R.children.length>=1&&((j=i[R.children[0]])!=null&&j.value.isExtension))&&R.level<O.value.columns.length-1){Vn(f);const J=(M=i[R.children[0]])==null?void 0:M.children[0];ue(ke,r=J||f,r);return}}function g(R){f!=null&&Fn(f,R)}function w(){f!=null&&(n.get(f)?n.delete(f):n.set(f,!0),pt.set(n))}let k=S();function S(){var R,O,j,M,J,oe,pe,ae,Ne,be,ce,W,ie,Ve,H,x,_e,Ae,Pe,Le,ze,ct;return{showUndoRedoButtons:[{icon:"undo",disabled:!Re.canUndo(u,s),onclick:()=>{Re.undo(u,s)},tooltip:"undo",shortcut:["commandControl","z"],disabledReason:"nothing to undo"},{disabled:!Re.canRedo(u,s),icon:"redo",onclick:()=>{Re.redo(u,s)},tooltip:"redo",shortcut:["commandControl","shift","z"],disabledReason:"nothing to redo"}],showBoxCreationButtons:[{icon:"addRight",onclick:m,disabled:f==null,tooltip:"add response",shortcut:["shift","return"],disabledReason:We},{icon:"addUp",onclick:()=>p(0),disabled:f==null||((R=d())==null?void 0:R.value.isExtension),tooltip:"add argument above",shortcut:["option","return"],disabledReason:(O=d())!=null&&O.value.isExtension?"can't add responses above extensions":We},{icon:"addDown",onclick:()=>p(1),disabled:f==null,tooltip:"add argument below",shortcut:["return"],disabledReason:We},{icon:"trash",onclick:h,disabled:f==null,tooltip:"delete selected",shortcut:["commandControl","delete"],disabledReason:We}],showQuickExtensionButtons:[{icon:"arrowRightThroughCircle",onclick:_,disabled:f==null||((j=d())==null?void 0:j.children[0])&&((J=i[(M=d())==null?void 0:M.children[0]])==null?void 0:J.value.isExtension)||((oe=d())==null?void 0:oe.value.isExtension),tooltip:"extend selected",shortcut:["commandControl","e"],disabledReason:(pe=d())!=null&&pe.children[0]&&((Ne=i[(ae=d())==null?void 0:ae.children[0]])!=null&&Ne.value.isExtension)?"can't extend an extended argument":(be=d())!=null&&be.value.isExtension?"can't extend an extension":We}],showBoxFormatButtons:[{icon:"cross",onclick:()=>g("crossed"),disabled:f==null||((ce=d())==null?void 0:ce.value.isExtension),tooltip:"toggle crossed out",shortcut:["commandControl","shift","x"],toggled:(ie=(W=d())==null?void 0:W.value)==null?void 0:ie.crossed,disabledReason:(Ve=d())!=null&&Ve.value.isExtension?"can't cross out an extension":We},{icon:"letterB",onclick:()=>g("bold"),disabled:f==null||((H=d())==null?void 0:H.value.isExtension),tooltip:"toggle bold",shortcut:["commandControl","b"],toggled:(_e=(x=d())==null?void 0:x.value)==null?void 0:_e.bold,disabledReason:(Ae=d())!=null&&Ae.value.isExtension?"can't bold an extension":We},{icon:"foldArrows",onclick:()=>w(),disabled:f==null||((Le=(Pe=d())==null?void 0:Pe.children)==null?void 0:Le.length)===0,tooltip:"toggle folded",shortcut:["control","l"],toggled:f!=null&&n.get(f),disabledReason:((ct=(ze=d())==null?void 0:ze.children)==null?void 0:ct.length)===0?"no children to fold":We}]}}function I(){t(4,k=S())}let A={};for(let R of Object.keys(k))A[R]=Y.data[R].value;Be(Y.subscribe(Object.keys(k),R=>{t(5,A[R]=Y.data[R].value,A),t(5,A)}));let $,T;function D(){t(0,$=[]),t(1,T=[]);for(let R of Object.keys(k))A[R]?t(0,$=[...$,...k[R]]):t(1,T=[...T,...k[R]])}return l.$$set=R=>{"flowId"in R&&t(2,u=R.flowId)},l.$$.update=()=>{l.$$.dirty&456&&I(),l.$$.dirty&48&&D()},[$,T,u,f,k,A,n,s,i]}class Vi extends ge{constructor(e){super(),ve(this,e,Fi,Di,me,{flowId:2})}}function Ri(l){let e,t,n,s,i,r="<li>Can reopen file in this editor</li> <li>More data is saved (last focused cell etc.)</li>",a,o,u,f,c="<li>Anyone can view it</li>",d,h,m,p,_,g="Or drag and drop a JSON file anywhere in this window",w;return n=new we({props:{icon:"download",text:"download as JSON",tooltip:"saves JSON file on your computer",tooltipLayout:"top",disabled:l[1].root.children.length==0,disabledReason:"nothing to download",palette:"accent"}}),n.$on("click",l[3]),o=new we({props:{icon:"download",text:"download as XLSX",tooltip:"saves XLSX file on your computer",tooltipLayout:"top",disabled:l[1].root.children.length==0,disabledReason:"nothing to download",palette:"accent-secondary"}}),o.$on("click",l[4]),m=new we({props:{icon:"upload",text:"choose file from computer",tooltip:"upload a JSON file from your computer",tooltipLayout:"top",palette:"accent"}}),m.$on("click",l[2]),{c(){e=E("div"),t=E("section"),q(n.$$.fragment),s=B(),i=E("ul"),i.innerHTML=r,a=B(),q(o.$$.fragment),u=B(),f=E("ul"),f.innerHTML=c,d=B(),h=E("section"),q(m.$$.fragment),p=B(),_=E("p"),_.textContent=g,this.h()},l(k){e=C(k,"DIV",{class:!0});var S=F(e);t=C(S,"SECTION",{class:!0});var I=F(t);Q(n.$$.fragment,I),s=L(I),i=C(I,"UL",{class:!0,"data-svelte-h":!0}),fe(i)!=="svelte-1lnudwd"&&(i.innerHTML=r),a=L(I),Q(o.$$.fragment,I),u=L(I),f=C(I,"UL",{class:!0,"data-svelte-h":!0}),fe(f)!=="svelte-1vt00li"&&(f.innerHTML=c),I.forEach(b),d=L(S),h=C(S,"SECTION",{class:!0});var A=F(h);Q(m.$$.fragment,A),p=L(A),_=C(A,"P",{class:!0,"data-svelte-h":!0}),fe(_)!=="svelte-yohosy"&&(_.textContent=g),A.forEach(b),S.forEach(b),this.h()},h(){v(i,"class","svelte-1a40mq2"),v(f,"class","svelte-1a40mq2"),v(t,"class","download svelte-1a40mq2"),v(_,"class","svelte-1a40mq2"),v(h,"class","upload svelte-1a40mq2"),v(e,"class","top svelte-1a40mq2")},m(k,S){P(k,e,S),y(e,t),X(n,t,null),y(t,s),y(t,i),y(t,a),X(o,t,null),y(t,u),y(t,f),y(e,d),y(e,h),X(m,h,null),y(h,p),y(h,_),w=!0},p(k,[S]){const I={};S&2&&(I.disabled=k[1].root.children.length==0),n.$set(I);const A={};S&2&&(A.disabled=k[1].root.children.length==0),o.$set(A)},i(k){w||(N(n.$$.fragment,k),N(o.$$.fragment,k),N(m.$$.fragment,k),w=!0)},o(k){V(n.$$.fragment,k),V(o.$$.fragment,k),V(m.$$.fragment,k),w=!1},d(k){k&&b(e),G(n),G(o),G(m)}}}function Pi(l,e,t){let n;de(l,st,o=>t(1,n=o));let{closePopup:s}=e;function i(){document.getElementById("uploadId").click(),s()}const r=()=>{Ht(n),ks(n),s()},a=()=>{Ht(n),ys(n),s()};return l.$$set=o=>{"closePopup"in o&&t(0,s=o.closePopup)},[s,n,i,r,a]}class Bi extends ge{constructor(e){super(),ve(this,e,Pi,Ri,me,{closePopup:0})}}function Li(l){let e,t,n,s,i='<div class="switch svelte-8bq301"></div>',r,a,o;return{c(){e=E("label"),t=E("input"),n=B(),s=E("div"),s.innerHTML=i,this.h()},l(u){e=C(u,"LABEL",{class:!0});var f=F(e);t=C(f,"INPUT",{type:!0,class:!0}),n=L(f),s=C(f,"DIV",{class:!0,"data-svelte-h":!0}),fe(s)!=="svelte-17rpx7q"&&(s.innerHTML=i),f.forEach(b),this.h()},h(){v(t,"type","checkbox"),v(t,"class","svelte-8bq301"),v(s,"class","background svelte-8bq301"),v(e,"class",r=Ce(`palette-${l[1]}`)+" svelte-8bq301")},m(u,f){P(u,e,f),y(e,t),t.checked=l[0],y(e,n),y(e,s),a||(o=K(t,"change",l[3]),a=!0)},p(u,[f]){f&1&&(t.checked=u[0]),f&2&&r!==(r=Ce(`palette-${u[1]}`)+" svelte-8bq301")&&v(e,"class",r)},i:Z,o:Z,d(u){u&&b(e),a=!1,o()}}}function Oi(l,e,t){let{value:n=!0}=e,{auto:s=!0}=e,i;function r(){n=this.checked,t(0,n)}return l.$$set=a=>{"value"in a&&t(0,n=a.value),"auto"in a&&t(2,s=a.auto)},l.$$.update=()=>{l.$$.dirty&5&&(n?n==s?t(1,i="accent-secondary"):t(1,i="accent"):t(1,i="plain"))},[n,i,s,r]}class ji extends ge{constructor(e){super(),ve(this,e,Oi,Li,me,{value:0,auto:2})}}function dl(l,e,t){const n=l.slice();return n[12]=e[t],n[14]=t,n}function hl(l){let e,t="default";return{c(){e=E("p"),e.textContent=t,this.h()},l(n){e=C(n,"P",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-1fjeojb"&&(e.textContent=t),this.h()},h(){v(e,"class","optionInfo svelte-1pw4c7y")},m(n,s){P(n,e,s)},d(n){n&&b(e)}}}function ml(l){let e,t,n,s,i,r,a=l[12]+"",o,u,f,c,d,h=l[14]==l[3]&&hl();return f=Nn(l[7][0]),{c(){e=E("label"),t=E("input"),s=B(),i=E("li"),r=E("p"),o=ee(a),u=B(),h&&h.c(),this.h()},l(m){e=C(m,"LABEL",{class:!0});var p=F(e);t=C(p,"INPUT",{type:!0,name:!0,class:!0}),s=L(p),i=C(p,"LI",{class:!0});var _=F(i);r=C(_,"P",{class:!0});var g=F(r);o=te(g,a),g.forEach(b),u=L(_),h&&h.l(_),_.forEach(b),p.forEach(b),this.h()},h(){v(t,"type","radio"),v(t,"name",l[2]),t.checked=n=l[14]==l[0],t.__value=l[14],$e(t,t.__value),v(t,"class","svelte-1pw4c7y"),v(r,"class","svelte-1pw4c7y"),v(i,"class","svelte-1pw4c7y"),v(e,"class","svelte-1pw4c7y"),f.p(t)},m(m,p){P(m,e,p),y(e,t),t.checked=t.__value===l[0],y(e,s),y(e,i),y(i,r),y(r,o),y(i,u),h&&h.m(i,null),c||(d=K(t,"change",l[6]),c=!0)},p(m,p){p&4&&v(t,"name",m[2]),p&1&&n!==(n=m[14]==m[0])&&(t.checked=n),p&1&&(t.checked=t.__value===m[0]),p&2&&a!==(a=m[12]+"")&&De(o,a),m[14]==m[3]?h||(h=hl(),h.c(),h.m(i,null)):h&&(h.d(1),h=null)},d(m){m&&b(e),h&&h.d(),f.r(),c=!1,d()}}}function pl(l){let e,t,n,s,i=!1,r,a,o,u,f,c,d,h,m;function p(w){l[9](w)}let _={placeholder:"custom",nowrap:!0};l[1].customOptionValue!==void 0&&(_.value=l[1].customOptionValue),o=new Ft({props:_}),re.push(()=>Se(o,"value",p)),o.$on("input",l[10]),o.$on("focus",l[11]);let g=l[1].customOptionValue!=""&&_l();return d=Nn(l[7][0]),{c(){e=E("label"),t=E("input"),r=B(),a=E("li"),q(o.$$.fragment),f=B(),g&&g.c(),this.h()},l(w){e=C(w,"LABEL",{class:!0});var k=F(e);t=C(k,"INPUT",{type:!0,name:!0,class:!0}),r=L(k),a=C(k,"LI",{class:!0});var S=F(a);Q(o.$$.fragment,S),f=L(S),g&&g.l(S),S.forEach(b),k.forEach(b),this.h()},h(){v(t,"type","radio"),v(t,"name",l[2]),t.checked=n=l[0]==l[1].options.length,t.__value=s=l[1].options.length,$e(t,t.__value),v(t,"class","svelte-1pw4c7y"),v(a,"class","svelte-1pw4c7y"),v(e,"class","svelte-1pw4c7y"),d.p(t)},m(w,k){P(w,e,k),y(e,t),t.checked=t.__value===l[0],y(e,r),y(e,a),X(o,a,null),y(a,f),g&&g.m(a,null),c=!0,h||(m=K(t,"change",l[8]),h=!0)},p(w,k){(!c||k&4)&&v(t,"name",w[2]),(!c||k&3&&n!==(n=w[0]==w[1].options.length))&&(t.checked=n),(!c||k&2&&s!==(s=w[1].options.length))&&(t.__value=s,$e(t,t.__value),i=!0),(i||k&1)&&(t.checked=t.__value===w[0]);const S={};!u&&k&2&&(u=!0,S.value=w[1].customOptionValue,ye(()=>u=!1)),o.$set(S),w[1].customOptionValue!=""?g||(g=_l(),g.c(),g.m(a,null)):g&&(g.d(1),g=null)},i(w){c||(N(o.$$.fragment,w),c=!0)},o(w){V(o.$$.fragment,w),c=!1},d(w){w&&b(e),G(o),g&&g.d(),d.r(),h=!1,m()}}}function _l(l){let e,t="custom";return{c(){e=E("p"),e.textContent=t,this.h()},l(n){e=C(n,"P",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-o63ojb"&&(e.textContent=t),this.h()},h(){v(e,"class","optionInfo svelte-1pw4c7y")},m(n,s){P(n,e,s)},d(n){n&&b(e)}}}function Mi(l){let e,t,n,s,i,r,a,o,u,f=he(l[1].options),c=[];for(let h=0;h<f.length;h+=1)c[h]=ml(dl(l,f,h));let d=l[1].customOption&&l[1].customOptionValue!=null&&pl(l);return{c(){e=E("div"),t=E("div"),n=E("div"),i=B(),r=E("ul");for(let h=0;h<c.length;h+=1)c[h].c();a=B(),d&&d.c(),this.h()},l(h){e=C(h,"DIV",{class:!0});var m=F(e);t=C(m,"DIV",{class:!0});var p=F(t);n=C(p,"DIV",{class:!0,style:!0}),F(n).forEach(b),p.forEach(b),i=L(m),r=C(m,"UL",{class:!0});var _=F(r);for(let g=0;g<c.length;g+=1)c[g].l(_);a=L(_),d&&d.l(_),_.forEach(b),m.forEach(b),this.h()},h(){v(n,"class","switch svelte-1pw4c7y"),v(n,"style",s=`--pos:calc(${l[0]} * (var(--button-size) + var(--padding) * 2) + var(--padding-small))`),v(t,"class","background svelte-1pw4c7y"),v(r,"class","svelte-1pw4c7y"),v(e,"class",o=Ce(`top palette-${l[4]}`)+" svelte-1pw4c7y")},m(h,m){P(h,e,m),y(e,t),y(t,n),y(e,i),y(e,r);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(r,null);y(r,a),d&&d.m(r,null),u=!0},p(h,[m]){if((!u||m&1&&s!==(s=`--pos:calc(${h[0]} * (var(--button-size) + var(--padding) * 2) + var(--padding-small))`))&&v(n,"style",s),m&15){f=he(h[1].options);let p;for(p=0;p<f.length;p+=1){const _=dl(h,f,p);c[p]?c[p].p(_,m):(c[p]=ml(_),c[p].c(),c[p].m(r,a))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}h[1].customOption&&h[1].customOptionValue!=null?d?(d.p(h,m),m&2&&N(d,1)):(d=pl(h),d.c(),N(d,1),d.m(r,null)):d&&(le(),V(d,1,1,()=>{d=null}),ne()),(!u||m&16&&o!==(o=Ce(`top palette-${h[4]}`)+" svelte-1pw4c7y"))&&v(e,"class",o)},i(h){u||(N(d),u=!0)},o(h){V(d),u=!1},d(h){h&&b(e),Oe(c,h),d&&d.d()}}}function Hi(l,e,t){let n,{name:s}=e,{value:i}=e,{auto:r}=e;const a=Tn();let{detail:o}=e;const u=[[]];function f(){i=this.__value,t(0,i)}function c(){i=this.__value,t(0,i)}function d(p){l.$$.not_equal(o.customOptionValue,p)&&(o.customOptionValue=p,t(1,o))}const h=()=>a("forceUpdate"),m=()=>t(0,i=o.options.length);return l.$$set=p=>{"name"in p&&t(2,s=p.name),"value"in p&&t(0,i=p.value),"auto"in p&&t(3,r=p.auto),"detail"in p&&t(1,o=p.detail)},l.$$.update=()=>{l.$$.dirty&9&&t(4,n=r==i?"accent-secondary":"accent")},[i,o,s,r,n,a,f,u,c,d,h,m]}class Ui extends ge{constructor(e){super(),ve(this,e,Hi,Mi,me,{name:2,value:0,auto:3,detail:1})}}function zi(l){let e,t,n,s,i,r,a,o,u,f,c,d,h,m,p,_,g,w;return{c(){e=E("div"),t=E("label"),n=E("div"),i=B(),r=E("input"),f=B(),c=E("label"),d=E("input"),this.h()},l(k){e=C(k,"DIV",{class:!0,style:!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,role:!0,tabindex:!0});var S=F(e);t=C(S,"LABEL",{class:!0});var I=F(t);n=C(I,"DIV",{class:!0,style:!0}),F(n).forEach(b),i=L(I),r=C(I,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),I.forEach(b),f=L(S),c=C(S,"LABEL",{class:!0});var A=F(c);d=C(A,"INPUT",{type:!0,class:!0}),A.forEach(b),S.forEach(b),this.h()},h(){v(n,"class","switch svelte-zo9dqx"),v(n,"style",s=`
      left: calc(var(--padding-small) + ${(Math.max(Math.min(l[0],l[1].max),l[1].min)-l[1].min)/(l[1].max-l[1].min)} * (100% - var(--button-size) - var(--padding-small) * 2));
      transition: left ${l[2]?"0":"var(--transition-speed)"}
      , background var(--transition-speed);`),v(r,"class","slider svelte-zo9dqx"),v(r,"type","range"),v(r,"min",a=l[1].min),v(r,"max",o=l[1].max),v(r,"step",u=l[1].step),v(t,"class","svelte-zo9dqx"),v(d,"type","number"),v(d,"class","svelte-zo9dqx"),v(c,"class","small svelte-zo9dqx"),v(e,"class",h=Ce(`top palette-${l[3]}`)+" svelte-zo9dqx"),v(e,"style",m=`--value: ${l[0]}`),v(e,"aria-valuemin",p=l[1].min),v(e,"aria-valuemax",_=l[1].max),v(e,"aria-valuenow",l[0]),v(e,"role","slider"),v(e,"tabindex","0"),z(e,"hue",l[1].hue)},m(k,S){P(k,e,S),y(e,t),y(t,n),y(t,i),y(t,r),$e(r,l[0]),y(e,f),y(e,c),y(c,d),$e(d,l[0]),g||(w=[K(r,"change",l[8]),K(r,"input",l[8]),K(d,"input",l[9]),K(e,"mousedown",l[4]),K(e,"mousemove",l[5]),K(e,"mouseup",l[6])],g=!0)},p(k,[S]){S&7&&s!==(s=`
      left: calc(var(--padding-small) + ${(Math.max(Math.min(k[0],k[1].max),k[1].min)-k[1].min)/(k[1].max-k[1].min)} * (100% - var(--button-size) - var(--padding-small) * 2));
      transition: left ${k[2]?"0":"var(--transition-speed)"}
      , background var(--transition-speed);`)&&v(n,"style",s),S&2&&a!==(a=k[1].min)&&v(r,"min",a),S&2&&o!==(o=k[1].max)&&v(r,"max",o),S&2&&u!==(u=k[1].step)&&v(r,"step",u),S&1&&$e(r,k[0]),S&1&&Et(d.value)!==k[0]&&$e(d,k[0]),S&8&&h!==(h=Ce(`top palette-${k[3]}`)+" svelte-zo9dqx")&&v(e,"class",h),S&1&&m!==(m=`--value: ${k[0]}`)&&v(e,"style",m),S&2&&p!==(p=k[1].min)&&v(e,"aria-valuemin",p),S&2&&_!==(_=k[1].max)&&v(e,"aria-valuemax",_),S&1&&v(e,"aria-valuenow",k[0]),S&10&&z(e,"hue",k[1].hue)},i:Z,o:Z,d(k){k&&b(e),g=!1,je(w)}}}function qi(l,e,t){let n,{value:s}=e,{auto:i}=e,{detail:r}=e,a=!1,o=!1,u=0;function f(p){a=!0,u=p.pageX,t(2,o=!1)}function c(p){a&&Math.abs(u-p.pageX)>3&&t(2,o=!0)}function d(p){a=!1,t(2,o=!1)}function h(){s=Et(this.value),t(0,s)}function m(){s=Et(this.value),t(0,s)}return l.$$set=p=>{"value"in p&&t(0,s=p.value),"auto"in p&&t(7,i=p.auto),"detail"in p&&t(1,r=p.detail)},l.$$.update=()=>{l.$$.dirty&129&&t(3,n=i==s?"accent-secondary":"accent")},[s,r,o,n,f,c,d,i,h,m]}class Qi extends ge{constructor(e){super(),ve(this,e,qi,zi,me,{value:0,auto:7,detail:1})}}function gl(l){return Object.prototype.toString.call(l)==="[object Date]"}function Ct(l,e){if(l===e||l!==l)return()=>l;const t=typeof l;if(t!==typeof e||Array.isArray(l)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(l)){const n=e.map((s,i)=>Ct(l[i],s));return s=>n.map(i=>i(s))}if(t==="object"){if(!l||!e)throw new Error("Object cannot be null");if(gl(l)&&gl(e)){l=l.getTime(),e=e.getTime();const i=e-l;return r=>new Date(l+r*i)}const n=Object.keys(e),s={};return n.forEach(i=>{s[i]=Ct(l[i],e[i])}),i=>{const r={};return n.forEach(a=>{r[a]=s[a](i)}),r}}if(t==="number"){const n=e-l;return s=>l+s*n}throw new Error(`Cannot interpolate ${t} values`)}function vl(l,e={}){const t=Hn(l);let n,s=l;function i(r,a){if(l==null)return t.set(l=r),Promise.resolve();s=r;let o=n,u=!1,{delay:f=0,duration:c=400,easing:d=Cn,interpolate:h=Ct}=at(at({},e),a);if(c===0)return o&&(o.abort(),o=null),t.set(l=s),Promise.resolve();const m=An()+f;let p;return n=Dn(_=>{if(_<m)return!0;u||(p=h(l,r),typeof c=="function"&&(c=c(l,r)),u=!0),o&&(o.abort(),o=null);const g=_-m;return g>c?(t.set(l=r),!1):(t.set(l=p(d(g/c))),!0)}),n.promise}return{set:i,update:(r,a)=>i(r(s,l),a),subscribe:t.subscribe}}function Xi(l){let e,t,n,s,i,r,a;return{c(){e=E("label"),t=E("input"),n=B(),s=E("div"),this.h()},l(o){e=C(o,"LABEL",{class:!0});var u=F(e);t=C(u,"INPUT",{type:!0,class:!0}),n=L(u),s=C(u,"DIV",{class:!0,style:!0}),F(s).forEach(b),u.forEach(b),this.h()},h(){v(t,"type","color"),v(t,"class","svelte-1pkld73"),v(s,"class","background svelte-1pkld73"),v(s,"style",i=`--current-selector-color:${l[0]}`),v(e,"class","palette-plain svelte-1pkld73")},m(o,u){P(o,e,u),y(e,t),$e(t,l[0]),y(e,n),y(e,s),r||(a=K(t,"input",l[1]),r=!0)},p(o,[u]){u&1&&$e(t,o[0]),u&1&&i!==(i=`--current-selector-color:${o[0]}`)&&v(s,"style",i)},i:Z,o:Z,d(o){o&&b(e),r=!1,a()}}}function Gi(l,e,t){let{value:n="#ffffff"}=e;function s(){n=this.value,t(0,n)}return l.$$set=i=>{"value"in i&&t(0,n=i.value)},[n,s]}class Wi extends ge{constructor(e){super(),ve(this,e,Gi,Xi,me,{value:0})}}function bl(l){let e,t,n;function s(r){l[9](r)}let i={auto:l[0].auto};return l[1]!==void 0&&(i.value=l[1]),e=new ji({props:i}),re.push(()=>Se(e,"value",s)),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,a){X(e,r,a),n=!0},p(r,a){const o={};a&1&&(o.auto=r[0].auto),!t&&a&2&&(t=!0,o.value=r[1],ye(()=>t=!1)),e.$set(o)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function wl(l){let e,t,n;function s(r){l[10](r)}let i={};return l[1]!==void 0&&(i.value=l[1]),e=new Wi({props:i}),re.push(()=>Se(e,"value",s)),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,a){X(e,r,a),n=!0},p(r,a){const o={};!t&&a&2&&(t=!0,o.value=r[1],ye(()=>t=!1)),e.$set(o)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function kl(l){let e,t=l[0].info+"",n;return{c(){e=E("p"),n=ee(t),this.h()},l(s){e=C(s,"P",{class:!0});var i=F(e);n=te(i,t),i.forEach(b),this.h()},h(){v(e,"class","info svelte-wxkoz7")},m(s,i){P(s,e,i),y(e,n)},p(s,i){i&1&&t!==(t=s[0].info+"")&&De(n,t)},d(s){s&&b(e)}}}function yl(l){let e,t,n;function s(r){l[11](r)}let i={name:l[0].name,auto:l[0].auto,detail:l[0].detail};return l[1]!==void 0&&(i.value=l[1]),e=new Ui({props:i}),re.push(()=>Se(e,"value",s)),e.$on("forceUpdate",l[12]),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,a){X(e,r,a),n=!0},p(r,a){const o={};a&1&&(o.name=r[0].name),a&1&&(o.auto=r[0].auto),a&1&&(o.detail=r[0].detail),!t&&a&2&&(t=!0,o.value=r[1],ye(()=>t=!1)),e.$set(o)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function Sl(l){let e,t,n;function s(r){l[13](r)}let i={auto:l[0].auto,detail:l[0].detail};return l[1]!==void 0&&(i.value=l[1]),e=new Qi({props:i}),re.push(()=>Se(e,"value",s)),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,a){X(e,r,a),n=!0},p(r,a){const o={};a&1&&(o.auto=r[0].auto),a&1&&(o.detail=r[0].detail),!t&&a&2&&(t=!0,o.value=r[1],ye(()=>t=!1)),e.$set(o)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function Il(l){let e,t=l[0].info+"",n;return{c(){e=E("p"),n=ee(t),this.h()},l(s){e=C(s,"P",{class:!0});var i=F(e);n=te(i,t),i.forEach(b),this.h()},h(){v(e,"class","info svelte-wxkoz7")},m(s,i){P(s,e,i),y(e,n)},p(s,i){i&1&&t!==(t=s[0].info+"")&&De(n,t)},d(s){s&&b(e)}}}function Ji(l){let e,t,n,s,i,r,a,o=l[0].name+"",u,f,c,d,h,m,p,_,g,w,k,S,I;d=new we({props:{icon:"arrowRoundLeft",tooltip:"reset to default",tooltipLayout:"right"}}),d.$on("click",l[6]);let A=l[0].type=="toggle"&&bl(l),$=l[0].type=="color"&&wl(l),T=l[0].info&&l[0].type!="toggle"&&l[0].type!="color"&&kl(l),D=l[0].type=="radio"&&yl(l),R=l[0].type=="slider"&&Sl(l),O=l[0].info&&(l[0].type=="toggle"||l[0].type=="color")&&Il(l);return{c(){e=E("div"),t=E("div"),s=B(),i=E("span"),r=E("div"),a=E("h2"),u=ee(o),f=B(),c=E("div"),q(d.$$.fragment),h=B(),A&&A.c(),m=B(),$&&$.c(),p=B(),T&&T.c(),_=B(),D&&D.c(),g=B(),R&&R.c(),w=B(),O&&O.c(),this.h()},l(j){e=C(j,"DIV",{class:!0});var M=F(e);t=C(M,"DIV",{class:!0,style:!0});var J=F(t);J.forEach(b),s=L(M),i=C(M,"SPAN",{class:!0});var oe=F(i);r=C(oe,"DIV",{class:!0});var pe=F(r);a=C(pe,"H2",{class:!0});var ae=F(a);u=te(ae,o),ae.forEach(b),f=L(pe),c=C(pe,"DIV",{class:!0});var Ne=F(c);Q(d.$$.fragment,Ne),Ne.forEach(b),pe.forEach(b),h=L(oe),A&&A.l(oe),m=L(oe),$&&$.l(oe),p=L(oe),T&&T.l(oe),oe.forEach(b),_=L(M),D&&D.l(M),g=L(M),R&&R.l(M),w=L(M),O&&O.l(M),M.forEach(b),this.h()},h(){v(t,"class","spotlight svelte-wxkoz7"),v(t,"style",n=`--spotlight:${l[4]}`),v(a,"class","svelte-wxkoz7"),v(c,"class","reset svelte-wxkoz7"),z(c,"hidden",l[1]==l[0].auto),v(r,"class","titleReset svelte-wxkoz7"),v(i,"class","above svelte-wxkoz7"),v(e,"class","top svelte-wxkoz7")},m(j,M){P(j,e,M),y(e,t),y(e,s),y(e,i),y(i,r),y(r,a),y(a,u),y(r,f),y(r,c),X(d,c,null),y(i,h),A&&A.m(i,null),y(i,m),$&&$.m(i,null),y(i,p),T&&T.m(i,null),y(e,_),D&&D.m(e,null),y(e,g),R&&R.m(e,null),y(e,w),O&&O.m(e,null),l[14](e),I=!0},p(j,[M]){(!I||M&16&&n!==(n=`--spotlight:${j[4]}`))&&v(t,"style",n),(!I||M&1)&&o!==(o=j[0].name+"")&&De(u,o),(!I||M&3)&&z(c,"hidden",j[1]==j[0].auto),j[0].type=="toggle"?A?(A.p(j,M),M&1&&N(A,1)):(A=bl(j),A.c(),N(A,1),A.m(i,m)):A&&(le(),V(A,1,1,()=>{A=null}),ne()),j[0].type=="color"?$?($.p(j,M),M&1&&N($,1)):($=wl(j),$.c(),N($,1),$.m(i,p)):$&&(le(),V($,1,1,()=>{$=null}),ne()),j[0].info&&j[0].type!="toggle"&&j[0].type!="color"?T?T.p(j,M):(T=kl(j),T.c(),T.m(i,null)):T&&(T.d(1),T=null),j[0].type=="radio"?D?(D.p(j,M),M&1&&N(D,1)):(D=yl(j),D.c(),N(D,1),D.m(e,g)):D&&(le(),V(D,1,1,()=>{D=null}),ne()),j[0].type=="slider"?R?(R.p(j,M),M&1&&N(R,1)):(R=Sl(j),R.c(),N(R,1),R.m(e,w)):R&&(le(),V(R,1,1,()=>{R=null}),ne()),j[0].info&&(j[0].type=="toggle"||j[0].type=="color")?O?O.p(j,M):(O=Il(j),O.c(),O.m(e,null)):O&&(O.d(1),O=null)},i(j){I||(N(d.$$.fragment,j),N(A),N($),N(D),N(R),j&&Te(()=>{I&&(S&&S.end(1),k=Fe(e,Ss,{skip:!1}),k.start())}),I=!0)},o(j){V(d.$$.fragment,j),V(A),V($),V(D),V(R),k&&k.invalidate(),j&&(S=Xe(e,Is,{skip:!1})),I=!1},d(j){j&&b(e),G(d),A&&A.d(),$&&$.d(),T&&T.d(),D&&D.d(),R&&R.d(),O&&O.d(),l[14](null),j&&S&&S.end()}}}function Ki(l,e,t){let n,s=Z,i=()=>(s(),s=os(c,S=>t(4,n=S)),c);l.$$.on_destroy.push(()=>s());let{setting:r}=e,{key:a}=e,o=r.value;function u(S){Y.setValue(a,S),S=r.value}function f(){Y.setValue(a,r.auto),t(1,o=r.value)}Be(Y.subscribe([a],function(S){r.value!=o&&t(1,o=r.value)}));let c=vl(0);i();let d;function h(){d.scrollIntoView(),i(t(2,c=vl(1,{duration:2e3}))),ue(c,n=0,n)}function m(S){o=S,t(1,o)}function p(S){o=S,t(1,o)}function _(S){o=S,t(1,o)}const g=()=>u(o);function w(S){o=S,t(1,o)}function k(S){re[S?"unshift":"push"](()=>{d=S,t(3,d)})}return l.$$set=S=>{"setting"in S&&t(0,r=S.setting),"key"in S&&t(7,a=S.key)},l.$$.update=()=>{l.$$.dirty&2&&u(o)},[r,o,c,d,n,u,f,a,h,m,p,_,g,w,k]}class Yi extends ge{constructor(e){super(),ve(this,e,Ki,Ji,me,{setting:0,key:7,scrollToSelf:8})}get scrollToSelf(){return this.$$.ctx[8]}}function El(l,e,t){const n=l.slice();return n[17]=e[t],n[18]=e,n[19]=t,n}function Cl(l,e,t){const n=l.slice();return n[20]=e[t],n[21]=e,n[22]=t,n}function Tl(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function Nl(l,e,t){const n=l.slice();return n[20]=e[t],n[22]=t,n}function Al(l){let e,t,n=l[17].name+"",s,i,r,a,o,u;function f(...c){return l[8](l[19],...c)}return{c(){e=E("li"),t=E("button"),s=ee(n),this.h()},l(c){e=C(c,"LI",{class:!0});var d=F(e);t=C(d,"BUTTON",{class:!0});var h=F(t);s=te(h,n),h.forEach(b),d.forEach(b),this.h()},h(){v(t,"class","svelte-19hcj9o"),v(e,"class","title")},m(c,d){P(c,e,d),y(e,t),y(t,s),a=!0,o||(u=K(t,"click",f),o=!0)},p(c,d){l=c},i(c){a||(c&&Te(()=>{a&&(r&&r.end(1),i=Fe(e,wt,{skip:!1}),i.start())}),a=!0)},o(c){i&&i.invalidate(),c&&(r=Xe(e,wt,{skip:!1})),a=!1},d(c){c&&b(e),c&&r&&r.end(),o=!1,u()}}}function Dl(l){let e,t,n=Y.data[l[20]].name+"",s,i,r,a,o,u,f;function c(){return l[9](l[19],l[22])}return{c(){e=E("li"),t=E("button"),s=ee(n),i=B(),this.h()},l(d){e=C(d,"LI",{});var h=F(e);t=C(h,"BUTTON",{class:!0});var m=F(t);s=te(m,n),m.forEach(b),i=L(h),h.forEach(b),this.h()},h(){v(t,"class","svelte-19hcj9o")},m(d,h){P(d,e,h),y(e,t),y(t,s),y(e,i),o=!0,u||(f=K(t,"click",c),u=!0)},p(d,h){l=d},i(d){o||(d&&Te(()=>{o&&(a&&a.end(1),r=Fe(e,Cs,{skip:!1}),r.start())}),o=!0)},o(d){r&&r.invalidate(),d&&(a=Xe(e,Ts,{skip:!1})),o=!1},d(d){d&&b(e),d&&a&&a.end(),u=!1,f()}}}function $l(l){let e,t=l[3][l[19]][l[22]]&&Dl(l);return{c(){t&&t.c(),e=Ie()},l(n){t&&t.l(n),e=Ie()},m(n,s){t&&t.m(n,s),P(n,e,s)},p(n,s){n[3][n[19]][n[22]]?t?(t.p(n,s),s&8&&N(t,1)):(t=Dl(n),t.c(),N(t,1),t.m(e.parentNode,e)):t&&(le(),V(t,1,1,()=>{t=null}),ne())},d(n){n&&b(e),t&&t.d(n)}}}function Fl(l){let e,t,n=l[2][l[19]]&&Al(l),s=he(l[17].settings),i=[];for(let r=0;r<s.length;r+=1)i[r]=$l(Nl(l,s,r));return{c(){n&&n.c(),e=B();for(let r=0;r<i.length;r+=1)i[r].c();t=Ie()},l(r){n&&n.l(r),e=L(r);for(let a=0;a<i.length;a+=1)i[a].l(r);t=Ie()},m(r,a){n&&n.m(r,a),P(r,e,a);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(r,a);P(r,t,a)},p(r,a){if(r[2][r[19]]?n?(n.p(r,a),a&4&&N(n,1)):(n=Al(r),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(le(),V(n,1,1,()=>{n=null}),ne()),a&24){s=he(r[17].settings);let o;for(o=0;o<s.length;o+=1){const u=Nl(r,s,o);i[o]?i[o].p(u,a):(i[o]=$l(u),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=s.length}},d(r){r&&(b(e),b(t)),n&&n.d(r),Oe(i,r)}}}function Vl(l){let e,t,n=l[17].name+"",s,i=l[19],r,a,o;const u=()=>l[14](e,i),f=()=>l[14](null,i);return{c(){e=E("li"),t=E("h1"),s=ee(n),this.h()},l(c){e=C(c,"LI",{class:!0});var d=F(e);t=C(d,"H1",{class:!0});var h=F(t);s=te(h,n),h.forEach(b),d.forEach(b),this.h()},h(){v(t,"class","svelte-19hcj9o"),v(e,"class","title svelte-19hcj9o")},m(c,d){P(c,e,d),y(e,t),y(t,s),u(),o=!0},p(c,d){l=c,i!==l[19]&&(f(),i=l[19],u())},i(c){o||(c&&Te(()=>{o&&(a&&a.end(1),r=Fe(e,wt,{skip:!1}),r.start())}),o=!0)},o(c){r&&r.invalidate(),c&&(a=Xe(e,wt,{skip:!1})),o=!1},d(c){c&&b(e),f(),c&&a&&a.end()}}}function Rl(l){let e,t=l[19],n=l[22],s;const i=()=>l[15](e,t,n),r=()=>l[15](null,t,n);let a={key:l[20],setting:Y.data[l[20]]};return e=new Yi({props:a}),i(),{c(){q(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,u){X(e,o,u),s=!0},p(o,u){(t!==o[19]||n!==o[22])&&(r(),t=o[19],n=o[22],i());const f={};e.$set(f)},i(o){s||(N(e.$$.fragment,o),s=!0)},o(o){V(e.$$.fragment,o),s=!1},d(o){r(),G(e,o)}}}function Pl(l){let e,t,n=l[3][l[19]][l[22]]&&Rl(l);return{c(){n&&n.c(),e=Ie()},l(s){n&&n.l(s),e=Ie()},m(s,i){n&&n.m(s,i),P(s,e,i),t=!0},p(s,i){s[3][s[19]][s[22]]?n?(n.p(s,i),i&8&&N(n,1)):(n=Rl(s),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(le(),V(n,1,1,()=>{n=null}),ne())},i(s){t||(N(n),t=!0)},o(s){V(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function Bl(l){let e,t,n,s=l[2][l[19]]&&Vl(l),i=he(l[17].settings),r=[];for(let o=0;o<i.length;o+=1)r[o]=Pl(Cl(l,i,o));const a=o=>V(r[o],1,1,()=>{r[o]=null});return{c(){s&&s.c(),e=B();for(let o=0;o<r.length;o+=1)r[o].c();t=Ie()},l(o){s&&s.l(o),e=L(o);for(let u=0;u<r.length;u+=1)r[u].l(o);t=Ie()},m(o,u){s&&s.m(o,u),P(o,e,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(o,u);P(o,t,u),n=!0},p(o,u){if(o[2][o[19]]?s?(s.p(o,u),u&4&&N(s,1)):(s=Vl(o),s.c(),N(s,1),s.m(e.parentNode,e)):s&&(le(),V(s,1,1,()=>{s=null}),ne()),u&9){i=he(o[17].settings);let f;for(f=0;f<i.length;f+=1){const c=Cl(o,i,f);r[f]?(r[f].p(c,u),N(r[f],1)):(r[f]=Pl(c),r[f].c(),N(r[f],1),r[f].m(t.parentNode,t))}for(le(),f=i.length;f<r.length;f+=1)a(f);ne()}},i(o){if(!n){N(s);for(let u=0;u<i.length;u+=1)N(r[u]);n=!0}},o(o){V(s),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)V(r[u]);n=!1},d(o){o&&(b(e),b(t)),s&&s.d(o),Oe(r,o)}}}function Zi(l){let e,t,n,s,i,r,a,o,u,f,c,d,h,m,p,_,g,w,k,S=he(it),I=[];for(let D=0;D<S.length;D+=1)I[D]=Fl(Tl(l,S,D));o=new we({props:{icon:"arrowRoundLeft",text:"reset all settings"}}),o.$on("click",l[10]),f=new we({props:{icon:"dots",text:"randomize settings",tooltip:"why would you click this"}}),f.$on("click",l[11]),h=new we({props:{icon:"upload",text:"import settings",tooltip:"import settings from file"}}),h.$on("click",l[12]),p=new we({props:{icon:"download",text:"export settings",tooltip:"export settings to file"}}),p.$on("click",l[13]);let A=he(it),$=[];for(let D=0;D<A.length;D+=1)$[D]=Bl(El(l,A,D));const T=D=>V($[D],1,1,()=>{$[D]=null});return{c(){e=E("div"),t=E("div"),n=E("div"),s=E("ul");for(let D=0;D<I.length;D+=1)I[D].c();i=B(),r=E("div"),a=E("section"),q(o.$$.fragment),u=B(),q(f.$$.fragment),c=B(),d=E("section"),q(h.$$.fragment),m=B(),q(p.$$.fragment),_=B(),g=E("section"),w=E("ul");for(let D=0;D<$.length;D+=1)$[D].c();this.h()},l(D){e=C(D,"DIV",{class:!0});var R=F(e);t=C(R,"DIV",{class:!0});var O=F(t);n=C(O,"DIV",{class:!0});var j=F(n);s=C(j,"UL",{class:!0});var M=F(s);for(let be=0;be<I.length;be+=1)I[be].l(M);M.forEach(b),j.forEach(b),O.forEach(b),i=L(R),r=C(R,"DIV",{class:!0});var J=F(r);a=C(J,"SECTION",{class:!0});var oe=F(a);Q(o.$$.fragment,oe),u=L(oe),Q(f.$$.fragment,oe),oe.forEach(b),c=L(J),d=C(J,"SECTION",{class:!0});var pe=F(d);Q(h.$$.fragment,pe),m=L(pe),Q(p.$$.fragment,pe),pe.forEach(b),_=L(J),g=C(J,"SECTION",{class:!0});var ae=F(g);w=C(ae,"UL",{class:!0});var Ne=F(w);for(let be=0;be<$.length;be+=1)$[be].l(Ne);Ne.forEach(b),ae.forEach(b),J.forEach(b),R.forEach(b),this.h()},h(){v(s,"class","svelte-19hcj9o"),v(n,"class","outlineScroll svelte-19hcj9o"),z(n,"customScrollbar",Y.data.customScrollbar.value),v(t,"class","outline svelte-19hcj9o"),v(a,"class","controls svelte-19hcj9o"),v(d,"class","controls svelte-19hcj9o"),v(w,"class","svelte-19hcj9o"),v(g,"class","settings svelte-19hcj9o"),v(r,"class","content svelte-19hcj9o"),z(r,"customScrollbar",Y.data.customScrollbar.value),v(e,"class","top palette-plain svelte-19hcj9o")},m(D,R){P(D,e,R),y(e,t),y(t,n),y(n,s);for(let O=0;O<I.length;O+=1)I[O]&&I[O].m(s,null);y(e,i),y(e,r),y(r,a),X(o,a,null),y(a,u),X(f,a,null),y(r,c),y(r,d),X(h,d,null),y(d,m),X(p,d,null),y(r,_),y(r,g),y(g,w);for(let O=0;O<$.length;O+=1)$[O]&&$[O].m(w,null);k=!0},p(D,[R]){if(R&60){S=he(it);let O;for(O=0;O<S.length;O+=1){const j=Tl(D,S,O);I[O]?I[O].p(j,R):(I[O]=Fl(j),I[O].c(),I[O].m(s,null))}for(;O<I.length;O+=1)I[O].d(1);I.length=S.length}if(R&15){A=he(it);let O;for(O=0;O<A.length;O+=1){const j=El(D,A,O);$[O]?($[O].p(j,R),N($[O],1)):($[O]=Bl(j),$[O].c(),N($[O],1),$[O].m(w,null))}for(le(),O=A.length;O<$.length;O+=1)T(O);ne()}},i(D){if(!k){N(o.$$.fragment,D),N(f.$$.fragment,D),N(h.$$.fragment,D),N(p.$$.fragment,D);for(let R=0;R<A.length;R+=1)N($[R]);k=!0}},o(D){V(o.$$.fragment,D),V(f.$$.fragment,D),V(h.$$.fragment,D),V(p.$$.fragment,D),$=$.filter(Boolean);for(let R=0;R<$.length;R+=1)V($[R]);k=!1},d(D){D&&b(e),Oe(I,D),G(o),G(f),G(h),G(p),Oe($,D)}}}function xi(l,e,t){const n=()=>{};Be(()=>{Y.saveToLocalStorage()});let s=[],i=[];for(let S=0;S<it.length;S++)s.push([]);function r(S,I){s[S][I].scrollToSelf()}function a(S){i[S].scrollIntoView()}let o,u;function f(){t(3,u=it.map((S,I)=>S.settings.map((A,$)=>Y.data[A]?!!(!Y.data[A].visibilityCondition||Y.data[A].visibilityCondition&&Y.data[A].visibilityCondition()):(console.log(`Key: ${A} does not exist in settings.`),!1)))),t(2,o=u.map((S,I)=>S.some(A=>A)))}f(),Be(Y.subscribe(["any"],()=>{f()}));function c(){document.getElementById("uploadId").click()}const d=(S,I)=>{a(S)},h=(S,I)=>r(S,I),m=()=>Y.resetToAuto(),p=()=>Y.randomize(),_=()=>c(),g=()=>Es();function w(S,I){re[S?"unshift":"push"](()=>{i[I]=S,t(1,i)})}function k(S,I,A){re[S?"unshift":"push"](()=>{s[I][A]=S,t(0,s)})}return[s,i,o,u,r,a,c,n,d,h,m,p,_,g,w,k]}class er extends ge{constructor(e){super(),ve(this,e,xi,Zi,me,{closePopup:7})}get closePopup(){return this.$$.ctx[7]}}function tr(l,{from:e,to:t},n={}){const s=getComputedStyle(l),i=s.transform==="none"?"":s.transform,[r,a]=s.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*r/t.width-(t.left+r),u=e.top+e.height*a/t.height-(t.top+a),{delay:f=0,duration:c=h=>Math.sqrt(h)*120,easing:d=$n}=n;return{delay:f,duration:St(c)?c(Math.sqrt(o*o+u*u)):c,easing:d,css:(h,m)=>{const p=m*o,_=m*u,g=h+m*e.width/t.width,w=h+m*e.height/t.height;return`transform: ${i} translate(${p}px, ${_}px) scale(${g}, ${w});`}}}function Ll(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}const lr=l=>({item:l&1,index:l&1}),Ol=l=>({item:l[22],index:l[24]});function jl(l){let e,t=[],n=new Map,s,i,r=he(l[0]);const a=o=>o[12](o[22]);for(let o=0;o<r.length;o+=1){let u=Ll(l,r,o),f=a(u);n.set(f,t[o]=Ml(f,u))}return{c(){e=E("ul");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=C(o,"UL",{class:!0});var u=F(e);for(let f=0;f<t.length;f+=1)t[f].l(u);u.forEach(b),this.h()},h(){v(e,"class","svelte-f52ckd")},m(o,u){P(o,e,u);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);l[16](e),i=!0},p(o,u){if(u&24349){r=he(o[0]),le();for(let f=0;f<t.length;f+=1)t[f].r();t=Dt(t,u,a,1,o,r,n,e,ii,Ml,null,Ll);for(let f=0;f<t.length;f+=1)t[f].a();ne()}},i(o){if(!i){for(let u=0;u<r.length;u+=1)N(t[u]);s&&s.end(1),i=!0}},o(o){for(let u=0;u<t.length;u+=1)V(t[u]);o&&(s=Xe(e,Ns,{})),i=!1},d(o){o&&b(e);for(let u=0;u<t.length;u+=1)t[u].d();l[16](null),o&&s&&s.end()}}}function Ml(l,e){let t,n,s,i,r,a,o,u=Z,f,c,d;const h=e[15].default,m=as(h,e,e[14],Ol);return{key:l,first:null,c(){t=E("li"),m&&m.c(),n=B(),this.h()},l(p){t=C(p,"LI",{"data-index":!0,"data-id":!0,draggable:!0,class:!0});var _=F(t);m&&m.l(_),n=L(_),_.forEach(b),this.h()},h(){v(t,"data-index",s=e[24]),v(t,"data-id",i=JSON.stringify(e[12](e[22]))),v(t,"draggable","true"),v(t,"class","svelte-f52ckd"),z(t,"overFirst",e[24]===e[2]),z(t,"overSecond",e[24]===e[3]),z(t,"dragSource",e[24]===e[4]),this.first=t},m(p,_){P(p,t,_),m&&m.m(t,null),y(t,n),f=!0,c||(d=[K(t,"dragstart",e[8]),K(t,"dragover",e[9]),K(t,"dragleave",e[10]),K(t,"drop",e[11])],c=!0)},p(p,_){e=p,m&&m.p&&(!f||_&16385)&&us(m,h,e,e[14],f?cs(h,e[14],_,lr):fs(e[14]),Ol),(!f||_&1&&s!==(s=e[24]))&&v(t,"data-index",s),(!f||_&1&&i!==(i=JSON.stringify(e[12](e[22]))))&&v(t,"data-id",i),(!f||_&5)&&z(t,"overFirst",e[24]===e[2]),(!f||_&9)&&z(t,"overSecond",e[24]===e[3]),(!f||_&17)&&z(t,"dragSource",e[24]===e[4])},r(){o=t.getBoundingClientRect()},f(){ai(t),u(),Un(t,o)},a(){u(),u=oi(t,o,tr,{duration:e[1]})},i(p){f||(N(m,p),p&&Te(()=>{f&&(a&&a.end(1),r=Fe(t,e[7],{key:e[12](e[22])}),r.start())}),f=!0)},o(p){V(m,p),r&&r.invalidate(),p&&(a=Xe(t,e[6],{key:e[12](e[22])})),f=!1},d(p){p&&b(t),m&&m.d(p),p&&a&&a.end(),c=!1,je(d)}}}function nr(l){let e,t,n=l[0]&&l[0].length&&jl(l);return{c(){n&&n.c(),e=Ie()},l(s){n&&n.l(s),e=Ie()},m(s,i){n&&n.m(s,i),P(s,e,i),t=!0},p(s,[i]){s[0]&&s[0].length?n?(n.p(s,i),i&1&&N(n,1)):(n=jl(s),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(le(),V(n,1,1,()=>{n=null}),ne())},i(s){t||(N(n),t=!0)},o(s){V(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function sr(l,e,t){let{$$slots:n={},$$scope:s}=e,i=Y.data.transitionSpeed.value;Be(Y.subscribe(["transitionSpeed"],D=>{t(1,i=Y.data[D].value)}));const[r,a]=ui({duration:D=>Math.sqrt(D*i),fallback:As});let o=null,u=null,f=null;const c=D=>{let R=D.target.getBoundingClientRect(),O=D.clientY-R.top,j=R.height/2;return O>j},d=D=>D.dataset&&D.dataset.index?D.dataset:d(D.parentNode),h=D=>{D.dataTransfer.setData("source",D.target.dataset.index),t(4,f=parseInt(D.target.dataset.index))},m=D=>{D.preventDefault();let R=d(D.target),O=parseInt(R.index);c(D)?(t(2,o=O),t(3,u=O+1)):(t(2,o=O-1),t(3,u=O))},p=D=>{let R=d(D.target);parseInt(R.index),t(2,o=null),t(3,u=null)},_=D=>{D.preventDefault(),t(2,o=null),t(3,u=null),t(4,f=null);let R=d(D.target),O=parseInt(D.dataTransfer.getData("source")),j=parseInt(R.index);c(D)||(j-=1),w({from:O,to:j})},g=Tn(),w=({from:D,to:R})=>{g("sort",{from:D,to:R})},k=D=>I?D[I]:D;let{list:S}=e,{key:I=null}=e,A;async function $(D=!1){D&&A!=null&&t(5,A.style.height="auto",A),await ut();let R=0;for(let O=0;O<S.length;O++)R+=A.children[O].scrollHeight;A!=null&&t(5,A.style.height=`calc(${R}px)`,A)}tt(()=>{$(!0)}),Be(Y.subscribe(["sidebarWidth","fontSize","padding"],()=>$()));function T(D){re[D?"unshift":"push"](()=>{A=D,t(5,A)})}return l.$$set=D=>{"list"in D&&t(0,S=D.list),"key"in D&&t(13,I=D.key),"$$scope"in D&&t(14,s=D.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&$()},[S,i,o,u,f,A,r,a,h,m,p,_,k,I,s,n,T]}class ir extends ge{constructor(e){super(),ve(this,e,sr,nr,me,{list:0,key:13})}}const Tt=["policy","publicForum","lincolnDouglas","congress","worldSchools","bigQuestions","nofSpar","parli","classic"],rr=["primary","secondary","tertiary","quaternary"];function or(){return Nt[Tt[Y.data.debateStyle.value]]}function Qn(){let l=or();if(l.alternativeFlowSelectorSettingName&&l.alternativeFlowSelectorSettingName in Y.data){const e=l[`alternativeFlows${Y.data[l.alternativeFlowSelectorSettingName].value}`];if(e)return e}return l.flows}function rt(l){let e=Qn(),t;return typeof l=="number"?t=l:t=rr.indexOf(l),t===-1?null:e[t]||null}const Nt={policy:{flows:[{name:"aff",columns:["1AC","1NC","2AC","2NC/1NR","1AR","2NR","2AR"],invert:!1},{name:"neg",columns:["1NC","2AC","2NC/1NR","1AR","2NR","2AR"],invert:!0}],timerSpeeches:[{name:"1AC",time:8*60*1e3,secondary:!1},{name:"CX",time:3*60*1e3,secondary:!1},{name:"1NC",time:8*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!0},{name:"2AC",time:8*60*1e3,secondary:!1},{name:"CX",time:3*60*1e3,secondary:!1},{name:"2NC",time:8*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!0},{name:"1NR",time:5*60*1e3,secondary:!0},{name:"1AR",time:5*60*1e3,secondary:!1},{name:"2NR",time:5*60*1e3,secondary:!0},{name:"2AR",time:5*60*1e3,secondary:!1}],prepTime:8*60*1e3},publicForum:{flows:[{name:"aff",columns:["AC","NC","AR","NR","AS","NS","AFF","NFF"],columnsSwitch:["AC","NR","AR","NS","AS","NFF","AFF"],invert:!1},{name:"neg",columns:["NC","AR","NR","AS","NS","AFF","NFF"],columnsSwitch:["NC","AC","NR","AR","NS","AS","NFF","AFF"],invert:!0}],timerSpeeches:[{name:"AC",time:4*60*1e3,secondary:!1},{name:"NC",time:4*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!1},{name:"AR",time:4*60*1e3,secondary:!1},{name:"NR",time:4*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!1},{name:"AS",time:3*60*1e3,secondary:!1},{name:"NS",time:3*60*1e3,secondary:!0},{name:"GCX",time:3*60*1e3,secondary:!1},{name:"AFF",time:2*60*1e3,secondary:!1},{name:"NFF",time:2*60*1e3,secondary:!0}],prepTime:3*60*1e3},lincolnDouglas:{flows:[{name:"aff",columns:["AC","NR","1AR","2NR","2AR"],starterBoxes:["Value","Criterion"],invert:!1},{name:"neg",columns:["NC","1AR","2NR","2AR"],starterBoxes:["Value","Criterion"],invert:!0}],alternativeFlowSelectorSettingName:"LDSubstyle",alternativeFlows1:[{name:"aff",columns:["AC","NR","1AR","2NR","2AR"],starterBoxes:["type here"],invert:!1},{name:"neg",columns:["NC","1AR","2NR","2AR"],starterBoxes:["type here"],invert:!0},{name:"1ar",columns:["1AR","2NR","2AR"],starterBoxes:["type here"],invert:!1},{name:"2nr",columns:["2NR","2AR"],starterBoxes:["type here"],invert:!0}],timerSpeeches:[{name:"AC",time:6*60*1e3,secondary:!1},{name:"CX",time:3*60*1e3,secondary:!1},{name:"NC",time:7*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!1},{name:"1AR",time:4*60*1e3,secondary:!1},{name:"NR",time:6*60*1e3,secondary:!0},{name:"2AR",time:3*60*1e3,secondary:!1}],prepTime:4*60*1e3},congress:{flows:[{name:"bill",columns:["1A","Q/1N","Q/2A","Q/2N","Q/3A","Q/3N","Q/4A","Q/4N","Q/5A","Q/5N","Q/6A","Q/6N","Q/7A","Q/7N","Q/8A","Q/8N","Q/9A","Q/9N","Q/10A","Q/10N","Q/11A","Q/11N","Q/12A","Q/12N","Q/13A","Q/13N","Q/14A","Q/14N","Q/15A","Q/15N","Q/16A","Q/16N","Q/17A","Q/17N","Q/18A","Q/18N","Q/19A","Q/19N","Q/20A","Q/20N","Q/20A","Q/20N","Q/21A","Q/21N","Q/22A","Q/22N","Q/23A","Q/23N","Q/24A","Q/24N","Q/25A","Q/25N"],invert:!1}],timerSpeeches:[{name:"speech",time:3*60*1e3,secondary:!1}]},worldSchools:{flows:[{name:"prop",columns:["P1","O1","P2","O2","PW","OW","OR","PR"],invert:!1},{name:"opp",columns:["O1","P2","O2","PW","OW","OR","PR"],invert:!0}],timerSpeeches:[{name:"P1",time:8*60*1e3,secondary:!1},{name:"O1",time:8*60*1e3,secondary:!0},{name:"P2",time:8*60*1e3,secondary:!1},{name:"O2",time:8*60*1e3,secondary:!0},{name:"PW",time:8*60*1e3,secondary:!1},{name:"OW",time:8*60*1e3,secondary:!0},{name:"OR",time:4*60*1e3,secondary:!0},{name:"PR",time:4*60*1e3,secondary:!1}]},bigQuestions:{flows:[{name:"aff",columns:["AC","NC","ARb","NRb","A3","N3","ARt","NRt"],invert:!1},{name:"neg",columns:["NC","ARb","NRb","A3","N3","ARt","NRt"],invert:!0}],timerSpeeches:[{name:"AC",time:5*60*1e3,secondary:!1},{name:"NC",time:5*60*1e3,secondary:!0},{name:"QS",time:3*60*1e3,secondary:!1},{name:"ARb",time:4*60*1e3,secondary:!1},{name:"NRb",time:4*60*1e3,secondary:!0},{name:"QS",time:3*60*1e3,secondary:!1},{name:"A3",time:3*60*1e3,secondary:!1},{name:"N3",time:3*60*1e3,secondary:!0},{name:"ARt",time:3*60*1e3,secondary:!1},{name:"NRt",time:3*60*1e3,secondary:!0}],prepTime:3*60*1e3},nofSpar:{flows:[{name:"pro",columns:["PC","CC","PR","CR"],invert:!1},{name:"con",columns:["CC","PR","CR"],invert:!0}],timerSpeeches:[{name:"PREP",time:2*60*1e3,secondary:!1},{name:"PC",time:2*60*1e3,secondary:!1},{name:"CC",time:2*60*1e3,secondary:!0},{name:"CX",time:4*60*1e3,secondary:!1},{name:"PR",time:2*60*1e3,secondary:!1},{name:"CR",time:2*60*1e3,secondary:!0}]},parli:{flows:[{name:"pro",columns:["1PC","1OC","2PC","2OC/OR","PR"],invert:!1},{name:"opp",columns:["1OC","2PC","2OC/OR","PR"],invert:!0}],timerSpeeches:[{name:"1PC",time:7*60*1e3,secondary:!1},{name:"1OC",time:8*60*1e3,secondary:!0},{name:"2PC",time:8*60*1e3,secondary:!1},{name:"2OC",time:8*60*1e3,secondary:!0},{name:"OR",time:4*60*1e3,secondary:!0},{name:"PR",time:5*60*1e3,secondary:!1}]},classic:{flows:[{name:"aff",columns:["AC","NC/1NR","1AR","2NR","2AR","NS","AS"],invert:!1},{name:"neg",columns:["NC/1NR","1AR","2NR","2AR","AS","NS"],invert:!0}],timerSpeeches:[{name:"AC",time:6*60*1e3,secondary:!1},{name:"CX",time:3*60*1e3,secondary:!0},{name:"NC",time:6*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!1},{name:"1NR",time:5*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!1},{name:"prep",time:2*60*1e3,secondary:!1},{name:"1AR",time:7*60*1e3,secondary:!1},{name:"CX",time:3*60*1e3,secondary:!0},{name:"prep",time:2*60*1e3,secondary:!0},{name:"2NR",time:6*60*1e3,secondary:!0},{name:"prep",time:2*60*1e3,secondary:!1},{name:"2AR",time:4*60*1e3,secondary:!1},{name:"prep",time:2*60*1e3,secondary:!0},{name:"NS",time:3*60*1e3,secondary:!0},{name:"prep",time:2*60*1e3,secondary:!1},{name:"AS",time:3*60*1e3,secondary:!1}]}};function Hl(l,e,t){const n=l.slice();return n[11]=e[t],n[13]=t,n}function ar(l){let e,t;return e=new Ds({props:{step:5+l[13],$$slots:{default:[ur]},$$scope:{ctx:l}}}),{c(){q(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){X(e,n,s),t=!0},p(n,s){const i={};s&16418&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function ur(l){let e,t;function n(){return l[8](l[11])}return e=new we({props:{text:l[11].name,palette:l[11].invert?"accent-secondary":"accent",icon:"add",tooltip:`create new ${l[11].name} flow`,shortcut:l[13]===0?["control","n"]:l[13]===1?["control","shift","n"]:null}}),e.$on("click",n),{c(){q(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,i){X(e,s,i),t=!0},p(s,i){l=s;const r={};i&32&&(r.text=l[11].name),i&32&&(r.palette=l[11].invert?"accent-secondary":"accent"),i&32&&(r.tooltip=`create new ${l[11].name} flow`),e.$set(r)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function fr(l){let e,t;function n(){return l[9](l[11])}return e=new we({props:{text:l[11].name,palette:l[11].invert?"accent-secondary":"accent",icon:"add",tooltip:`create new ${l[11].name} flow`}}),e.$on("click",n),{c(){q(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,i){X(e,s,i),t=!0},p(s,i){l=s;const r={};i&32&&(r.text=l[11].name),i&32&&(r.palette=l[11].invert?"accent-secondary":"accent"),i&32&&(r.tooltip=`create new ${l[11].name} flow`),e.$set(r)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Ul(l){let e,t,n,s=(l[13]===0||l[13]===1)&&ar(l),i=l[13]>1&&fr(l);return{c(){s&&s.c(),e=B(),i&&i.c(),t=Ie()},l(r){s&&s.l(r),e=L(r),i&&i.l(r),t=Ie()},m(r,a){s&&s.m(r,a),P(r,e,a),i&&i.m(r,a),P(r,t,a),n=!0},p(r,a){(r[13]===0||r[13]===1)&&s.p(r,a),r[13]>1&&i.p(r,a)},i(r){n||(N(s),N(i),n=!0)},o(r){V(s),V(i),n=!1},d(r){r&&(b(e),b(t)),s&&s.d(r),i&&i.d(r)}}}function zl(l){let e,t,n;return t=new we({props:{text:"first",icon:"arrowLeft",palette:l[0]?"accent-secondary":"accent",tooltip:l[0]?`set ${l[3].name} to first speaker`:`set ${l[4].name} to first speaker`}}),t.$on("click",l[10]),{c(){e=E("div"),q(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var i=F(e);Q(t.$$.fragment,i),i.forEach(b),this.h()},h(){v(e,"class","switch")},m(s,i){P(s,e,i),X(t,e,null),n=!0},p(s,i){const r={};i&1&&(r.palette=s[0]?"accent-secondary":"accent"),i&25&&(r.tooltip=s[0]?`set ${s[3].name} to first speaker`:`set ${s[4].name} to first speaker`),t.$set(r)},i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){V(t.$$.fragment,s),n=!1},d(s){s&&b(e),G(t)}}}function cr(l){let e,t,n,s,i=he(l[5]),r=[];for(let u=0;u<i.length;u+=1)r[u]=Ul(Hl(l,i,u));const a=u=>V(r[u],1,1,()=>{r[u]=null});let o=l[3]!=null&&l[4]!=null&&l[2]&&zl(l);return{c(){e=E("div"),t=E("div");for(let u=0;u<r.length;u+=1)r[u].c();n=B(),o&&o.c(),this.h()},l(u){e=C(u,"DIV",{class:!0});var f=F(e);t=C(f,"DIV",{class:!0});var c=F(t);for(let d=0;d<r.length;d+=1)r[d].l(c);c.forEach(b),n=L(f),o&&o.l(f),f.forEach(b),this.h()},h(){v(t,"class","buttons svelte-ti4de"),v(e,"class","addTab svelte-ti4de"),z(e,"hasSwitch",l[2]),z(e,"switch",l[0])},m(u,f){P(u,e,f),y(e,t);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(t,null);y(e,n),o&&o.m(e,null),s=!0},p(u,[f]){if(f&34){i=he(u[5]);let c;for(c=0;c<i.length;c+=1){const d=Hl(u,i,c);r[c]?(r[c].p(d,f),N(r[c],1)):(r[c]=Ul(d),r[c].c(),N(r[c],1),r[c].m(t,null))}for(le(),c=i.length;c<r.length;c+=1)a(c);ne()}u[3]!=null&&u[4]!=null&&u[2]?o?(o.p(u,f),f&28&&N(o,1)):(o=zl(u),o.c(),N(o,1),o.m(e,null)):o&&(le(),V(o,1,1,()=>{o=null}),ne()),(!s||f&4)&&z(e,"hasSwitch",u[2]),(!s||f&1)&&z(e,"switch",u[0])},i(u){if(!s){for(let f=0;f<i.length;f+=1)N(r[f]);N(o),s=!0}},o(u){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)V(r[f]);V(o),s=!1},d(u){u&&b(e),Oe(r,u),o&&o.d()}}}function dr(l){const e=[];for(let t=0;t<l.length;t+=2)l[t+1]&&e.push(l[t+1]),e.push(l[t]);return e}function hr(l,e,t){let n,s,{addFlow:i}=e,{switchSpeakers:r}=e,a,o,u,f;Be(Y.subscribe(["any"],m=>{t(6,u=Qn()),t(3,a=rt("primary")),t(4,o=rt("secondary")),a!=null&&t(2,f=a.columnsSwitch!=null)}));const c=m=>i(m),d=m=>i(m),h=()=>t(0,r=!r);return l.$$set=m=>{"addFlow"in m&&t(1,i=m.addFlow),"switchSpeakers"in m&&t(0,r=m.switchSpeakers)},l.$$.update=()=>{l.$$.dirty&64&&t(7,n=dr(u)),l.$$.dirty&197&&t(5,s=f&&r?n:u)},[r,i,f,a,o,s,u,n,c,d,h]}class mr extends ge{constructor(e){super(),ve(this,e,hr,cr,me,{addFlow:1,switchSpeakers:0})}}function pr(l){let e;return{c(){e=ee("no name")},l(t){e=te(t,"no name")},m(t,n){P(t,e,n)},p:Z,d(t){t&&b(e)}}}function _r(l){let e=l[1].content+"",t;return{c(){t=ee(e)},l(n){t=te(n,e)},m(n,s){P(n,t,s)},p(n,s){s&2&&e!==(e=n[1].content+"")&&De(t,e)},d(n){n&&b(t)}}}function gr(l){let e,t,n,s,i;function r(u,f){return u[1].content?_r:pr}let a=r(l),o=a(l);return{c(){e=E("div"),t=E("button"),o.c(),this.h()},l(u){e=C(u,"DIV",{class:!0});var f=F(e);t=C(f,"BUTTON",{class:!0});var c=F(t);o.l(c),c.forEach(b),f.forEach(b),this.h()},h(){v(t,"class","svelte-g3ddtd"),z(t,"selected",l[0]),z(t,"empty",l[1].content.length==0),v(e,"class",n=Ce(`top palette-${l[2]}`)+" svelte-g3ddtd"),z(e,"invert",l[1].invert)},m(u,f){P(u,e,f),y(e,t),o.m(t,null),s||(i=K(t,"click",l[6]),s=!0)},p(u,[f]){a===(a=r(u))&&o?o.p(u,f):(o.d(1),o=a(u),o&&(o.c(),o.m(t,null))),f&1&&z(t,"selected",u[0]),f&2&&z(t,"empty",u[1].content.length==0),f&4&&n!==(n=Ce(`top palette-${u[2]}`)+" svelte-g3ddtd")&&v(e,"class",n),f&6&&z(e,"invert",u[1].invert)},i:Z,o:Z,d(u){u&&b(e),o.d(),s=!1,i()}}}function vr(l,e,t){let n,s;de(l,st,f=>t(5,s=f));let{flowId:i}=e,{selected:r}=e,a,o;function u(f){Ye.call(this,l,f)}return l.$$set=f=>{"flowId"in f&&t(3,i=f.flowId),"selected"in f&&t(0,r=f.selected)},l.$$.update=()=>{l.$$.dirty&40&&t(4,n=s[i]),l.$$.dirty&16&&n!=null&&t(1,a=n.value),l.$$.dirty&2&&(a.invert?t(2,o="accent-secondary"):t(2,o="accent"))},[r,a,o,i,n,s,u]}class br extends ge{constructor(e){super(),ve(this,e,vr,gr,me,{flowId:3,selected:0})}}function ql(l){let e,t,n,s,i,r='click to go <span class="primary svelte-17bta5g">home</span>,',a,o,u,f,c;t=new Ue({props:{name:"arrowLeft"}});let d=l[2]>1&&Ql(),h=l[2]>2&&Xl(),m=l[2]>3&&Gl();return{c(){e=E("div"),q(t.$$.fragment),n=B(),s=E("p"),i=E("span"),i.innerHTML=r,a=B(),d&&d.c(),o=B(),h&&h.c(),u=B(),m&&m.c(),this.h()},l(p){e=C(p,"DIV",{class:!0});var _=F(e);Q(t.$$.fragment,_),n=L(_),s=C(_,"P",{class:!0});var g=F(s);i=C(g,"SPAN",{"data-svelte-h":!0}),fe(i)!=="svelte-gxnhvd"&&(i.innerHTML=r),a=L(g),d&&d.l(g),o=L(g),h&&h.l(g),u=L(g),m&&m.l(g),g.forEach(b),_.forEach(b),this.h()},h(){v(s,"class","svelte-17bta5g"),v(e,"class","instruction svelte-17bta5g")},m(p,_){P(p,e,_),X(t,e,null),y(e,n),y(e,s),y(s,i),y(s,a),d&&d.m(s,null),y(s,o),h&&h.m(s,null),y(s,u),m&&m.m(s,null),c=!0},p(p,_){p[2]>1?d?_&4&&N(d,1):(d=Ql(),d.c(),N(d,1),d.m(s,o)):d&&(d.d(1),d=null),p[2]>2?h?_&4&&N(h,1):(h=Xl(),h.c(),N(h,1),h.m(s,u)):h&&(h.d(1),h=null),p[2]>3?m?_&4&&N(m,1):(m=Gl(),m.c(),N(m,1),m.m(s,null)):m&&(m.d(1),m=null)},i(p){c||(N(t.$$.fragment,p),N(d),N(h),N(m),p&&(f||Te(()=>{f=Fe(e,At,{}),f.start()})),c=!0)},o(p){V(t.$$.fragment,p),c=!1},d(p){p&&b(e),G(t),d&&d.d(),h&&h.d(),m&&m.d()}}}function Ql(l){let e,t='to open <span class="primary svelte-17bta5g">settings</span>,',n;return{c(){e=E("span"),e.innerHTML=t},l(s){e=C(s,"SPAN",{"data-svelte-h":!0}),fe(e)!=="svelte-18dac0u"&&(e.innerHTML=t)},m(s,i){P(s,e,i)},i(s){s&&(n||Te(()=>{n=Fe(e,et,{}),n.start()}))},o:Z,d(s){s&&b(e)}}}function Xl(l){let e,t='to <span class="secondary svelte-17bta5g">download/upload</span>,',n;return{c(){e=E("span"),e.innerHTML=t},l(s){e=C(s,"SPAN",{"data-svelte-h":!0}),fe(e)!=="svelte-1ukkx1b"&&(e.innerHTML=t)},m(s,i){P(s,e,i)},i(s){s&&(n||Te(()=>{n=Fe(e,et,{}),n.start()}))},o:Z,d(s){s&&b(e)}}}function Gl(l){let e,t='and to <span class="secondary svelte-17bta5g">share</span>',n;return{c(){e=E("span"),e.innerHTML=t},l(s){e=C(s,"SPAN",{"data-svelte-h":!0}),fe(e)!=="svelte-1w1nyup"&&(e.innerHTML=t)},m(s,i){P(s,e,i)},i(s){s&&(n||Te(()=>{n=Fe(e,et,{}),n.start()}))},o:Z,d(s){s&&b(e)}}}function Wl(l){let e,t,n,s,i,r='click to create a new flow on <span class="primary svelte-17bta5g">aff</span>',a,o,u;t=new Ue({props:{name:"arrowLeft"}});let f=l[2]>5&&Jl();return{c(){e=E("div"),q(t.$$.fragment),n=B(),s=E("p"),i=E("span"),i.innerHTML=r,a=B(),f&&f.c(),this.h()},l(c){e=C(c,"DIV",{class:!0});var d=F(e);Q(t.$$.fragment,d),n=L(d),s=C(d,"P",{class:!0});var h=F(s);i=C(h,"SPAN",{"data-svelte-h":!0}),fe(i)!=="svelte-rq5qab"&&(i.innerHTML=r),a=L(h),f&&f.l(h),h.forEach(b),d.forEach(b),this.h()},h(){v(s,"class","svelte-17bta5g"),v(e,"class","instruction svelte-17bta5g")},m(c,d){P(c,e,d),X(t,e,null),y(e,n),y(e,s),y(s,i),y(s,a),f&&f.m(s,null),u=!0},p(c,d){c[2]>5?f?d&4&&N(f,1):(f=Jl(),f.c(),N(f,1),f.m(s,null)):f&&(f.d(1),f=null)},i(c){u||(N(t.$$.fragment,c),N(f),c&&(o||Te(()=>{o=Fe(e,At,{}),o.start()})),u=!0)},o(c){V(t.$$.fragment,c),u=!1},d(c){c&&b(e),G(t),f&&f.d()}}}function Jl(l){let e,t='or <span class="secondary svelte-17bta5g">neg</span>',n;return{c(){e=E("span"),e.innerHTML=t},l(s){e=C(s,"SPAN",{"data-svelte-h":!0}),fe(e)!=="svelte-w7hc5z"&&(e.innerHTML=t)},m(s,i){P(s,e,i)},i(s){s&&(n||Te(()=>{n=Fe(e,et,{}),n.start()}))},o:Z,d(s){s&&b(e)}}}function Kl(l){let e,t,n,s="Tips",i,r,a,o,u,f,c,d,h,m,p,_,g,w=`use <span class="secondary svelte-17bta5g">undo</span> and
						<span class="secondary svelte-17bta5g">redo</span> if you make a mistake`,k,S,I,A,$,T,D='use the <span class="primary svelte-17bta5g">arrow keys</span> to move around',R,O,j,M,J,oe,pe='click on <span class="primary svelte-17bta5g">settings</span> to customize',ae,Ne,be;return a=new Ue({props:{name:"dots"}}),f=new $s({props:{content:"yes like this",inline:!0,$$slots:{default:[wr]},$$scope:{ctx:l}}}),p=new Ue({props:{name:"undo"}}),A=new Ue({props:{name:"arrowUp"}}),M=new Ue({props:{name:"gear"}}),{c(){e=E("div"),t=E("div"),n=E("h1"),n.textContent=s,i=B(),r=E("div"),q(a.$$.fragment),o=B(),u=E("p"),q(f.$$.fragment),c=ee(`
						over buttons to see what they do`),h=B(),m=E("div"),q(p.$$.fragment),_=B(),g=E("p"),g.innerHTML=w,S=B(),I=E("div"),q(A.$$.fragment),$=B(),T=E("p"),T.innerHTML=D,O=B(),j=E("div"),q(M.$$.fragment),J=B(),oe=E("p"),oe.innerHTML=pe,this.h()},l(ce){e=C(ce,"DIV",{class:!0});var W=F(e);t=C(W,"DIV",{class:!0});var ie=F(t);n=C(ie,"H1",{"data-svelte-h":!0}),fe(n)!=="svelte-yr8oui"&&(n.textContent=s),i=L(ie),r=C(ie,"DIV",{class:!0});var Ve=F(r);Q(a.$$.fragment,Ve),o=L(Ve),u=C(Ve,"P",{class:!0});var H=F(u);Q(f.$$.fragment,H),c=te(H,`
						over buttons to see what they do`),H.forEach(b),Ve.forEach(b),h=L(ie),m=C(ie,"DIV",{class:!0});var x=F(m);Q(p.$$.fragment,x),_=L(x),g=C(x,"P",{class:!0,"data-svelte-h":!0}),fe(g)!=="svelte-1dukc0s"&&(g.innerHTML=w),x.forEach(b),S=L(ie),I=C(ie,"DIV",{class:!0});var _e=F(I);Q(A.$$.fragment,_e),$=L(_e),T=C(_e,"P",{class:!0,"data-svelte-h":!0}),fe(T)!=="svelte-o9bzm5"&&(T.innerHTML=D),_e.forEach(b),O=L(ie),j=C(ie,"DIV",{class:!0});var Ae=F(j);Q(M.$$.fragment,Ae),J=L(Ae),oe=C(Ae,"P",{class:!0,"data-svelte-h":!0}),fe(oe)!=="svelte-wmepqf"&&(oe.innerHTML=pe),Ae.forEach(b),ie.forEach(b),W.forEach(b),this.h()},h(){v(u,"class","svelte-17bta5g"),v(r,"class","instruction svelte-17bta5g"),v(g,"class","svelte-17bta5g"),v(m,"class","instruction svelte-17bta5g"),v(T,"class","svelte-17bta5g"),v(I,"class","instruction svelte-17bta5g"),v(oe,"class","svelte-17bta5g"),v(j,"class","instruction svelte-17bta5g"),v(t,"class","tips svelte-17bta5g"),v(e,"class","tipsWrapper svelte-17bta5g")},m(ce,W){P(ce,e,W),y(e,t),y(t,n),y(t,i),y(t,r),X(a,r,null),y(r,o),y(r,u),X(f,u,null),y(u,c),y(t,h),y(t,m),X(p,m,null),y(m,_),y(m,g),y(t,S),y(t,I),X(A,I,null),y(I,$),y(I,T),y(t,O),y(t,j),X(M,j,null),y(j,J),y(j,oe),be=!0},p(ce,W){l=ce;const ie={};W&128&&(ie.$$scope={dirty:W,ctx:l}),f.$set(ie)},i(ce){be||(N(a.$$.fragment,ce),N(f.$$.fragment,ce),ce&&(d||Te(()=>{d=Fe(r,et,{delay:_t}),d.start()})),N(p.$$.fragment,ce),ce&&(k||Te(()=>{k=Fe(m,et,{delay:_t*2}),k.start()})),N(A.$$.fragment,ce),ce&&(R||Te(()=>{R=Fe(I,et,{delay:_t*3}),R.start()})),N(M.$$.fragment,ce),ce&&(ae||Te(()=>{ae=Fe(j,et,{delay:_t*4}),ae.start()})),ce&&(Ne||Te(()=>{Ne=Fe(t,At,{}),Ne.start()})),be=!0)},o(ce){V(a.$$.fragment,ce),V(f.$$.fragment,ce),V(p.$$.fragment,ce),V(A.$$.fragment,ce),V(M.$$.fragment,ce),be=!1},d(ce){ce&&b(e),G(a),G(f),G(p),G(A),G(M)}}}function wr(l){let e,t="hover";return{c(){e=E("span"),e.textContent=t,this.h()},l(n){e=C(n,"SPAN",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-180235d"&&(e.textContent=t),this.h()},h(){v(e,"class","primary svelte-17bta5g")},m(n,s){P(n,e,s)},p:Z,d(n){n&&b(e)}}}function kr(l){let e,t,n,s,i,r,a,o,u,f;return t=new Ue({props:{name:"add"}}),{c(){e=E("div"),q(t.$$.fragment),n=B(),s=E("p"),i=ee("click to continue ("),r=ee(l[2]),a=ee("/"),o=ee(yt),u=ee(")"),this.h()},l(c){e=C(c,"DIV",{class:!0});var d=F(e);Q(t.$$.fragment,d),n=L(d),s=C(d,"P",{class:!0});var h=F(s);i=te(h,"click to continue ("),r=te(h,l[2]),a=te(h,"/"),o=te(h,yt),u=te(h,")"),h.forEach(b),d.forEach(b),this.h()},h(){v(s,"class","svelte-17bta5g"),v(e,"class","instruction continue svelte-17bta5g")},m(c,d){P(c,e,d),X(t,e,null),y(e,n),y(e,s),y(s,i),y(s,r),y(s,a),y(s,o),y(s,u),f=!0},p(c,d){(!f||d&4)&&De(r,c[2])},i(c){f||(N(t.$$.fragment,c),f=!0)},o(c){V(t.$$.fragment,c),f=!1},d(c){c&&b(e),G(t)}}}function yr(l){let e,t,n,s,i="click to start tutorial",r;return t=new Ue({props:{name:"add"}}),{c(){e=E("div"),q(t.$$.fragment),n=B(),s=E("p"),s.textContent=i,this.h()},l(a){e=C(a,"DIV",{class:!0});var o=F(e);Q(t.$$.fragment,o),n=L(o),s=C(o,"P",{class:!0,"data-svelte-h":!0}),fe(s)!=="svelte-n8r9xp"&&(s.textContent=i),o.forEach(b),this.h()},h(){v(s,"class","svelte-17bta5g"),v(e,"class","instruction continue start svelte-17bta5g")},m(a,o){P(a,e,o),X(t,e,null),y(e,n),y(e,s),r=!0},p:Z,i(a){r||(N(t.$$.fragment,a),r=!0)},o(a){V(t.$$.fragment,a),r=!1},d(a){a&&b(e),G(t)}}}function Sr(l){let e,t,n,s,i="tutorial done",r,a,o,u;t=new Ue({props:{name:"check"}}),a=new we({props:{icon:"arrowRoundLeft",text:"reset"}}),a.$on("click",l[3]);let f=l[1]&&Yl(l);return{c(){e=E("div"),q(t.$$.fragment),n=B(),s=E("p"),s.textContent=i,r=B(),q(a.$$.fragment),o=B(),f&&f.c(),this.h()},l(c){e=C(c,"DIV",{class:!0});var d=F(e);Q(t.$$.fragment,d),n=L(d),s=C(d,"P",{class:!0,"data-svelte-h":!0}),fe(s)!=="svelte-u71g22"&&(s.textContent=i),r=L(d),Q(a.$$.fragment,d),o=L(d),f&&f.l(d),d.forEach(b),this.h()},h(){v(s,"class","svelte-17bta5g"),v(e,"class","instruction continue svelte-17bta5g")},m(c,d){P(c,e,d),X(t,e,null),y(e,n),y(e,s),y(e,r),X(a,e,null),y(e,o),f&&f.m(e,null),u=!0},p(c,d){c[1]?f?(f.p(c,d),d&2&&N(f,1)):(f=Yl(c),f.c(),N(f,1),f.m(e,null)):f&&(le(),V(f,1,1,()=>{f=null}),ne())},i(c){u||(N(t.$$.fragment,c),N(a.$$.fragment,c),N(f),u=!0)},o(c){V(t.$$.fragment,c),V(a.$$.fragment,c),V(f),u=!1},d(c){c&&b(e),G(t),G(a),f&&f.d()}}}function Yl(l){let e,t;return e=new we({props:{text:"show saved flows",icon:"undo"}}),e.$on("click",l[4]),{c(){q(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){X(e,n,s),t=!0},p:Z,i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Ir(l){let e,t,n,s,i,r,a,o,u,f=l[2]>0&&ql(l),c=l[2]>4&&Wl(l),d=l[2]>6&&Kl(l);const h=[Sr,yr,kr],m=[];function p(_,g){return _[2]>=yt?0:_[2]==0?1:2}return i=p(l),r=m[i]=h[i](l),{c(){e=E("button"),f&&f.c(),t=B(),c&&c.c(),n=B(),d&&d.c(),s=B(),r.c(),this.h()},l(_){e=C(_,"BUTTON",{class:!0});var g=F(e);f&&f.l(g),t=L(g),c&&c.l(g),n=L(g),d&&d.l(g),s=L(g),r.l(g),g.forEach(b),this.h()},h(){v(e,"class","top svelte-17bta5g")},m(_,g){P(_,e,g),f&&f.m(e,null),y(e,t),c&&c.m(e,null),y(e,n),d&&d.m(e,null),y(e,s),m[i].m(e,null),a=!0,o||(u=K(e,"click",l[5]),o=!0)},p(_,[g]){_[2]>0?f?(f.p(_,g),g&4&&N(f,1)):(f=ql(_),f.c(),N(f,1),f.m(e,t)):f&&(le(),V(f,1,1,()=>{f=null}),ne()),_[2]>4?c?(c.p(_,g),g&4&&N(c,1)):(c=Wl(_),c.c(),N(c,1),c.m(e,n)):c&&(le(),V(c,1,1,()=>{c=null}),ne()),_[2]>6?d?g&4&&N(d,1):(d=Kl(_),d.c(),N(d,1),d.m(e,s)):d&&(le(),V(d,1,1,()=>{d=null}),ne());let w=i;i=p(_),i===w?m[i].p(_,g):(le(),V(m[w],1,1,()=>{m[w]=null}),ne(),r=m[i],r?r.p(_,g):(r=m[i]=h[i](_),r.c()),N(r,1),r.m(e,null))},i(_){a||(N(f),N(c),N(d),N(r),a=!0)},o(_){V(f),V(c),V(d),V(r),a=!1},d(_){_&&b(e),f&&f.d(),c&&c.d(),d&&d.d(),m[i].d(),o=!1,u()}}}let _t=600,yt=8;function Er(l,e,t){let n;de(l,ht,u=>t(2,n=u)),Y.data.transitionSpeed.value,ht.set(0),Be(Y.subscribe(["transitionSpeed"],u=>{Y.data[u].value})),Be(()=>{ht.set(0)});let{showTutorial:s}=e,{savedFlowsExist:i}=e;const r=u=>{u.stopPropagation(),ue(ht,n=0,n)},a=()=>t(0,s=!1),o=()=>{n<yt&&ue(ht,n+=1,n)};return l.$$set=u=>{"showTutorial"in u&&t(0,s=u.showTutorial),"savedFlowsExist"in u&&t(1,i=u.savedFlowsExist)},[s,i,n,r,a,o]}class Cr extends ge{constructor(e){super(),ve(this,e,Er,Ir,me,{showTutorial:0,savedFlowsExist:1})}}function Zl(l,e,t){const n=l.slice();return n[8]=e[t],n}function xl(l){let e,t=l[8].content+"",n,s;return{c(){e=E("div"),n=ee(t),s=B(),this.h()},l(i){e=C(i,"DIV",{class:!0});var r=F(e);n=te(r,t),s=L(r),r.forEach(b),this.h()},h(){v(e,"class","info svelte-7294jv"),z(e,"palette-accent",!l[8].invert),z(e,"palette-accent-secondary",l[8].invert)},m(i,r){P(i,e,r),y(e,n),y(e,s)},p(i,r){r&1&&t!==(t=i[8].content+"")&&De(n,t),r&1&&z(e,"palette-accent",!i[8].invert),r&1&&z(e,"palette-accent-secondary",i[8].invert)},d(i){i&&b(e)}}}function en(l){let e,t,n,s=ot(l[0].created)+"",i,r,a,o,u=ot(l[0].modified)+"",f,c,d,h,m,p,_,g,w;return d=new we({props:{icon:"copy",text:"open copy",tooltip:"save changes in new"}}),d.$on("click",l[5]),m=new we({props:{icon:"download",text:"download",tooltip:"download as JSON"}}),m.$on("click",l[6]),_=new we({props:{icon:"trash",text:"delete",tooltip:"delete flow data"}}),_.$on("click",l[7]),{c(){e=E("div"),t=E("div"),n=ee("created "),i=ee(s),r=B(),a=E("div"),o=ee("edited "),f=ee(u),c=B(),q(d.$$.fragment),h=B(),q(m.$$.fragment),p=B(),q(_.$$.fragment),this.h()},l(k){e=C(k,"DIV",{class:!0});var S=F(e);t=C(S,"DIV",{class:!0});var I=F(t);n=te(I,"created "),i=te(I,s),I.forEach(b),r=L(S),a=C(S,"DIV",{class:!0});var A=F(a);o=te(A,"edited "),f=te(A,u),A.forEach(b),c=L(S),Q(d.$$.fragment,S),h=L(S),Q(m.$$.fragment,S),p=L(S),Q(_.$$.fragment,S),S.forEach(b),this.h()},h(){v(t,"class","time svelte-7294jv"),v(a,"class","time svelte-7294jv"),v(e,"class","hidden svelte-7294jv")},m(k,S){P(k,e,S),y(e,t),y(t,n),y(t,i),y(e,r),y(e,a),y(a,o),y(a,f),y(e,c),X(d,e,null),y(e,h),X(m,e,null),y(e,p),X(_,e,null),w=!0},p(k,S){(!w||S&1)&&s!==(s=ot(k[0].created)+"")&&De(i,s),(!w||S&1)&&u!==(u=ot(k[0].modified)+"")&&De(f,u)},i(k){w||(N(d.$$.fragment,k),N(m.$$.fragment,k),N(_.$$.fragment,k),k&&Te(()=>{w&&(g||(g=lt(e,bt,{},!0)),g.run(1))}),w=!0)},o(k){V(d.$$.fragment,k),V(m.$$.fragment,k),V(_.$$.fragment,k),k&&(g||(g=lt(e,bt,{},!1)),g.run(0)),w=!1},d(k){k&&b(e),G(d),G(m),G(_),k&&g&&g.end()}}}function Tr(l){let e,t,n,s,i,r,a,o=ot(l[0].modified)+"",u,f,c,d,h,m,p,_,g,w=he(l[0].flowInfos),k=[];for(let I=0;I<w.length;I+=1)k[I]=xl(Zl(l,w,I));d=new we({props:{icon:"open",text:"open"}}),d.$on("click",l[3]),m=new we({props:{icon:l[2]?"delete":"ellipses"}}),m.$on("click",l[4]);let S=l[2]&&en(l);return{c(){e=E("div"),t=E("div"),n=E("div");for(let I=0;I<k.length;I+=1)k[I].c();s=B(),i=E("div"),r=E("div"),a=E("div"),u=ee(o),f=B(),c=E("div"),q(d.$$.fragment),h=B(),q(m.$$.fragment),p=B(),S&&S.c(),this.h()},l(I){e=C(I,"DIV",{class:!0});var A=F(e);t=C(A,"DIV",{class:!0});var $=F(t);n=C($,"DIV",{class:!0});var T=F(n);for(let M=0;M<k.length;M+=1)k[M].l(T);T.forEach(b),$.forEach(b),s=L(A),i=C(A,"DIV",{class:!0});var D=F(i);r=C(D,"DIV",{class:!0});var R=F(r);a=C(R,"DIV",{class:!0});var O=F(a);u=te(O,o),O.forEach(b),R.forEach(b),f=L(D),c=C(D,"DIV",{class:!0});var j=F(c);Q(d.$$.fragment,j),h=L(j),Q(m.$$.fragment,j),p=L(j),S&&S.l(j),j.forEach(b),D.forEach(b),A.forEach(b),this.h()},h(){v(n,"class","infos svelte-7294jv"),v(t,"class","infoView svelte-7294jv"),z(t,"customScrollbar",Y.data.customScrollbar.value),v(a,"class","time svelte-7294jv"),v(r,"class","times svelte-7294jv"),v(c,"class","flowButtons svelte-7294jv"),v(i,"class","fixed svelte-7294jv"),v(e,"class","flow svelte-7294jv")},m(I,A){P(I,e,A),y(e,t),y(t,n);for(let $=0;$<k.length;$+=1)k[$]&&k[$].m(n,null);y(e,s),y(e,i),y(i,r),y(r,a),y(a,u),y(i,f),y(i,c),X(d,c,null),y(c,h),X(m,c,null),y(c,p),S&&S.m(c,null),g=!0},p(I,[A]){if(A&1){w=he(I[0].flowInfos);let T;for(T=0;T<w.length;T+=1){const D=Zl(I,w,T);k[T]?k[T].p(D,A):(k[T]=xl(D),k[T].c(),k[T].m(n,null))}for(;T<k.length;T+=1)k[T].d(1);k.length=w.length}(!g||A&1)&&o!==(o=ot(I[0].modified)+"")&&De(u,o);const $={};A&4&&($.icon=I[2]?"delete":"ellipses"),m.$set($),I[2]?S?(S.p(I,A),A&4&&N(S,1)):(S=en(I),S.c(),N(S,1),S.m(c,null)):S&&(le(),V(S,1,1,()=>{S=null}),ne())},i(I){g||(N(d.$$.fragment,I),N(m.$$.fragment,I),N(S),I&&Te(()=>{g&&(_||(_=lt(e,Ut,{},!0)),_.run(1))}),g=!0)},o(I){V(d.$$.fragment,I),V(m.$$.fragment,I),V(S),I&&(_||(_=lt(e,Ut,{},!1)),_.run(0)),g=!1},d(I){I&&b(e),Oe(k,I),G(d),G(m),S&&S.d(),I&&_&&_.end()}}}function ot(l){const e=new Date,t=new Date(l);return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()?t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Nr(l,e,t){let{flowData:n}=e,{key:s}=e,i=!1;const r=()=>{zt(s,!0)},a=()=>t(2,i=!i),o=()=>{zt(s,!1)},u=()=>{Fs(s)},f=()=>{Vs(s)};return l.$$set=c=>{"flowData"in c&&t(0,n=c.flowData),"key"in c&&t(1,s=c.key)},[n,s,i,r,a,o,u,f]}class Ar extends ge{constructor(e){super(),ve(this,e,Nr,Tr,me,{flowData:0,key:1})}}function tn(l,e,t){const n=l.slice();return n[4]=e[t][0],n[5]=e[t][1],n}function ln(l,e){let t,n,s;return n=new Ar({props:{flowData:e[5],key:e[4]}}),{key:l,first:null,c(){t=Ie(),q(n.$$.fragment),this.h()},l(i){t=Ie(),Q(n.$$.fragment,i),this.h()},h(){this.first=t},m(i,r){P(i,t,r),X(n,i,r),s=!0},p(i,r){e=i;const a={};r&2&&(a.flowData=e[5]),r&2&&(a.key=e[4]),n.$set(a)},i(i){s||(N(n.$$.fragment,i),s=!0)},o(i){V(n.$$.fragment,i),s=!1},d(i){i&&b(t),G(n,i)}}}function Dr(l){let e,t,n,s,i="saved flows",r,a,o,u,f,c,d,h,m,p,_=[],g=new Map,w;a=new we({props:{text:"tutorial",icon:"undo",tooltip:"start tutorial"}}),a.$on("click",l[3]);let k=he(l[1]);const S=I=>I[4];for(let I=0;I<k.length;I+=1){let A=tn(l,k,I),$=S(A);g.set($,_[I]=ln($,A))}return{c(){e=E("div"),t=E("div"),n=E("div"),s=E("h1"),s.textContent=i,r=B(),q(a.$$.fragment),o=B(),u=E("p"),f=ee("up to "),c=ee(qt),d=ee(" flows saved in your browser but lost when you clear cookies"),h=B(),m=E("div"),p=E("div");for(let I=0;I<_.length;I+=1)_[I].c();this.h()},l(I){e=C(I,"DIV",{class:!0});var A=F(e);t=C(A,"DIV",{class:!0});var $=F(t);n=C($,"DIV",{class:!0});var T=F(n);s=C(T,"H1",{class:!0,"data-svelte-h":!0}),fe(s)!=="svelte-1c6y4s8"&&(s.textContent=i),r=L(T),Q(a.$$.fragment,T),T.forEach(b),o=L($),u=C($,"P",{class:!0});var D=F(u);f=te(D,"up to "),c=te(D,qt),d=te(D," flows saved in your browser but lost when you clear cookies"),D.forEach(b),$.forEach(b),h=L(A),m=C(A,"DIV",{class:!0});var R=F(m);p=C(R,"DIV",{class:!0});var O=F(p);for(let j=0;j<_.length;j+=1)_[j].l(O);O.forEach(b),R.forEach(b),A.forEach(b),this.h()},h(){v(s,"class","svelte-1ijc8ye"),v(n,"class","title svelte-1ijc8ye"),v(u,"class","svelte-1ijc8ye"),v(t,"class","above svelte-1ijc8ye"),v(p,"class","flows svelte-1ijc8ye"),v(m,"class","view svelte-1ijc8ye"),z(m,"customScrollbar",Y.data.customScrollbar.value),v(e,"class","top svelte-1ijc8ye")},m(I,A){P(I,e,A),y(e,t),y(t,n),y(n,s),y(n,r),X(a,n,null),y(t,o),y(t,u),y(u,f),y(u,c),y(u,d),y(e,h),y(e,m),y(m,p);for(let $=0;$<_.length;$+=1)_[$]&&_[$].m(p,null);w=!0},p(I,[A]){A&2&&(k=he(I[1]),le(),_=Dt(_,A,S,1,I,k,g,p,Mn,ln,null,tn),ne())},i(I){if(!w){N(a.$$.fragment,I);for(let A=0;A<k.length;A+=1)N(_[A]);w=!0}},o(I){V(a.$$.fragment,I);for(let A=0;A<_.length;A+=1)V(_[A]);w=!1},d(I){I&&b(e),G(a);for(let A=0;A<_.length;A+=1)_[A].d()}}}function $r(l,e,t){let n,{savedFlowsDatas:s}=e,{showTutorial:i=!1}=e;const r=()=>t(0,i=!0);return l.$$set=a=>{"savedFlowsDatas"in a&&t(2,s=a.savedFlowsDatas),"showTutorial"in a&&t(0,i=a.showTutorial)},l.$$.update=()=>{l.$$.dirty&4&&t(1,n=Object.entries(s).sort((a,o)=>new Date(o[1].modified).getTime()-new Date(a[1].modified).getTime()))},[i,n,s,r]}class Fr extends ge{constructor(e){super(),ve(this,e,$r,Dr,me,{savedFlowsDatas:2,showTutorial:0})}}function Vr(l){let e,t,n;function s(r){l[4](r)}let i={savedFlowsExist:l[2]};return l[1]!==void 0&&(i.showTutorial=l[1]),e=new Cr({props:i}),re.push(()=>Se(e,"showTutorial",s)),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,a){X(e,r,a),n=!0},p(r,a){const o={};a&4&&(o.savedFlowsExist=r[2]),!t&&a&2&&(t=!0,o.showTutorial=r[1],ye(()=>t=!1)),e.$set(o)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function Rr(l){let e,t,n;function s(r){l[3](r)}let i={savedFlowsDatas:l[0]};return l[1]!==void 0&&(i.showTutorial=l[1]),e=new Fr({props:i}),re.push(()=>Se(e,"showTutorial",s)),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,a){X(e,r,a),n=!0},p(r,a){const o={};a&1&&(o.savedFlowsDatas=r[0]),!t&&a&2&&(t=!0,o.showTutorial=r[1],ye(()=>t=!1)),e.$set(o)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function Pr(l){let e,t,n,s;const i=[Rr,Vr],r=[];function a(o,u){return o[2]&&!o[1]?0:1}return e=a(l),t=r[e]=i[e](l),{c(){t.c(),n=Ie()},l(o){t.l(o),n=Ie()},m(o,u){r[e].m(o,u),P(o,n,u),s=!0},p(o,[u]){let f=e;e=a(o),e===f?r[e].p(o,u):(le(),V(r[f],1,1,()=>{r[f]=null}),ne(),t=r[e],t?t.p(o,u):(t=r[e]=i[e](o),t.c()),N(t,1),t.m(n.parentNode,n))},i(o){s||(N(t),s=!0)},o(o){V(t),s=!1},d(o){o&&b(n),r[e].d(o)}}}function Br(l,e,t){let n,s;de(l,Rs,o=>t(0,s=o));let i=!1;function r(o){i=o,t(1,i)}function a(o){i=o,t(1,i)}return l.$$.update=()=>{l.$$.dirty&1&&t(2,n=Object.keys(s).length>0)},[s,i,n,r,a]}class Lr extends ge{constructor(e){super(),ve(this,e,Br,Pr,me,{})}}function Or(l){let e,t,n,s,i,r,a=":",o,u,f,c,d,h;return{c(){e=E("div"),t=E("input"),i=B(),r=E("span"),r.textContent=a,o=B(),u=E("input"),this.h()},l(m){e=C(m,"DIV",{class:!0});var p=F(e);t=C(p,"INPUT",{type:!0,style:!0,class:!0}),i=L(p),r=C(p,"SPAN",{"data-svelte-h":!0}),fe(r)!=="svelte-5vnx5k"&&(r.textContent=a),o=L(p),u=C(p,"INPUT",{type:!0,style:!0,class:!0}),p.forEach(b),this.h()},h(){var m,p,_,g;v(t,"type","text"),v(t,"style",n="--chars: "+(l[2]==null?1:((p=(m=l[2])==null?void 0:m.toString())==null?void 0:p.length)??1).toString()),v(t,"class","minutes svelte-5oq7m1"),t.disabled=s=l[1].name=="running",v(u,"type","text"),v(u,"style",f="--chars: "+(l[3]==null?1:((g=(_=l[3])==null?void 0:_.toString())==null?void 0:g.length)??1).toString()),v(u,"class","seconds svelte-5oq7m1"),u.disabled=c=l[1].name=="running",v(e,"class","time svelte-5oq7m1"),z(e,"invalid",l[6]),z(e,"done",l[0]==0&&l[1].name=="running")},m(m,p){P(m,e,p),y(e,t),$e(t,l[2]),l[14](t),y(e,i),y(e,r),y(e,o),y(e,u),$e(u,l[3]),l[16](u),d||(h=[K(t,"input",l[13]),K(t,"focus",nn),K(t,"keydown",l[7]),K(t,"change",l[9]),K(u,"input",l[15]),K(u,"focus",nn),K(u,"keydown",l[8]),K(u,"change",l[9])],d=!0)},p(m,[p]){var _,g,w,k;p&4&&n!==(n="--chars: "+(m[2]==null?1:((g=(_=m[2])==null?void 0:_.toString())==null?void 0:g.length)??1).toString())&&v(t,"style",n),p&2&&s!==(s=m[1].name=="running")&&(t.disabled=s),p&4&&t.value!==m[2]&&$e(t,m[2]),p&8&&f!==(f="--chars: "+(m[3]==null?1:((k=(w=m[3])==null?void 0:w.toString())==null?void 0:k.length)??1).toString())&&v(u,"style",f),p&2&&c!==(c=m[1].name=="running")&&(u.disabled=c),p&8&&u.value!==m[3]&&$e(u,m[3]),p&64&&z(e,"invalid",m[6]),p&3&&z(e,"done",m[0]==0&&m[1].name=="running")},i:Z,o:Z,d(m){m&&b(e),l[14](null),l[16](null),d=!1,je(h)}}}function nn(l){const e=l.target;l.preventDefault(),e.setSelectionRange(0,e.value.length)}function sn(l){let e=parseInt(l.toString()),t=Math.min(59,Math.max(0,e!=e?0:e)).toString();return t.length==1?"0"+t:t}function jr(l,e,t){let{time:n}=e,s,i;w();let r,a,{state:o}=e,u=null;o.name=="running"&&c();function f(){o.name=="running"&&(u&&clearInterval(u),t(1,o={name:"paused"}))}Be(()=>{u&&clearInterval(u)});function c(){u=setInterval(()=>{o.name=="running"&&(t(0,n=o.ogTime-(Date.now()-o.startTime)),n<=0&&t(0,n=0),w())},100)}function d(){t(1,o={name:"running",startTime:Date.now(),ogTime:n}),c()}function h(T){f(),t(0,n=T),w()}function m(T){let D=parseInt(s.toString());switch(T.key){case"ArrowUp":T.preventDefault(),t(2,s=(D+1).toString()),g();break;case"ArrowDown":T.preventDefault(),t(2,s=(D-1).toString()),g();break;case"ArrowRight":T.preventDefault(),r.blur(),a.focus();break}}function p(T){let D=parseInt(i.toString());switch(T.key){case"ArrowUp":T.preventDefault(),t(3,i=(D+1).toString()),g();break;case"ArrowDown":T.preventDefault(),t(3,i=(D-1).toString()),g();break;case"ArrowLeft":T.preventDefault(),a.blur(),r.focus();break}}let _=!1;function g(){k();let T=parseInt(s.toString()),D=parseInt(i.toString());t(6,_=!1),t(0,n=T*60*1e3+D*1e3)}function w(){let T=Math.floor(n/6e4);t(2,s=T.toString()),t(3,i=Math.floor((n-T*60*1e3)/1e3).toString()),k()}function k(){t(2,s=sn(s)),t(3,i=sn(i))}function S(){s=this.value,t(2,s)}function I(T){re[T?"unshift":"push"](()=>{r=T,t(4,r)})}function A(){i=this.value,t(3,i)}function $(T){re[T?"unshift":"push"](()=>{a=T,t(5,a)})}return l.$$set=T=>{"time"in T&&t(0,n=T.time),"state"in T&&t(1,o=T.state)},[n,o,s,i,r,a,_,m,p,g,f,d,h,S,I,A,$]}class Mr extends ge{constructor(e){super(),ve(this,e,jr,Or,me,{time:0,state:1,pause:10,start:11,set:12})}get pause(){return this.$$.ctx[10]}get start(){return this.$$.ctx[11]}get set(){return this.$$.ctx[12]}}function Hr(l){let e,t;return e=new we({props:{icon:"play",preventBlur:!1}}),e.$on("click",l[3]),{c(){q(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){X(e,n,s),t=!0},p:Z,i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Ur(l){let e,t;return e=new we({props:{icon:"pause",preventBlur:!1}}),e.$on("click",l[4]),{c(){q(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){X(e,n,s),t=!0},p:Z,i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function zr(l){let e,t,n,s,i,r,a,o,u,f,c,d,h,m;const p=[Ur,Hr],_=[];function g(T,D){var R;return((R=T[1])==null?void 0:R.name)=="running"?0:1}t=g(l),n=_[t]=p[t](l);function w(T){l[10](T)}function k(T){l[11](T)}function S(T){l[12](T)}function I(T){l[13](T)}function A(T){l[14](T)}let $={};return l[7]!==void 0&&($.start=l[7]),l[8]!==void 0&&($.pause=l[8]),l[9]!==void 0&&($.set=l[9]),l[1]!==void 0&&($.state=l[1]),l[0]!==void 0&&($.time=l[0]),i=new Mr({props:$}),re.push(()=>Se(i,"start",w)),re.push(()=>Se(i,"pause",k)),re.push(()=>Se(i,"set",S)),re.push(()=>Se(i,"state",I)),re.push(()=>Se(i,"time",A)),d=new we({props:{icon:"arrowRoundLeft",disabled:l[0]==l[2],preventBlur:!1}}),d.$on("click",l[15]),{c(){e=E("div"),n.c(),s=B(),q(i.$$.fragment),c=B(),q(d.$$.fragment),this.h()},l(T){e=C(T,"DIV",{class:!0});var D=F(e);n.l(D),s=L(D),Q(i.$$.fragment,D),c=L(D),Q(d.$$.fragment,D),D.forEach(b),this.h()},h(){v(e,"class",h="top palette-"+l[6]+" svelte-wbxmw5")},m(T,D){P(T,e,D),_[t].m(e,null),y(e,s),X(i,e,null),y(e,c),X(d,e,null),m=!0},p(T,[D]){let R=t;t=g(T),t===R?_[t].p(T,D):(le(),V(_[R],1,1,()=>{_[R]=null}),ne(),n=_[t],n?n.p(T,D):(n=_[t]=p[t](T),n.c()),N(n,1),n.m(e,s));const O={};!r&&D&128&&(r=!0,O.start=T[7],ye(()=>r=!1)),!a&&D&256&&(a=!0,O.pause=T[8],ye(()=>a=!1)),!o&&D&512&&(o=!0,O.set=T[9],ye(()=>o=!1)),!u&&D&2&&(u=!0,O.state=T[1],ye(()=>u=!1)),!f&&D&1&&(f=!0,O.time=T[0],ye(()=>f=!1)),i.$set(O);const j={};D&5&&(j.disabled=T[0]==T[2]),d.$set(j),(!m||D&64&&h!==(h="top palette-"+T[6]+" svelte-wbxmw5"))&&v(e,"class",h)},i(T){m||(N(n),N(i.$$.fragment,T),N(d.$$.fragment,T),m=!0)},o(T){V(n),V(i.$$.fragment,T),V(d.$$.fragment,T),m=!1},d(T){T&&b(e),_[t].d(),G(i),G(d)}}}function qr(l,e,t){let{resetTime:n}=e,{time:s=n}=e,{state:i}=e,r,a,o;function u(){r()}function f(){a()}function c(){o(n)}let{palette:d="plain"}=e;function h(k){r=k,t(7,r)}function m(k){a=k,t(8,a)}function p(k){o=k,t(9,o)}function _(k){i=k,t(1,i)}function g(k){s=k,t(0,s)}const w=()=>c();return l.$$set=k=>{"resetTime"in k&&t(2,n=k.resetTime),"time"in k&&t(0,s=k.time),"state"in k&&t(1,i=k.state),"palette"in k&&t(6,d=k.palette)},[s,i,n,u,f,c,d,r,a,o,h,m,p,_,g,w]}class Vt extends ge{constructor(e){super(),ve(this,e,qr,zr,me,{resetTime:2,time:0,state:1,start:3,pause:4,reset:5,palette:6})}get start(){return this.$$.ctx[3]}get pause(){return this.$$.ctx[4]}get reset(){return this.$$.ctx[5]}}function rn(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function on(l){let e,t,n,s,i,r,a=he(l[3]),o=[];for(let u=0;u<a.length;u+=1)o[u]=an(rn(l,a,u));return i=new we({props:{icon:l[0]==l[3].length-1?"arrowLeft":"arrowRight",palette:l[3][(l[0]+1)%l[3].length].secondary?"accent-secondary":"accent"}}),i.$on("click",l[10]),{c(){e=E("div"),t=E("div"),n=E("div");for(let u=0;u<o.length;u+=1)o[u].c();s=B(),q(i.$$.fragment),this.h()},l(u){e=C(u,"DIV",{class:!0});var f=F(e);t=C(f,"DIV",{class:!0});var c=F(t);n=C(c,"DIV",{class:!0});var d=F(n);for(let h=0;h<o.length;h+=1)o[h].l(d);d.forEach(b),c.forEach(b),s=L(f),Q(i.$$.fragment,f),f.forEach(b),this.h()},h(){v(n,"class","speeches svelte-1dibtdm"),v(t,"class","speechesScroll svelte-1dibtdm"),v(e,"class","over svelte-1dibtdm")},m(u,f){P(u,e,f),y(e,t),y(t,n);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(n,null);y(e,s),X(i,e,null),r=!0},p(u,f){if(f&25){a=he(u[3]);let d;for(d=0;d<a.length;d+=1){const h=rn(u,a,d);o[d]?o[d].p(h,f):(o[d]=an(h),o[d].c(),o[d].m(n,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=a.length}const c={};f&9&&(c.icon=u[0]==u[3].length-1?"arrowLeft":"arrowRight"),f&9&&(c.palette=u[3][(u[0]+1)%u[3].length].secondary?"accent-secondary":"accent"),i.$set(c)},i(u){r||(N(i.$$.fragment,u),r=!0)},o(u){V(i.$$.fragment,u),r=!1},d(u){u&&b(e),Oe(o,u),G(i)}}}function Qr(l){let e,t=l[19].name+"",n,s,i,r;function a(){return l[8](l[21])}function o(){return l[9](l[21])}return{c(){e=E("button"),n=ee(t),this.h()},l(u){e=C(u,"BUTTON",{class:!0});var f=F(e);n=te(f,t),f.forEach(b),this.h()},h(){v(e,"class",s=Ce(`speech ${l[19].secondary?"palette-accent-secondary":"palette-accent"}`)+" svelte-1dibtdm")},m(u,f){P(u,e,f),y(e,n),i||(r=[K(e,"click",a),K(e,"click",o)],i=!0)},p(u,f){l=u,f&8&&t!==(t=l[19].name+"")&&De(n,t),f&8&&s!==(s=Ce(`speech ${l[19].secondary?"palette-accent-secondary":"palette-accent"}`)+" svelte-1dibtdm")&&v(e,"class",s)},d(u){u&&b(e),i=!1,je(r)}}}function Xr(l){let e,t=l[19].name+"",n,s;return{c(){e=E("button"),n=ee(t),this.h()},l(i){e=C(i,"BUTTON",{class:!0});var r=F(e);n=te(r,t),r.forEach(b),this.h()},h(){v(e,"class",s=Ce(`speech selected ${l[19].secondary?"palette-accent-secondary":"palette-accent"}`)+" svelte-1dibtdm")},m(i,r){P(i,e,r),y(e,n),l[7](e)},p(i,r){r&8&&t!==(t=i[19].name+"")&&De(n,t),r&8&&s!==(s=Ce(`speech selected ${i[19].secondary?"palette-accent-secondary":"palette-accent"}`)+" svelte-1dibtdm")&&v(e,"class",s)},d(i){i&&b(e),l[7](null)}}}function an(l){let e;function t(i,r){return i[21]==i[0]?Xr:Qr}let n=t(l),s=n(l);return{c(){s.c(),e=Ie()},l(i){s.l(i),e=Ie()},m(i,r){s.m(i,r),P(i,e,r)},p(i,r){n===(n=t(i))&&s?s.p(i,r):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&b(e),s.d(i)}}}function Gr(l){let e,t,n,s,i,r,a,o,u,f=l[3].length>1&&on(l);function c(_){l[11](_)}function d(_){l[12](_)}function h(_){l[13](_)}function m(_){l[14](_)}let p={palette:l[3][l[0]].secondary?"accent-secondary":"accent",resetTime:l[3][l[0]].time};return l[2]!==void 0&&(p.state=l[2]),l[1]!==void 0&&(p.time=l[1]),l[5]!==void 0&&(p.pause=l[5]),l[6]!==void 0&&(p.reset=l[6]),s=new Vt({props:p}),re.push(()=>Se(s,"state",c)),re.push(()=>Se(s,"time",d)),re.push(()=>Se(s,"pause",h)),re.push(()=>Se(s,"reset",m)),{c(){e=E("div"),f&&f.c(),t=B(),n=E("div"),q(s.$$.fragment),this.h()},l(_){e=C(_,"DIV",{class:!0});var g=F(e);f&&f.l(g),t=L(g),n=C(g,"DIV",{class:!0});var w=F(n);Q(s.$$.fragment,w),w.forEach(b),g.forEach(b),this.h()},h(){v(n,"class","timer svelte-1dibtdm"),v(e,"class","top svelte-1dibtdm")},m(_,g){P(_,e,g),f&&f.m(e,null),y(e,t),y(e,n),X(s,n,null),u=!0},p(_,[g]){_[3].length>1?f?(f.p(_,g),g&8&&N(f,1)):(f=on(_),f.c(),N(f,1),f.m(e,t)):f&&(le(),V(f,1,1,()=>{f=null}),ne());const w={};g&9&&(w.palette=_[3][_[0]].secondary?"accent-secondary":"accent"),g&9&&(w.resetTime=_[3][_[0]].time),!i&&g&4&&(i=!0,w.state=_[2],ye(()=>i=!1)),!r&&g&2&&(r=!0,w.time=_[1],ye(()=>r=!1)),!a&&g&32&&(a=!0,w.pause=_[5],ye(()=>a=!1)),!o&&g&64&&(o=!0,w.reset=_[6],ye(()=>o=!1)),s.$set(w)},i(_){u||(N(f),N(s.$$.fragment,_),u=!0)},o(_){V(f),V(s.$$.fragment,_),u=!1},d(_){_&&b(e),f&&f.d(),G(s)}}}function Wr(l,e,t){let{resetTimeIndex:n}=e,{speeches:s}=e,{time:i=s[n].time}=e,{state:r}=e,a,o=!1;function u(){a&&(o&&a.scrollIntoView({behavior:"smooth",inline:"center"}),o=!0)}tt(()=>{setTimeout(()=>{a&&a.scrollIntoView({behavior:"instant",inline:"center"})},50)});let f=!1;async function c(){f&&(await ut(),d(),h()),f=!0}let d,h;function m(A){re[A?"unshift":"push"](()=>{a=A,t(4,a)})}const p=A=>{t(0,n=A)},_=A=>{t(0,n=A)},g=()=>{t(0,n+=1),t(0,n%=s.length)};function w(A){r=A,t(2,r)}function k(A){i=A,t(1,i)}function S(A){d=A,t(5,d)}function I(A){h=A,t(6,h)}return l.$$set=A=>{"resetTimeIndex"in A&&t(0,n=A.resetTimeIndex),"speeches"in A&&t(3,s=A.speeches),"time"in A&&t(1,i=A.time),"state"in A&&t(2,r=A.state)},l.$$.update=()=>{l.$$.dirty&16&&u(),l.$$.dirty&1&&c()},[n,i,r,s,a,d,h,m,p,_,g,w,k,S,I]}class Jr extends ge{constructor(e){super(),ve(this,e,Wr,Gr,me,{resetTimeIndex:0,speeches:3,time:1,state:2})}}function un(l){let e,t,n,s,i,r,a,o,u,f=l[0].prep&&fn(l),c=l[0].prepSecondary&&cn(l);function d(_){l[8](_)}function h(_){l[9](_)}function m(_){l[10](_)}let p={speeches:l[3].timerSpeeches};return l[0].speech.resetTimeIndex!==void 0&&(p.resetTimeIndex=l[0].speech.resetTimeIndex),l[0].speech.time!==void 0&&(p.time=l[0].speech.time),l[0].speech.state!==void 0&&(p.state=l[0].speech.state),s=new Jr({props:p}),re.push(()=>Se(s,"resetTimeIndex",d)),re.push(()=>Se(s,"time",h)),re.push(()=>Se(s,"state",m)),{c(){e=E("div"),f&&f.c(),t=B(),c&&c.c(),n=B(),q(s.$$.fragment),this.h()},l(_){e=C(_,"DIV",{class:!0});var g=F(e);f&&f.l(g),t=L(g),c&&c.l(g),n=L(g),Q(s.$$.fragment,g),g.forEach(b),this.h()},h(){v(e,"class","timer svelte-10onzka")},m(_,g){P(_,e,g),f&&f.m(e,null),y(e,t),c&&c.m(e,null),y(e,n),X(s,e,null),u=!0},p(_,g){_[0].prep?f?(f.p(_,g),g&1&&N(f,1)):(f=fn(_),f.c(),N(f,1),f.m(e,t)):f&&(le(),V(f,1,1,()=>{f=null}),ne()),_[0].prepSecondary?c?(c.p(_,g),g&1&&N(c,1)):(c=cn(_),c.c(),N(c,1),c.m(e,n)):c&&(le(),V(c,1,1,()=>{c=null}),ne());const w={};g&8&&(w.speeches=_[3].timerSpeeches),!i&&g&1&&(i=!0,w.resetTimeIndex=_[0].speech.resetTimeIndex,ye(()=>i=!1)),!r&&g&1&&(r=!0,w.time=_[0].speech.time,ye(()=>r=!1)),!a&&g&1&&(a=!0,w.state=_[0].speech.state,ye(()=>a=!1)),s.$set(w)},i(_){u||(N(f),N(c),N(s.$$.fragment,_),_&&Te(()=>{u&&(o||(o=lt(e,Qt,{},!0)),o.run(1))}),u=!0)},o(_){V(f),V(c),V(s.$$.fragment,_),_&&(o||(o=lt(e,Qt,{},!1)),o.run(0)),u=!1},d(_){_&&b(e),f&&f.d(),c&&c.d(),G(s),_&&o&&o.end()}}}function fn(l){let e,t,n,s;function i(o){l[4](o)}function r(o){l[5](o)}let a={resetTime:l[0].prep.resetTime,palette:"accent"};return l[0].prep.time!==void 0&&(a.time=l[0].prep.time),l[0].prep.state!==void 0&&(a.state=l[0].prep.state),e=new Vt({props:a}),re.push(()=>Se(e,"time",i)),re.push(()=>Se(e,"state",r)),{c(){q(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,u){X(e,o,u),s=!0},p(o,u){const f={};u&1&&(f.resetTime=o[0].prep.resetTime),!t&&u&1&&(t=!0,f.time=o[0].prep.time,ye(()=>t=!1)),!n&&u&1&&(n=!0,f.state=o[0].prep.state,ye(()=>n=!1)),e.$set(f)},i(o){s||(N(e.$$.fragment,o),s=!0)},o(o){V(e.$$.fragment,o),s=!1},d(o){G(e,o)}}}function cn(l){let e,t,n,s;function i(o){l[6](o)}function r(o){l[7](o)}let a={resetTime:l[0].prepSecondary.resetTime,palette:"accent-secondary"};return l[0].prepSecondary.time!==void 0&&(a.time=l[0].prepSecondary.time),l[0].prepSecondary.state!==void 0&&(a.state=l[0].prepSecondary.state),e=new Vt({props:a}),re.push(()=>Se(e,"time",i)),re.push(()=>Se(e,"state",r)),{c(){q(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,u){X(e,o,u),s=!0},p(o,u){const f={};u&1&&(f.resetTime=o[0].prepSecondary.resetTime),!t&&u&1&&(t=!0,f.time=o[0].prepSecondary.time,ye(()=>t=!1)),!n&&u&1&&(n=!0,f.state=o[0].prepSecondary.state,ye(()=>n=!1)),e.$set(f)},i(o){s||(N(e.$$.fragment,o),s=!0)},o(o){V(e.$$.fragment,o),s=!1},d(o){G(e,o)}}}function dn(l){let e,t,n=l[1]&&un(l);return{c(){n&&n.c(),e=Ie()},l(s){n&&n.l(s),e=Ie()},m(s,i){n&&n.m(s,i),P(s,e,i),t=!0},p(s,i){s[1]?n?(n.p(s,i),i&2&&N(n,1)):(n=un(s),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(le(),V(n,1,1,()=>{n=null}),ne())},i(s){t||(N(n),t=!0)},o(s){V(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function Kr(l){let e,t=l[2],n,s,i,r,a=dn(l);return i=new we({props:{icon:l[1]?"delete":"clock"}}),i.$on("click",l[11]),{c(){e=E("div"),a.c(),n=B(),s=E("div"),q(i.$$.fragment),this.h()},l(o){e=C(o,"DIV",{class:!0});var u=F(e);a.l(u),n=L(u),s=C(u,"DIV",{class:!0});var f=F(s);Q(i.$$.fragment,f),f.forEach(b),u.forEach(b),this.h()},h(){v(s,"class","buttons svelte-10onzka"),v(e,"class","top svelte-10onzka")},m(o,u){P(o,e,u),a.m(e,null),y(e,n),y(e,s),X(i,s,null),r=!0},p(o,[u]){u&4&&me(t,t=o[2])?(le(),V(a,1,1,Z),ne(),a=dn(o),a.c(),N(a,1),a.m(e,n)):a.p(o,u);const f={};u&2&&(f.icon=o[1]?"delete":"clock"),i.$set(f)},i(o){r||(N(a),N(i.$$.fragment,o),r=!0)},o(o){V(a),V(i.$$.fragment,o),r=!1},d(o){o&&b(e),a.d(o),G(i)}}}function Yr(l,e,t){let n,s=!1,i=!1,r=Y.data.debateStyle.value,a=Nt[Tt[r]];Be(Y.subscribe(["debateStyle"],g=>{let w=Y.data[g].value;w!==r&&(r=w,t(3,a=Nt[Tt[r]]),o(),t(2,i=!i))}));function o(){let g={speech:{resetTimeIndex:0,time:a==null?void 0:a.timerSpeeches[0].time,state:{name:"paused"}}};(a==null?void 0:a.prepTime)!=null&&(g.prep={resetTime:a.prepTime,time:a.prepTime,state:{name:"paused"}},g.prepSecondary={resetTime:a.prepTime,time:a.prepTime,state:{name:"paused"}}),t(0,n=g)}o();function u(g){l.$$.not_equal(n.prep.time,g)&&(n.prep.time=g,t(0,n))}function f(g){l.$$.not_equal(n.prep.state,g)&&(n.prep.state=g,t(0,n))}function c(g){l.$$.not_equal(n.prepSecondary.time,g)&&(n.prepSecondary.time=g,t(0,n))}function d(g){l.$$.not_equal(n.prepSecondary.state,g)&&(n.prepSecondary.state=g,t(0,n))}function h(g){l.$$.not_equal(n.speech.resetTimeIndex,g)&&(n.speech.resetTimeIndex=g,t(0,n))}function m(g){l.$$.not_equal(n.speech.time,g)&&(n.speech.time=g,t(0,n))}function p(g){l.$$.not_equal(n.speech.state,g)&&(n.speech.state=g,t(0,n))}return[n,s,i,a,u,f,c,d,h,m,p,()=>t(1,s=!s)]}class Zr extends ge{constructor(e){super(),ve(this,e,Yr,Kr,me,{})}}function xr(l){let e,t,n,s;return{c(){e=E("div"),t=E("textarea"),this.h()},l(i){e=C(i,"DIV",{class:!0});var r=F(e);t=C(r,"TEXTAREA",{class:!0,placeholder:!0}),F(t).forEach(b),r.forEach(b),this.h()},h(){v(t,"class","text svelte-1ma8c8r"),v(t,"placeholder","type notes here"),z(t,"customScrollbar",Y.data.customScrollbar.value),v(e,"class","document svelte-1ma8c8r")},m(i,r){P(i,e,r),y(e,t),$e(t,l[0]),n||(s=K(t,"input",l[1]),n=!0)},p(i,[r]){r&1&&$e(t,i[0])},i:Z,o:Z,d(i){i&&b(e),n=!1,s()}}}function eo(l,e,t){let n;de(l,Xt,i=>t(0,n=i));function s(){n=this.value,Xt.set(n)}return[n,s]}class to extends ge{constructor(e){super(),ve(this,e,eo,xr,me,{})}}function lo(l){let e,t,n,s,i,r,a,o,u,f="<span>or</span>",c,d,h,m,p,_,g,w,k,S=l[4]?"Loading...":l[0]==="login"?"Sign In":"Sign Up",I,A,$,T=l[0]==="login"?"Don't have an account? Sign up":"Already have an account? Sign in",D,R,O,j=l[3]&&hn(l);return{c(){e=E("button"),t=Ze("svg"),n=Ze("path"),s=Ze("path"),i=Ze("path"),r=Ze("path"),a=ee(`
				Continue with Google`),o=B(),u=E("div"),u.innerHTML=f,c=B(),d=E("form"),h=E("input"),m=B(),p=E("input"),g=B(),j&&j.c(),w=B(),k=E("button"),I=ee(S),A=B(),$=E("button"),D=ee(T),this.h()},l(M){e=C(M,"BUTTON",{class:!0});var J=F(e);t=xe(J,"svg",{viewBox:!0,width:!0,height:!0});var oe=F(t);n=xe(oe,"path",{fill:!0,d:!0}),F(n).forEach(b),s=xe(oe,"path",{fill:!0,d:!0}),F(s).forEach(b),i=xe(oe,"path",{fill:!0,d:!0}),F(i).forEach(b),r=xe(oe,"path",{fill:!0,d:!0}),F(r).forEach(b),oe.forEach(b),a=te(J,`
				Continue with Google`),J.forEach(b),o=L(M),u=C(M,"DIV",{class:!0,"data-svelte-h":!0}),fe(u)!=="svelte-10d5nsd"&&(u.innerHTML=f),c=L(M),d=C(M,"FORM",{class:!0});var pe=F(d);h=C(pe,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,class:!0}),m=L(pe),p=C(pe,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,class:!0}),g=L(pe),j&&j.l(pe),w=L(pe),k=C(pe,"BUTTON",{type:!0,class:!0});var ae=F(k);I=te(ae,S),ae.forEach(b),pe.forEach(b),A=L(M),$=C(M,"BUTTON",{class:!0});var Ne=F($);D=te(Ne,T),Ne.forEach(b),this.h()},h(){v(n,"fill","#4285F4"),v(n,"d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"),v(s,"fill","#34A853"),v(s,"d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"),v(i,"fill","#FBBC05"),v(i,"d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"),v(r,"fill","#EA4335"),v(r,"d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"),v(t,"viewBox","0 0 24 24"),v(t,"width","20"),v(t,"height","20"),v(e,"class","google-btn svelte-1rc5oi"),e.disabled=l[4],v(u,"class","divider svelte-1rc5oi"),v(h,"type","email"),v(h,"placeholder","Email"),h.disabled=l[4],v(h,"autocomplete","email"),v(h,"class","svelte-1rc5oi"),v(p,"type","password"),v(p,"placeholder","Password"),p.disabled=l[4],v(p,"autocomplete",_=l[0]==="login"?"current-password":"new-password"),v(p,"class","svelte-1rc5oi"),v(k,"type","submit"),v(k,"class","email-btn svelte-1rc5oi"),k.disabled=l[4],v(d,"class","svelte-1rc5oi"),v($,"class","switch-mode svelte-1rc5oi")},m(M,J){P(M,e,J),y(e,t),y(t,n),y(t,s),y(t,i),y(t,r),y(e,a),P(M,o,J),P(M,u,J),P(M,c,J),P(M,d,J),y(d,h),$e(h,l[1]),y(d,m),y(d,p),$e(p,l[2]),y(d,g),j&&j.m(d,null),y(d,w),y(d,k),y(k,I),P(M,A,J),P(M,$,J),y($,D),R||(O=[K(e,"click",l[6]),K(h,"input",l[8]),K(p,"input",l[9]),K(d,"submit",ds(l[7])),K($,"click",l[10])],R=!0)},p(M,J){J&16&&(e.disabled=M[4]),J&16&&(h.disabled=M[4]),J&2&&h.value!==M[1]&&$e(h,M[1]),J&16&&(p.disabled=M[4]),J&1&&_!==(_=M[0]==="login"?"current-password":"new-password")&&v(p,"autocomplete",_),J&4&&p.value!==M[2]&&$e(p,M[2]),M[3]?j?j.p(M,J):(j=hn(M),j.c(),j.m(d,w)):j&&(j.d(1),j=null),J&17&&S!==(S=M[4]?"Loading...":M[0]==="login"?"Sign In":"Sign Up")&&De(I,S),J&16&&(k.disabled=M[4]),J&1&&T!==(T=M[0]==="login"?"Don't have an account? Sign up":"Already have an account? Sign in")&&De(D,T)},d(M){M&&(b(e),b(o),b(u),b(c),b(d),b(A),b($)),j&&j.d(),R=!1,je(O)}}}function no(l){let e,t="Check your email for a confirmation link!";return{c(){e=E("div"),e.textContent=t,this.h()},l(n){e=C(n,"DIV",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-1e7dq6i"&&(e.textContent=t),this.h()},h(){v(e,"class","success svelte-1rc5oi")},m(n,s){P(n,e,s)},p:Z,d(n){n&&b(e)}}}function hn(l){let e,t;return{c(){e=E("div"),t=ee(l[3]),this.h()},l(n){e=C(n,"DIV",{class:!0});var s=F(e);t=te(s,l[3]),s.forEach(b),this.h()},h(){v(e,"class","error svelte-1rc5oi")},m(n,s){P(n,e,s),y(e,t)},p(n,s){s&8&&De(t,n[3])},d(n){n&&b(e)}}}function so(l){let e,t,n,s=l[0]==="login"?"Sign In":"Create Account",i,r,a,o=l[0]==="login"?"Sign in to save and share your flows":"Create an account to get started",u,f;function c(m,p){return m[5]?no:lo}let d=c(l),h=d(l);return{c(){e=E("div"),t=E("div"),n=E("h2"),i=ee(s),r=B(),a=E("p"),u=ee(o),f=B(),h.c(),this.h()},l(m){e=C(m,"DIV",{class:!0});var p=F(e);t=C(p,"DIV",{class:!0});var _=F(t);n=C(_,"H2",{class:!0});var g=F(n);i=te(g,s),g.forEach(b),r=L(_),a=C(_,"P",{class:!0});var w=F(a);u=te(w,o),w.forEach(b),f=L(_),h.l(_),_.forEach(b),p.forEach(b),this.h()},h(){v(n,"class","svelte-1rc5oi"),v(a,"class","subtitle svelte-1rc5oi"),v(t,"class","auth-card svelte-1rc5oi"),v(e,"class","auth-container svelte-1rc5oi")},m(m,p){P(m,e,p),y(e,t),y(t,n),y(n,i),y(t,r),y(t,a),y(a,u),y(t,f),h.m(t,null)},p(m,[p]){p&1&&s!==(s=m[0]==="login"?"Sign In":"Create Account")&&De(i,s),p&1&&o!==(o=m[0]==="login"?"Sign in to save and share your flows":"Create an account to get started")&&De(u,o),d===(d=c(m))&&h?h.p(m,p):(h.d(1),h=d(m),h&&(h.c(),h.m(t,null)))},i:Z,o:Z,d(m){m&&b(e),h.d()}}}function io(l,e,t){let n="login",s="",i="",r="",a=!1,o=!1;async function u(){t(4,a=!0),t(3,r="");try{await Ps()}catch(m){t(3,r=m.message||"Failed to sign in with Google"),t(4,a=!1)}}async function f(){if(!s||!i){t(3,r="Please fill in both fields");return}t(4,a=!0),t(3,r="");try{n==="login"?await Bs(s,i):(await Ls(s,i),t(5,o=!0),t(4,a=!1))}catch(m){t(3,r=m.message||"Authentication failed"),t(4,a=!1)}}function c(){s=this.value,t(1,s)}function d(){i=this.value,t(2,i)}return[n,s,i,r,a,o,u,f,c,d,()=>{t(0,n=n==="login"?"signup":"login"),t(3,r="")}]}class ro extends ge{constructor(e){super(),ve(this,e,io,so,me,{})}}function mn(l,e,t){const n=l.slice();return n[10]=e[t],n}function oo(l){let e,t;function n(a,o){return a[1]?uo:fo}let s=n(l),i=s(l),r=l[2].length>0&&pn(l);return{c(){i.c(),e=B(),r&&r.c(),t=Ie()},l(a){i.l(a),e=L(a),r&&r.l(a),t=Ie()},m(a,o){i.m(a,o),P(a,e,o),r&&r.m(a,o),P(a,t,o)},p(a,o){s===(s=n(a))&&i?i.p(a,o):(i.d(1),i=s(a),i&&(i.c(),i.m(e.parentNode,e))),a[2].length>0?r?r.p(a,o):(r=pn(a),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(a){a&&(b(e),b(t)),i.d(a),r&&r.d(a)}}}function ao(l){let e,t="Save this flow first before sharing.";return{c(){e=E("p"),e.textContent=t,this.h()},l(n){e=C(n,"P",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-uttth"&&(e.textContent=t),this.h()},h(){v(e,"class","warning svelte-10ecn9r")},m(n,s){P(n,e,s)},p:Z,d(n){n&&b(e)}}}function uo(l){let e,t,n,s,i,r=l[4]?"Copied!":"Copy",a,o,u,f,c,d;return{c(){e=E("div"),t=E("div"),n=ee(l[1]),s=B(),i=E("button"),a=ee(r),o=B(),u=E("button"),f=ee("Generate New Link"),this.h()},l(h){e=C(h,"DIV",{class:!0});var m=F(e);t=C(m,"DIV",{class:!0});var p=F(t);n=te(p,l[1]),p.forEach(b),s=L(m),i=C(m,"BUTTON",{class:!0});var _=F(i);a=te(_,r),_.forEach(b),m.forEach(b),o=L(h),u=C(h,"BUTTON",{class:!0});var g=F(u);f=te(g,"Generate New Link"),g.forEach(b),this.h()},h(){v(t,"class","link-text svelte-10ecn9r"),v(i,"class","copy-btn svelte-10ecn9r"),v(e,"class","link-container svelte-10ecn9r"),v(u,"class","generate-btn secondary svelte-10ecn9r"),u.disabled=l[3]},m(h,m){P(h,e,m),y(e,t),y(t,n),y(e,s),y(e,i),y(i,a),P(h,o,m),P(h,u,m),y(u,f),c||(d=[K(i,"click",l[6]),K(u,"click",l[5])],c=!0)},p(h,m){m&2&&De(n,h[1]),m&16&&r!==(r=h[4]?"Copied!":"Copy")&&De(a,r),m&8&&(u.disabled=h[3])},d(h){h&&(b(e),b(o),b(u)),c=!1,je(d)}}}function fo(l){let e,t=l[3]?"Generating...":"Generate Share Link",n,s,i;return{c(){e=E("button"),n=ee(t),this.h()},l(r){e=C(r,"BUTTON",{class:!0});var a=F(e);n=te(a,t),a.forEach(b),this.h()},h(){v(e,"class","generate-btn svelte-10ecn9r"),e.disabled=l[3]},m(r,a){P(r,e,a),y(e,n),s||(i=K(e,"click",l[5]),s=!0)},p(r,a){a&8&&t!==(t=r[3]?"Generating...":"Generate Share Link")&&De(n,t),a&8&&(e.disabled=r[3])},d(r){r&&b(e),s=!1,i()}}}function pn(l){let e,t,n="Collaborators",s,i=he(l[2]),r=[];for(let a=0;a<i.length;a+=1)r[a]=_n(mn(l,i,a));return{c(){e=E("div"),t=E("h4"),t.textContent=n,s=B();for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=C(a,"DIV",{class:!0});var o=F(e);t=C(o,"H4",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-1a32bih"&&(t.textContent=n),s=L(o);for(let u=0;u<r.length;u+=1)r[u].l(o);o.forEach(b),this.h()},h(){v(t,"class","svelte-10ecn9r"),v(e,"class","collaborators svelte-10ecn9r")},m(a,o){P(a,e,o),y(e,t),y(e,s);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null)},p(a,o){if(o&132){i=he(a[2]);let u;for(u=0;u<i.length;u+=1){const f=mn(a,i,u);r[u]?r[u].p(f,o):(r[u]=_n(f),r[u].c(),r[u].m(e,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=i.length}},d(a){a&&b(e),Oe(r,a)}}}function co(l){let e,t="Pending invite";return{c(){e=E("span"),e.textContent=t,this.h()},l(n){e=C(n,"SPAN",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-pa3m7t"&&(e.textContent=t),this.h()},h(){v(e,"class","badge pending svelte-10ecn9r")},m(n,s){P(n,e,s)},d(n){n&&b(e)}}}function ho(l){let e,t="Active";return{c(){e=E("span"),e.textContent=t,this.h()},l(n){e=C(n,"SPAN",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-6qel4"&&(e.textContent=t),this.h()},h(){v(e,"class","badge svelte-10ecn9r")},m(n,s){P(n,e,s)},d(n){n&&b(e)}}}function _n(l){let e,t,n,s,i=l[10].permission+"",r,a,o,u="Remove",f,c,d;function h(g,w){if(g[10].shared_with)return ho;if(g[10].invite_token)return co}let m=h(l),p=m&&m(l);function _(){return l[8](l[10])}return{c(){e=E("div"),t=E("span"),p&&p.c(),n=B(),s=E("span"),r=ee(i),a=B(),o=E("button"),o.textContent=u,f=B(),this.h()},l(g){e=C(g,"DIV",{class:!0});var w=F(e);t=C(w,"SPAN",{class:!0});var k=F(t);p&&p.l(k),n=L(k),s=C(k,"SPAN",{class:!0});var S=F(s);r=te(S,i),S.forEach(b),k.forEach(b),a=L(w),o=C(w,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(o)!=="svelte-1rt7k4r"&&(o.textContent=u),f=L(w),w.forEach(b),this.h()},h(){v(s,"class","permission svelte-10ecn9r"),v(t,"class","collab-info svelte-10ecn9r"),v(o,"class","remove-btn svelte-10ecn9r"),v(e,"class","collaborator svelte-10ecn9r")},m(g,w){P(g,e,w),y(e,t),p&&p.m(t,null),y(t,n),y(t,s),y(s,r),y(e,a),y(e,o),y(e,f),c||(d=K(o,"click",_),c=!0)},p(g,w){l=g,m!==(m=h(l))&&(p&&p.d(1),p=m&&m(l),p&&(p.c(),p.m(t,n))),w&4&&i!==(i=l[10].permission+"")&&De(r,i)},d(g){g&&b(e),p&&p.d(),c=!1,d()}}}function mo(l){let e,t,n="Share this Flow",s,i,r="Share this flow with your debate partner. Anyone with the link can edit it.",a;function o(c,d){return c[0]?oo:ao}let u=o(l),f=u(l);return{c(){e=E("div"),t=E("h3"),t.textContent=n,s=B(),i=E("p"),i.textContent=r,a=B(),f.c(),this.h()},l(c){e=C(c,"DIV",{class:!0});var d=F(e);t=C(d,"H3",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-upu1qv"&&(t.textContent=n),s=L(d),i=C(d,"P",{class:!0,"data-svelte-h":!0}),fe(i)!=="svelte-1ke3kj6"&&(i.textContent=r),a=L(d),f.l(d),d.forEach(b),this.h()},h(){v(t,"class","svelte-10ecn9r"),v(i,"class","info svelte-10ecn9r"),v(e,"class","share-flow svelte-10ecn9r")},m(c,d){P(c,e,d),y(e,t),y(e,s),y(e,i),y(e,a),f.m(e,null)},p(c,[d]){u===(u=o(c))&&f?f.p(c,d):(f.d(1),f=u(c),f&&(f.c(),f.m(e,null)))},i:Z,o:Z,d(c){c&&b(e),f.d()}}}function po(l,e,t){let n;de(l,jn,h=>t(0,n=h));let s="",i=[],r=!1,a=!1;async function o(){n&&t(2,i=await Os(n))}async function u(){if(!n)return;t(3,r=!0);const h=await js(n,"edit");h&&t(1,s=`${window.location.origin}/app?invite=${h}`),t(3,r=!1)}async function f(){if(s)try{await navigator.clipboard.writeText(s),t(4,a=!0),setTimeout(()=>t(4,a=!1),2e3)}catch{const h=document.createElement("input");h.value=s,document.body.appendChild(h),h.select(),document.execCommand("copy"),document.body.removeChild(h),t(4,a=!0),setTimeout(()=>t(4,a=!1),2e3)}}async function c(h){await Ms(h),t(2,i=i.filter(m=>m.id!==h))}const d=h=>c(h.id);return l.$$.update=()=>{l.$$.dirty&1&&n&&o()},[n,s,i,r,a,u,f,c,d]}class _o extends ge{constructor(e){super(),ve(this,e,po,mo,me,{})}}const{document:gt}=Hs;function gn(l,e,t){const n=l.slice();return n[38]=e[t],n}function vn(l){let e,t;function n(r,a){return r[6]==="saving"?wo:r[6]==="saved"?bo:r[6]==="error"?vo:go}let s=n(l),i=s(l);return{c(){e=E("div"),t=E("span"),i.c(),this.h()},l(r){e=C(r,"DIV",{class:!0});var a=F(e);t=C(a,"SPAN",{class:!0});var o=F(t);i.l(o),o.forEach(b),a.forEach(b),this.h()},h(){v(t,"class","save-indicator svelte-4ab3j9"),z(t,"saved",l[6]==="saved"),z(t,"saving",l[6]==="saving"),z(t,"error",l[6]==="error"),v(e,"class","cloud-status svelte-4ab3j9")},m(r,a){P(r,e,a),y(e,t),i.m(t,null)},p(r,a){s!==(s=n(r))&&(i.d(1),i=s(r),i&&(i.c(),i.m(t,null))),a[0]&64&&z(t,"saved",r[6]==="saved"),a[0]&64&&z(t,"saving",r[6]==="saving"),a[0]&64&&z(t,"error",r[6]==="error")},d(r){r&&b(e),i.d()}}}function go(l){let e;return{c(){e=ee("")},l(t){e=te(t,"")},m(t,n){P(t,e,n)},d(t){t&&b(e)}}}function vo(l){let e;return{c(){e=ee("Save error")},l(t){e=te(t,"Save error")},m(t,n){P(t,e,n)},d(t){t&&b(e)}}}function bo(l){let e;return{c(){e=ee("Saved ")},l(t){e=te(t,"Saved ")},m(t,n){P(t,e,n)},d(t){t&&b(e)}}}function wo(l){let e;return{c(){e=ee("Saving...")},l(t){e=te(t,"Saving...")},m(t,n){P(t,e,n)},d(t){t&&b(e)}}}function bn(l){let e,t,n="Your Flows",s,i,r,a="+ New Flow",o,u,f,c,d="Current Flow Tabs",h,m,p=he(l[7]),_=[];for(let g=0;g<p.length;g+=1)_[g]=kn(gn(l,p,g));return{c(){e=E("div"),t=E("div"),t.textContent=n,s=B();for(let g=0;g<_.length;g+=1)_[g].c();i=B(),r=E("button"),r.textContent=a,o=B(),u=E("div"),f=B(),c=E("div"),c.textContent=d,this.h()},l(g){e=C(g,"DIV",{class:!0});var w=F(e);t=C(w,"DIV",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-1g1s9en"&&(t.textContent=n),s=L(w);for(let k=0;k<_.length;k+=1)_[k].l(w);w.forEach(b),i=L(g),r=C(g,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(r)!=="svelte-140cvvy"&&(r.textContent=a),o=L(g),u=C(g,"DIV",{class:!0}),F(u).forEach(b),f=L(g),c=C(g,"DIV",{class:!0,"data-svelte-h":!0}),fe(c)!=="svelte-15dxj9u"&&(c.textContent=d),this.h()},h(){v(t,"class","section-label svelte-4ab3j9"),v(e,"class","cloud-flows-section svelte-4ab3j9"),v(r,"class","new-flow-btn svelte-4ab3j9"),v(u,"class","section-divider svelte-4ab3j9"),v(c,"class","section-label svelte-4ab3j9")},m(g,w){P(g,e,w),y(e,t),y(e,s);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(e,null);P(g,i,w),P(g,r,w),P(g,o,w),P(g,u,w),P(g,f,w),P(g,c,w),h||(m=K(r,"click",l[24]),h=!0)},p(g,w){if(w[0]&384){p=he(g[7]);let k;for(k=0;k<p.length;k+=1){const S=gn(g,p,k);_[k]?_[k].p(S,w):(_[k]=kn(S),_[k].c(),_[k].m(e,null))}for(;k<_.length;k+=1)_[k].d(1);_.length=p.length}},d(g){g&&(b(e),b(i),b(r),b(o),b(u),b(f),b(c)),Oe(_,g),h=!1,m()}}}function wn(l){let e,t="shared";return{c(){e=E("span"),e.textContent=t,this.h()},l(n){e=C(n,"SPAN",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-ox5vk7"&&(e.textContent=t),this.h()},h(){v(e,"class","shared-badge svelte-4ab3j9")},m(n,s){P(n,e,s)},d(n){n&&b(e)}}}function kn(l){let e,t,n=(l[38].title||"Untitled")+"",s,i,r,a,o,u=l[38].is_shared&&wn();function f(){return l[23](l[38])}return{c(){e=E("button"),t=E("span"),s=ee(n),i=B(),u&&u.c(),r=B(),this.h()},l(c){e=C(c,"BUTTON",{class:!0});var d=F(e);t=C(d,"SPAN",{class:!0});var h=F(t);s=te(h,n),h.forEach(b),i=L(d),u&&u.l(d),r=L(d),d.forEach(b),this.h()},h(){v(t,"class","flow-title svelte-4ab3j9"),v(e,"class","cloud-flow-item svelte-4ab3j9"),z(e,"active",l[8]===l[38].id),z(e,"shared",l[38].is_shared)},m(c,d){P(c,e,d),y(e,t),y(t,s),y(e,i),u&&u.m(e,null),y(e,r),a||(o=K(e,"click",f),a=!0)},p(c,d){l=c,d[0]&128&&n!==(n=(l[38].title||"Untitled")+"")&&De(s,n),l[38].is_shared?u||(u=wn(),u.c(),u.m(e,r)):u&&(u.d(1),u=null),d[0]&384&&z(e,"active",l[8]===l[38].id),d[0]&128&&z(e,"shared",l[38].is_shared)},d(c){c&&b(e),u&&u.d(),a=!1,o()}}}function ko(l){let e,t;function n(){return l[25](l[37])}return e=new br({props:{flowId:l[0].root.children[l[37]],selected:l[3]==l[0].root.children[l[37]]}}),e.$on("click",n),{c(){q(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,i){X(e,s,i),t=!0},p(s,i){l=s;const r={};i[0]&1|i[1]&64&&(r.flowId=l[0].root.children[l[37]]),i[0]&9|i[1]&64&&(r.selected=l[3]==l[0].root.children[l[37]]),e.$set(r)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function yn(l){let e,t,n,s,i,r="Sign Out",a,o;return{c(){e=E("button"),t=ee("Share Flow"),s=B(),i=E("button"),i.textContent=r,this.h()},l(u){e=C(u,"BUTTON",{class:!0});var f=F(e);t=te(f,"Share Flow"),f.forEach(b),s=L(u),i=C(u,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(i)!=="svelte-r9bwis"&&(i.textContent=r),this.h()},h(){v(e,"class","sidebar-action-btn share-btn svelte-4ab3j9"),e.disabled=n=!l[8],v(i,"class","sidebar-action-btn signout-btn svelte-4ab3j9")},m(u,f){P(u,e,f),y(e,t),P(u,s,f),P(u,i,f),a||(o=[K(e,"click",l[27]),K(i,"click",Us)],a=!0)},p(u,f){f[0]&256&&n!==(n=!u[8])&&(e.disabled=n)},d(u){u&&(b(e),b(s),b(i)),a=!1,je(o)}}}function yo(l){let e,t,n;return t=new Lr({}),{c(){e=E("div"),q(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var i=F(e);Q(t.$$.fragment,i),i.forEach(b),this.h()},h(){v(e,"class","prelude svelte-4ab3j9")},m(s,i){P(s,e,i),X(t,e,null),n=!0},p:Z,i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){V(t.$$.fragment,s),n=!1},d(s){s&&b(e),G(t)}}}function So(l){let e,t,n,s=l[3]!=null&&l[0][l[3]]&&Sn(l),i=l[1]&&En();return{c(){s&&s.c(),e=B(),i&&i.c(),t=Ie()},l(r){s&&s.l(r),e=L(r),i&&i.l(r),t=Ie()},m(r,a){s&&s.m(r,a),P(r,e,a),i&&i.m(r,a),P(r,t,a),n=!0},p(r,a){r[3]!=null&&r[0][r[3]]?s?(s.p(r,a),a[0]&9&&N(s,1)):(s=Sn(r),s.c(),N(s,1),s.m(e.parentNode,e)):s&&(le(),V(s,1,1,()=>{s=null}),ne()),r[1]?i?a[0]&2&&N(i,1):(i=En(),i.c(),N(i,1),i.m(t.parentNode,t)):i&&(le(),V(i,1,1,()=>{i=null}),ne())},i(r){n||(N(s),N(i),n=!0)},o(r){V(s),V(i),n=!1},d(r){r&&(b(e),b(t)),s&&s.d(r),i&&i.d(r)}}}function Io(l){let e,t,n;return t=new ro({}),{c(){e=E("div"),q(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var i=F(e);Q(t.$$.fragment,i),i.forEach(b),this.h()},h(){v(e,"class","prelude svelte-4ab3j9")},m(s,i){P(s,e,i),X(t,e,null),n=!0},p:Z,i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){V(t.$$.fragment,s),n=!1},d(s){s&&b(e),G(t)}}}function Eo(l){let e,t='<div class="loading-message svelte-4ab3j9">Loading...</div>';return{c(){e=E("div"),e.innerHTML=t,this.h()},l(n){e=C(n,"DIV",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-quai5n"&&(e.innerHTML=t),this.h()},h(){v(e,"class","prelude svelte-4ab3j9")},m(n,s){P(n,e,s)},p:Z,i:Z,o:Z,d(n){n&&b(e)}}}function Sn(l){let e=l[3],t,n,s=In(l);return{c(){s.c(),t=Ie()},l(i){s.l(i),t=Ie()},m(i,r){s.m(i,r),P(i,t,r),n=!0},p(i,r){r[0]&8&&me(e,e=i[3])?(le(),V(s,1,1,Z),ne(),s=In(i),s.c(),N(s,1),s.m(t.parentNode,t)):s.p(i,r)},i(i){n||(N(s),n=!0)},o(i){V(s),n=!1},d(i){i&&b(t),s.d(i)}}}function In(l){let e,t,n,s,i,r,a,o,u,f,c;return t=new Ti({props:{flowId:l[3],deleteSelf:l[28]}}),i=new Vi({props:{flowId:l[3]}}),o=new Ii({props:{flowId:l[3]}}),o.$on("focusFlow",l[11]),{c(){e=E("div"),q(t.$$.fragment),n=B(),s=E("div"),q(i.$$.fragment),r=B(),a=E("div"),q(o.$$.fragment),this.h()},l(d){e=C(d,"DIV",{class:!0});var h=F(e);Q(t.$$.fragment,h),h.forEach(b),n=L(d),s=C(d,"DIV",{class:!0});var m=F(s);Q(i.$$.fragment,m),m.forEach(b),r=L(d),a=C(d,"DIV",{class:!0});var p=F(a);Q(o.$$.fragment,p),p.forEach(b),this.h()},h(){v(e,"class","title svelte-4ab3j9"),v(s,"class","box-control svelte-4ab3j9"),v(a,"class","flow svelte-4ab3j9"),z(a,"customScrollbar",Y.data.customScrollbar.value)},m(d,h){P(d,e,h),X(t,e,null),P(d,n,h),P(d,s,h),X(i,s,null),P(d,r,h),P(d,a,h),X(o,a,null),u=!0,f||(c=K(a,"scroll",No),f=!0)},p(d,h){const m={};h[0]&8&&(m.flowId=d[3]),t.$set(m);const p={};h[0]&8&&(p.flowId=d[3]),i.$set(p);const _={};h[0]&8&&(_.flowId=d[3]),o.$set(_)},i(d){u||(N(t.$$.fragment,d),N(i.$$.fragment,d),N(o.$$.fragment,d),u=!0)},o(d){V(t.$$.fragment,d),V(i.$$.fragment,d),V(o.$$.fragment,d),u=!1},d(d){d&&(b(e),b(n),b(s),b(r),b(a)),G(t),G(i),G(o),f=!1,c()}}}function En(l){let e,t,n;return t=new to({}),{c(){e=E("div"),q(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var i=F(e);Q(t.$$.fragment,i),i.forEach(b),this.h()},h(){v(e,"class","side-doc svelte-4ab3j9")},m(s,i){P(s,e,i),X(t,e,null),n=!0},i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){V(t.$$.fragment,s),n=!1},d(s){s&&b(e),G(t)}}}function Co(l){let e,t,n,s,i,r,a,o,u,f,c,d,h,m,p,_,g,w,k,S,I,A,$,T,D,R,O,j;o=new qn({props:{resize:!0,buttons:[{icon:"link",onclick:l[19],tooltip:l[4]?"help":"new updates",tutorialHighlight:1,notification:!l[4]},{icon:"gear",onclick:l[20],tooltip:"settings",tutorialHighlight:2},{icon:"file",onclick:l[21],tooltip:"file",tutorialHighlight:3},{icon:"people",onclick:l[22],tooltip:"share (p2p)",tutorialHighlight:4}]}});let M=l[5]&&vn(l),J=l[5]&&l[7].length>0&&bn(l);m=new ir({props:{list:l[0].root.children,$$slots:{default:[ko,({index:W})=>({37:W}),({index:W})=>[0,W?64:0]]},$$scope:{ctx:l}}}),m.$on("sort",l[14]);function oe(W){l[26](W)}let pe={addFlow:l[12]};l[2]!==void 0&&(pe.switchSpeakers=l[2]),_=new mr({props:pe}),re.push(()=>Se(_,"switchSpeakers",oe));let ae=l[5]&&yn(l);A=new Zr({});const Ne=[Eo,Io,So,yo],be=[];function ce(W,ie){return W[9]?0:W[5]?W[0].root.children.length>0?2:3:1}return T=ce(l),D=be[T]=Ne[T](l),{c(){e=B(),t=E("main"),n=E("input"),s=B(),i=E("div"),r=E("div"),a=E("div"),q(o.$$.fragment),u=B(),M&&M.c(),f=B(),c=E("div"),d=E("div"),J&&J.c(),h=B(),q(m.$$.fragment),p=B(),q(_.$$.fragment),w=B(),k=E("div"),ae&&ae.c(),S=B(),I=E("div"),q(A.$$.fragment),$=B(),D.c(),this.h()},l(W){e=L(W),t=C(W,"MAIN",{class:!0});var ie=F(t);n=C(ie,"INPUT",{id:!0,type:!0}),s=L(ie),i=C(ie,"DIV",{class:!0});var Ve=F(i);r=C(Ve,"DIV",{class:!0});var H=F(r);a=C(H,"DIV",{class:!0});var x=F(a);Q(o.$$.fragment,x),u=L(x),M&&M.l(x),x.forEach(b),f=L(H),c=C(H,"DIV",{class:!0});var _e=F(c);d=C(_e,"DIV",{class:!0});var Ae=F(d);J&&J.l(Ae),h=L(Ae),Q(m.$$.fragment,Ae),p=L(Ae),Q(_.$$.fragment,Ae),Ae.forEach(b),_e.forEach(b),w=L(H),k=C(H,"DIV",{class:!0});var Pe=F(k);ae&&ae.l(Pe),Pe.forEach(b),S=L(H),I=C(H,"DIV",{class:!0});var Le=F(I);Q(A.$$.fragment,Le),Le.forEach(b),H.forEach(b),$=L(Ve),D.l(Ve),Ve.forEach(b),ie.forEach(b),this.h()},h(){v(n,"id","uploadId"),v(n,"type","file"),n.hidden=!0,v(a,"class","header svelte-4ab3j9"),v(d,"class","tabScroll svelte-4ab3j9"),v(c,"class","tabs svelte-4ab3j9"),z(c,"customScrollbar",Y.data.customScrollbar.value),v(k,"class","sidebar-footer svelte-4ab3j9"),v(I,"class","timer"),v(r,"class","sidebar svelte-4ab3j9"),v(i,"class","grid svelte-4ab3j9"),z(i,"showPrelude",!(l[0].root.children.length>0)),v(t,"class","palette-plain"),z(t,"activeMouse",mt)},m(W,ie){P(W,e,ie),P(W,t,ie),y(t,n),y(t,s),y(t,i),y(i,r),y(r,a),X(o,a,null),y(a,u),M&&M.m(a,null),y(r,f),y(r,c),y(c,d),J&&J.m(d,null),y(d,h),X(m,d,null),y(d,p),X(_,d,null),y(r,w),y(r,k),ae&&ae.m(k,null),y(r,S),y(r,I),X(A,I,null),y(i,$),be[T].m(i,null),R=!0,O||(j=[K(gt.body,"keydown",l[16]),K(gt.body,"mousemove",l[15]),K(gt.body,"dragenter",To),K(gt.body,"drop",l[17]),K(n,"change",l[18])],O=!0)},p(W,ie){const Ve={};ie[0]&16&&(Ve.buttons=[{icon:"link",onclick:W[19],tooltip:W[4]?"help":"new updates",tutorialHighlight:1,notification:!W[4]},{icon:"gear",onclick:W[20],tooltip:"settings",tutorialHighlight:2},{icon:"file",onclick:W[21],tooltip:"file",tutorialHighlight:3},{icon:"people",onclick:W[22],tooltip:"share (p2p)",tutorialHighlight:4}]),o.$set(Ve),W[5]?M?M.p(W,ie):(M=vn(W),M.c(),M.m(a,null)):M&&(M.d(1),M=null),W[5]&&W[7].length>0?J?J.p(W,ie):(J=bn(W),J.c(),J.m(d,h)):J&&(J.d(1),J=null);const H={};ie[0]&1&&(H.list=W[0].root.children),ie[0]&9|ie[1]&1088&&(H.$$scope={dirty:ie,ctx:W}),m.$set(H);const x={};!g&&ie[0]&4&&(g=!0,x.switchSpeakers=W[2],ye(()=>g=!1)),_.$set(x),W[5]?ae?ae.p(W,ie):(ae=yn(W),ae.c(),ae.m(k,null)):ae&&(ae.d(1),ae=null);let _e=T;T=ce(W),T===_e?be[T].p(W,ie):(le(),V(be[_e],1,1,()=>{be[_e]=null}),ne(),D=be[T],D?D.p(W,ie):(D=be[T]=Ne[T](W),D.c()),N(D,1),D.m(i,null)),(!R||ie[0]&1)&&z(i,"showPrelude",!(W[0].root.children.length>0))},i(W){R||(N(o.$$.fragment,W),N(m.$$.fragment,W),N(_.$$.fragment,W),N(A.$$.fragment,W),N(D),R=!0)},o(W){V(o.$$.fragment,W),V(m.$$.fragment,W),V(_.$$.fragment,W),V(A.$$.fragment,W),V(D),R=!1},d(W){W&&(b(e),b(t)),G(o),M&&M.d(),J&&J.d(),G(m),G(_),ae&&ae.d(),G(A),be[T].d(),O=!1,je(j)}}}function To(l){l.preventDefault()}function No(l){const e=l.currentTarget;e.scrollTop!==0&&(e.scrollTop=0)}function Ao(l,e,t){let n,s,i,r,a,o,u,f,c,d,h,m,p;de(l,Ke,H=>t(3,s=H)),de(l,mt,H=>t(30,i=H)),de(l,st,H=>t(0,r=H)),de(l,ft,H=>t(31,a=H)),de(l,ke,H=>t(32,o=H)),de(l,On,H=>t(33,u=H)),de(l,zs,H=>t(4,f=H)),de(l,qs,H=>t(5,c=H)),de(l,Qs,H=>t(6,d=H)),de(l,Xs,H=>t(7,h=H)),de(l,jn,H=>t(8,m=H)),de(l,Gs,H=>t(9,p=H)),tt(()=>{window.addEventListener("dragover",function(H){H.preventDefault()},!1),window.addEventListener("drop",function(H){H.preventDefault()},!1),window.addEventListener("beforeunload",function(H){if(n&&!ri){let x="Are you sure you want to leave?";return H.returnValue=x,x}})});let _=Y.data.showSideDoc.value;Be(Y.subscribe(["showSideDoc"],H=>{t(1,_=Y.data[H].value)}));function g(H){k(),ue(Ke,s=H,s),w()}function w(){if(s==null)return;let H=u[s];H==null&&(H=s),ue(ke,o=H,o)}function k(){ue(ke,o=null,o)}function S(H){k();let x=Ws(r.root.children.length,H,M);x!=null&&(ue(Ke,s=x,s),w())}async function I(){if(s==null)return;k();let H=r.root.children.indexOf(s);Js(s);let x;H==0?x=0:x=H-1,r.root.children.length>0?(ue(Ke,s=r.root.children[x],s),w()):ue(Ke,s=null,s)}function A(H){let{from:x,to:_e}=H.detail;x>_e&&(_e+=1),Ks(r.root.children[x],_e)}function $(H){ue(mt,i=!0,i)}const T=$t({control:{n:{handle:()=>{const H=rt("primary");H!=null&&S(H)},require:()=>rt("primary")!=null}},"control shift":{n:{handle:()=>{const H=rt("secondary");H!=null&&S(H)},require:()=>rt("secondary")!=null}},"commandControl shift":{z:{handle:()=>{s!=null&&Re.redo(s,a)},require:()=>s==null?!1:Re.canRedo(s,a),stopRepeat:!1,preventDefault:"always"}},commandControl:{z:{handle:()=>{s!=null&&Re.undo(s,a)},require:()=>s==null?!1:Re.canUndo(s,a),stopRepeat:!1,preventDefault:"always"}},"commandControl alt":{ArrowUp:{handle:()=>{if(s==null)return;let H=(r.root.children.indexOf(s)-1)%r.root.children.length;H<0&&(H=r.root.children.length-1),g(r.root.children[H])},require:()=>r.root.children.length>0,stopRepeat:!1},ArrowDown:{handle:()=>{if(s==null)return;let H=(r.root.children.indexOf(s)+1)%r.root.children.length;g(r.root.children[H])},require:()=>r.root.children.length>0,stopRepeat:!1}}});function D(H){ue(mt,i=!1,i),T(H)}function R(H){var Ae;H.preventDefault();let x=(Ae=H==null?void 0:H.dataTransfer)==null?void 0:Ae.files[0];if(x==null)return;let _e=new FileReader;_e.onload=function(Pe){var ze;let Le=(ze=Pe.target)==null?void 0:ze.result;Le!=null&&j(Le.toString())},x.type=="text/plain"||x.type=="application/json"?_e.readAsText(x,"UTF-8"):nt(Gt,"File Message",{message:"Invalid file",error:!0})}function O(){var Ae;const H=document.getElementById("uploadId");if(!((Ae=H==null?void 0:H.files)!=null&&Ae.length))return;const x=H.files[0];let _e=new FileReader;_e.onload=function(Pe){var ze;let Le=(ze=Pe.target)==null?void 0:ze.result;Le!=null&&(j(Le.toString()),H.value="")},_e.readAsText(x,"UTF-8")}async function j(H){let x=JSON.parse(H);if(x.isSettings){Ys(x);return}let _e=null;try{_e=Zs(x)}catch{nt(Gt,"File Message",{message:"Invalid file",error:!0})}_e!=null&&(!n||confirm("Are you sure you want to overwrite your current flows?"))&&(Wt(_e),ue(Ke,s=null,s),xs())}let M=!1;tt(()=>{document.body.classList.add("app")}),Be(()=>{document.body.classList.remove("app"),document.body.classList.remove("customScrollbar")});const J=()=>nt(ei,"Help"),oe=()=>nt(er,"Settings"),pe=()=>nt(Bi,"File"),ae=()=>nt(ti,"Share"),Ne=H=>li(H.id),be=()=>{ni(),Wt(si()),ue(Ke,s=null,s)},ce=H=>g(r.root.children[H]);function W(H){M=H,t(2,M)}const ie=()=>nt(_o,"Share Flow"),Ve=()=>I();return l.$$.update=()=>{l.$$.dirty[0]&1&&(n=r.root.children.length>0)},Y.data.customScrollbar.value?document.body.classList.add("customScrollbar"):document.body.classList.remove("customScrollbar"),[r,_,M,s,f,c,d,h,m,p,g,w,S,I,A,$,D,R,O,J,oe,pe,ae,Ne,be,ce,W,ie,Ve]}class Bo extends ge{constructor(e){super(),ve(this,e,Ao,Co,me,{},null,[-1,-1])}}export{Bo as component};

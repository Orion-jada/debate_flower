import{n as Z,G as Nn,V as ht,i as Nt,a as he,e as E,c as C,d as F,g as b,u as v,a1 as q,j as z,a5 as De,U as W,r as Ue,X as Le,q as nt,a3 as xe,x as ie,z as et,A as tt,k as y,b as P,h as B,a6 as Ce,E as Ne,m as ce,a7 as Lt,o as Se,a8 as ue,w as mt,a2 as ke,t as x,f as ee,l as Ae,a4 as He,a9 as Ot,p as os,T as ae,aa as Dn,ab as An,ac as Dt,s as as,Z as us,_ as fs,$ as cs,a0 as ds,ad as hs,ae as $n}from"../chunks/CZSVg8Ib.js";import{n as Fn,l as Vn,o as ms,p as ps,S as _e,i as ge,g as te,t as V,c as le,a as N,f as Ve,h as We,b as j,d as Q,m as X,e as G,k as ye,j as st}from"../chunks/DGc244xU.js";import{t as Rn,s as Y,u as _s,v as gs,w as at,x as pt,y as we,z as bt,A as ze,C as Ye,D as Mt,E as St,F as zn,G as Pn,H as Bn,I as vs,J as bs,K as Ln,L as Ht,N as Ut,O as ws,B as be,P as ks,g as On,a as Mn,Q as It,R as Ze,T as Hn,U as qt,V as ys,W as Ss,X as Is,Y as Es,Z as ft,_ as Cs,$ as Et,a0 as Ts,a1 as Ns,a2 as Ds,a3 as As,a4 as $s,a5 as vt,a6 as Vt,a7 as lt,a8 as Fs,a9 as jt,aa as Qt,ab as Vs,ac as Rs,ad as Xt,ae as zs,af as Gt,ag as Wt,ah as Ps,ai as Bs,aj as Ls,ak as Un,al as Os,am as Ms,an as Hs,k as Us,ao as qs,ap as js,m as Qs,aq as Xs,ar as Gs,as as Ws,at as Js,r as Ks,au as Ys,av as Zs,aw as xs,ax as ei,d as ot,M as Jt,ay as ti,az as li,aA as Kt,aB as ni,aC as si,S as ii,o as ri,aD as oi,aE as ai}from"../chunks/PWkuh_c1.js";import{e as de,u as Rt,o as qn,c as zt,I as Qe,f as ui}from"../chunks/uAZhuwNx.js";/* empty css                */import{w as jn}from"../chunks/yyzts79b.js";const fi=!1;function ci(l,e,t,n){if(!e)return Z;const s=l.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return Z;const{delay:i=0,duration:r=300,easing:a=Nn,start:o=Fn()+i,end:u=o+r,tick:f=Z,css:c}=t(l,{from:e,to:s},n);let d=!0,h=!1,m;function p(){c&&(m=ms(l,0,1,r,i,a,c)),i||(h=!0)}function _(){c&&ps(l,m),d=!1}return Vn(g=>{if(!h&&g>=o&&(h=!0),h&&g>=u&&(f(1,0),_()),!d)return!1;if(h){const w=g-o,k=0+1*a(w/r);f(k,1-k)}return!0}),p(),f(0,1),_}function di(l){const e=getComputedStyle(l);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,s=l.getBoundingClientRect();l.style.position="absolute",l.style.width=t,l.style.height=n,Qn(l,s)}}function Qn(l,e){const t=l.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(l),s=n.transform==="none"?"":n.transform;l.style.transform=`${s} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function hi({fallback:l,...e}){const t=new Map,n=new Map;function s(r,a,o){const{delay:u=0,duration:f=D=>Math.sqrt(D)*30,easing:c=Rn}=ht(ht({},e),o),d=r.getBoundingClientRect(),h=a.getBoundingClientRect(),m=d.left-h.left,p=d.top-h.top,_=d.width/h.width,g=d.height/h.height,w=Math.sqrt(m*m+p*p),k=getComputedStyle(a),S=k.transform==="none"?"":k.transform,I=+k.opacity;return{delay:u,duration:Nt(f)?f(w):f,easing:c,css:(D,A)=>`
				opacity: ${D*I};
				transform-origin: top left;
				transform: ${S} translate(${A*m}px,${A*p}px) scale(${D+(1-D)*_}, ${D+(1-D)*g});
			`}}function i(r,a,o){return(u,f)=>(r.set(f.key,u),()=>{if(a.has(f.key)){const c=a.get(f.key);return a.delete(f.key),s(c,u,f)}return r.delete(f.key),l&&l(u,f,o)})}return[i(n,t,!1),i(t,n,!0)]}function mi(l){let e,t,n,s;return{c(){e=E("textarea"),this.h()},l(i){e=C(i,"TEXTAREA",{spellcheck:!0,placeholder:!0,style:!0,class:!0}),F(e).forEach(b),this.h()},h(){v(e,"spellcheck","false"),v(e,"placeholder",l[1]),v(e,"style",t=`--white-space:${l[5]};`),e.readOnly=l[3],v(e,"class","svelte-1ilfv2h"),q(e,"strikethrough",l[2])},m(i,r){z(i,e,r),De(e,l[0]),l[17](e),n||(s=[W(e,"input",l[16]),W(e,"load",l[11]),W(e,"input",l[18]),W(e,"beforeinput",l[12]),W(e,"keydown",l[13]),W(e,"focus",l[14]),W(e,"blur",l[15])],n=!0)},p(i,[r]){r&2&&v(e,"placeholder",i[1]),r&32&&t!==(t=`--white-space:${i[5]};`)&&v(e,"style",t),r&8&&(e.readOnly=i[3]),r&1&&De(e,i[0]),r&4&&q(e,"strikethrough",i[2])},i:Z,o:Z,d(i){i&&b(e),l[17](null),n=!1,Ue(s)}}}function pi(l,e,t){let{value:n}=e,{placeholder:s=""}=e,{nowrap:i=!1}=e,{strikethrough:r=!1}=e,{readonly:a=!1}=e,{bold:o=void 0}=e,{textHeight:u=0}=e,f,c,d,h;function m(T){c&&(d!==n||h!==o||T)&&(t(6,c.value=c.value.replace(/\r?\n|\r/g,""),c),t(6,c.style.height="0px",c),t(7,u=c.scrollHeight),t(6,c.style.height=u+"px",c),d=n,h=o)}Le(Y.subscribe(["fontSize"],()=>m(!0))),nt(()=>{requestAnimationFrame(()=>m())});const p=()=>{c.focus()};function _(T){xe.call(this,l,T)}function g(T){xe.call(this,l,T)}function w(T){xe.call(this,l,T)}function k(T){xe.call(this,l,T)}function S(T){xe.call(this,l,T)}function I(){n=this.value,t(0,n)}function D(T){ie[T?"unshift":"push"](()=>{c=T,t(6,c)})}const A=()=>requestAnimationFrame(()=>m());return l.$$set=T=>{"value"in T&&t(0,n=T.value),"placeholder"in T&&t(1,s=T.placeholder),"nowrap"in T&&t(8,i=T.nowrap),"strikethrough"in T&&t(2,r=T.strikethrough),"readonly"in T&&t(3,a=T.readonly),"bold"in T&&t(9,o=T.bold),"textHeight"in T&&t(7,u=T.textHeight)},l.$$.update=()=>{l.$$.dirty&256&&(i?t(5,f="nowrap"):t(5,f="auto"))},[n,s,r,a,m,f,c,u,i,o,p,_,g,w,k,S,I,D,A]}class Pt extends _e{constructor(e){super(),ge(this,e,pi,mi,he,{value:0,placeholder:1,nowrap:8,strikethrough:2,readonly:3,bold:9,textHeight:7,autoHeight:4,focus:10})}get autoHeight(){return this.$$.ctx[4]}get focus(){return this.$$.ctx[10]}}const wt=jn(new Map);function _i(l){let e,t,n;return{c(){e=et("svg"),t=et("path"),n=et("path"),this.h()},l(s){e=tt(s,"svg",{style:!0,viewBox:!0,fill:!0,stroke:!0,class:!0});var i=F(e);t=tt(i,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),F(t).forEach(b),n=tt(i,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),F(n).forEach(b),i.forEach(b),this.h()},h(){v(t,"d","M68 8L49 29L30 8"),v(t,"stroke","currentColor"),v(t,"stroke-width","10"),v(t,"stroke-linecap","round"),v(t,"stroke-linejoin","round"),v(t,"class","arrowAbove svelte-1q5bq9r"),v(n,"d","M30 92L49 71L68 92"),v(n,"stroke","currentColor"),v(n,"stroke-width","10"),v(n,"stroke-linecap","round"),v(n,"stroke-linejoin","round"),v(n,"class","arrowBelow svelte-1q5bq9r"),v(e,"style",`width:${Yt};height:${Yt};`),v(e,"viewBox","0 0 100 100"),v(e,"fill","none"),v(e,"stroke","var(--text)"),v(e,"class","svelte-1q5bq9r")},m(s,i){z(s,e,i),y(e,t),y(e,n)},p:Z,i:Z,o:Z,d(s){s&&b(e)}}}let Yt="var(--button-size)";class gi extends _e{constructor(e){super(),ge(this,e,null,_i,he,{})}}function Zt(l,e,t){const n=l.slice();return n[65]=e[t],n[67]=t,n}function vi(l){var D;let e,t,n,s,i,r,a,o,u,f,c,d,h,m,p,_,g,w=l[5]!=null&&xt(l),k=((D=l[5])==null?void 0:D.isExtension)&&el(l),S=!l[14]&&l[4].children.length==0&&l[4].level<l[17]&&tl(l),I=l[14]&&ll(l);return{c(){e=E("div"),t=E("div"),n=E("div"),r=P(),a=E("div"),w&&w.c(),o=P(),k&&k.c(),u=P(),f=E("div"),h=P(),S&&S.c(),m=P(),I&&I.c(),this.h()},l(A){e=C(A,"DIV",{class:!0,style:!0});var T=F(e);t=C(T,"DIV",{class:!0});var $=F(t);n=C($,"DIV",{class:!0,role:!0}),F(n).forEach(b),r=B($),a=C($,"DIV",{class:!0});var R=F(a);w&&w.l(R),R.forEach(b),o=B($),k&&k.l($),u=B($),f=C($,"DIV",{class:!0,role:!0}),F(f).forEach(b),$.forEach(b),h=B(T),S&&S.l(T),m=B(T),I&&I.l(T),T.forEach(b),this.h()},h(){var A,T;v(n,"class","line above svelte-lfoydy"),v(n,"role","separator"),q(n,"left",l[4].children.length>0),q(n,"right",l[16]()==0&&l[4].level>1&&!l[1]),v(a,"class","text svelte-lfoydy"),q(a,"crossed",(A=l[5])==null?void 0:A.crossed),q(a,"bold",(T=l[5])==null?void 0:T.bold),v(f,"class","line below svelte-lfoydy"),v(f,"role","separator"),v(t,"class","barcontainer svelte-lfoydy"),v(e,"class","content svelte-lfoydy"),v(e,"style","--this-background: none"),q(e,"root",l[5]==null),q(e,"left",l[4].children.length>0),q(e,"right",l[16]()==0&&l[4].level>1&&!l[1])},m(A,T){z(A,e,T),y(e,t),y(t,n),y(t,r),y(t,a),w&&w.m(a,null),y(t,o),k&&k.m(t,null),y(t,u),y(t,f),y(e,h),S&&S.m(e,null),y(e,m),I&&I.m(e,null),p=!0,_||(g=[W(n,"click",l[35]),W(n,"mousedown",Ct),W(f,"click",l[40]),W(f,"mousedown",Ct)],_=!0)},p(A,T){var $,R,L;(!p||T[0]&16)&&q(n,"left",A[4].children.length>0),(!p||T[0]&65554)&&q(n,"right",A[16]()==0&&A[4].level>1&&!A[1]),A[5]!=null?w?(w.p(A,T),T[0]&32&&N(w,1)):(w=xt(A),w.c(),N(w,1),w.m(a,null)):w&&(te(),V(w,1,1,()=>{w=null}),le()),(!p||T[0]&32)&&q(a,"crossed",($=A[5])==null?void 0:$.crossed),(!p||T[0]&32)&&q(a,"bold",(R=A[5])==null?void 0:R.bold),(L=A[5])!=null&&L.isExtension?k?(k.p(A,T),T[0]&32&&N(k,1)):(k=el(A),k.c(),N(k,1),k.m(t,u)):k&&(te(),V(k,1,1,()=>{k=null}),le()),!A[14]&&A[4].children.length==0&&A[4].level<A[17]?S?(S.p(A,T),T[0]&16400&&N(S,1)):(S=tl(A),S.c(),N(S,1),S.m(e,m)):S&&(te(),V(S,1,1,()=>{S=null}),le()),A[14]?I?(I.p(A,T),T[0]&16384&&N(I,1)):(I=ll(A),I.c(),N(I,1),I.m(e,null)):I&&(te(),V(I,1,1,()=>{I=null}),le()),(!p||T[0]&32)&&q(e,"root",A[5]==null),(!p||T[0]&16)&&q(e,"left",A[4].children.length>0),(!p||T[0]&65554)&&q(e,"right",A[16]()==0&&A[4].level>1&&!A[1])},i(A){p||(A&&Ne(()=>{p&&(i&&i.end(1),s=Ve(n,Ht,{}),s.start())}),N(w),N(k),A&&Ne(()=>{p&&(d&&d.end(1),c=Ve(f,Ht,{}),c.start())}),N(S),N(I),p=!0)},o(A){s&&s.invalidate(),A&&(i=We(n,Ut,{})),V(w),V(k),c&&c.invalidate(),A&&(d=We(f,Ut,{})),V(S),V(I),p=!1},d(A){A&&b(e),A&&i&&i.end(),w&&w.d(),k&&k.d(),A&&d&&d.end(),S&&S.d(),I&&I.d(),_=!1,Ue(g)}}}function bi(l){let e;return{c(){e=E("div"),this.h()},l(t){e=C(t,"DIV",{class:!0}),F(e).forEach(b),this.h()},h(){v(e,"class","content svelte-lfoydy")},m(t,n){z(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&b(e)}}}function xt(l){var f;let e,t,n,s,i;function r(c){l[36](c)}function a(c){l[38](c)}function o(c){l[39](c)}let u={bold:!!l[5].bold,placeholder:l[5].placeholder??(l[4].level==1&&l[16]()==0?"type here":""),readonly:((f=l[5])==null?void 0:f.isExtension)??!1};return l[12]!==void 0&&(u.value=l[12]),l[13]!==void 0&&(u.autoHeight=l[13]),l[7]!==void 0&&(u.textHeight=l[7]),e=new Pt({props:u}),ie.push(()=>ye(e,"value",r)),l[37](e),ie.push(()=>ye(e,"autoHeight",a)),ie.push(()=>ye(e,"textHeight",o)),e.$on("keydown",l[21]),e.$on("blur",l[19]),e.$on("focus",l[20]),e.$on("beforeinput",l[27]),{c(){j(e.$$.fragment)},l(c){Q(e.$$.fragment,c)},m(c,d){X(e,c,d),i=!0},p(c,d){var m;const h={};d[0]&32&&(h.bold=!!c[5].bold),d[0]&48&&(h.placeholder=c[5].placeholder??(c[4].level==1&&c[16]()==0?"type here":"")),d[0]&32&&(h.readonly=((m=c[5])==null?void 0:m.isExtension)??!1),!t&&d[0]&4096&&(t=!0,h.value=c[12],ke(()=>t=!1)),!n&&d[0]&8192&&(n=!0,h.autoHeight=c[13],ke(()=>n=!1)),!s&&d[0]&128&&(s=!0,h.textHeight=c[7],ke(()=>s=!1)),e.$set(h)},i(c){i||(N(e.$$.fragment,c),i=!0)},o(c){V(e.$$.fragment,c),i=!1},d(c){l[37](null),G(e,c)}}}function el(l){let e,t,n;return t=new Qe({props:{name:"arrowRightThroughCircle",size:l[7]+"px"}}),{c(){e=E("div"),j(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var i=F(e);Q(t.$$.fragment,i),i.forEach(b),this.h()},h(){v(e,"class","extensionIcon svelte-lfoydy")},m(s,i){z(s,e,i),X(t,e,null),n=!0},p(s,i){const r={};i[0]&128&&(r.size=s[7]+"px"),t.$set(r)},i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){V(t.$$.fragment,s),n=!1},d(s){s&&b(e),G(t)}}}function tl(l){let e,t,n,s,i,r,a;return t=new Qe({props:{name:"add"}}),{c(){e=E("button"),j(t.$$.fragment),this.h()},l(o){e=C(o,"BUTTON",{class:!0});var u=F(e);Q(t.$$.fragment,u),u.forEach(b),this.h()},h(){v(e,"class",n=Ce(`add palette-${l[11]}`)+" svelte-lfoydy")},m(o,u){z(o,e,u),X(t,e,null),i=!0,r||(a=[W(e,"click",l[41]),W(e,"mousedown",Ct)],r=!0)},p(o,u){(!i||u[0]&2048&&n!==(n=Ce(`add palette-${o[11]}`)+" svelte-lfoydy"))&&v(e,"class",n)},i(o){i||(N(t.$$.fragment,o),o&&(s||Ne(()=>{s=Ve(e,ws,{}),s.start()})),i=!0)},o(o){V(t.$$.fragment,o),i=!1},d(o){o&&b(e),G(t),r=!1,Ue(a)}}}function ll(l){let e,t,n,s,i,r;return t=new gi({}),{c(){e=E("button"),j(t.$$.fragment),this.h()},l(a){e=C(a,"BUTTON",{class:!0});var o=F(e);Q(t.$$.fragment,o),o.forEach(b),this.h()},h(){v(e,"class",n=Ce(`unfoldButton foldParent palette-${l[11]}`)+" svelte-lfoydy")},m(a,o){z(a,e,o),X(t,e,null),s=!0,i||(r=[W(e,"click",l[28]),W(e,"mousedown",Ct)],i=!0)},p(a,o){(!s||o[0]&2048&&n!==(n=Ce(`unfoldButton foldParent palette-${a[11]}`)+" svelte-lfoydy"))&&v(e,"class",n)},i(a){s||(N(t.$$.fragment,a),s=!0)},o(a){V(t.$$.fragment,a),s=!1},d(a){a&&b(e),G(t),i=!1,Ue(r)}}}function nl(l,e){var i;let t,n,s;return n=new Xn({props:{id:e[65],addSibling:e[22],deleteSelf:e[23],focusSibling:e[24],focusSiblingStrict:e[25],focusParent:e[26],dispatchSelfFocus:e[18],parentIsEmpty:((i=e[5])==null?void 0:i.empty)??!1}}),n.$on("saveFocus",e[42]),{key:l,first:null,c(){t=Se(),j(n.$$.fragment),this.h()},l(r){t=Se(),Q(n.$$.fragment,r),this.h()},h(){this.first=t},m(r,a){z(r,t,a),X(n,r,a),s=!0},p(r,a){var u;e=r;const o={};a[0]&16&&(o.id=e[65]),a[0]&32&&(o.parentIsEmpty=((u=e[5])==null?void 0:u.empty)??!1),n.$set(o)},i(r){s||(N(n.$$.fragment,r),s=!0)},o(r){V(n.$$.fragment,r),s=!1},d(r){r&&b(t),G(n,r)}}}function wi(l){let e,t,n,s,i,r=[],a=new Map,o,u,f,c;const d=[bi,vi],h=[];function m(g,w){var k;return(k=g[5])!=null&&k.empty?0:1}t=m(l),n=h[t]=d[t](l);let p=de(l[4].children);const _=g=>g[65];for(let g=0;g<p.length;g+=1){let w=Zt(l,p,g),k=_(w);a.set(k,r[g]=nl(k,w))}return{c(){e=E("div"),n.c(),s=P(),i=E("ul");for(let g=0;g<r.length;g+=1)r[g].c();this.h()},l(g){e=C(g,"DIV",{class:!0});var w=F(e);n.l(w),s=B(w),i=C(w,"UL",{class:!0});var k=F(i);for(let S=0;S<r.length;S+=1)r[S].l(k);k.forEach(b),w.forEach(b),this.h()},h(){var g;v(i,"class","children svelte-lfoydy"),q(i,"isFolded",l[14]),v(e,"class",o=Ce(`box top palette-${l[10]}`)+" svelte-lfoydy"),q(e,"childless",l[4].children.length==0),q(e,"empty",(g=l[5])==null?void 0:g.empty),q(e,"focus",l[6]==l[0]),q(e,"childFocus",l[9]),q(e,"activeMouse",l[15]),q(e,"highlight",l[9]||l[6]==l[0])},m(g,w){z(g,e,w),h[t].m(e,null),y(e,s),y(e,i);for(let k=0;k<r.length;k+=1)r[k]&&r[k].m(i,null);c=!0},p(g,w){var S;l=g;let k=t;t=m(l),t===k?h[t].p(l,w):(te(),V(h[k],1,1,()=>{h[k]=null}),le(),n=h[t],n?n.p(l,w):(n=h[t]=d[t](l),n.c()),N(n,1),n.m(e,s)),w[0]&130285616&&(p=de(l[4].children),te(),r=Rt(r,w,_,1,l,p,a,i,qn,nl,null,Zt),le()),(!c||w[0]&16384)&&q(i,"isFolded",l[14]),(!c||w[0]&1024&&o!==(o=Ce(`box top palette-${l[10]}`)+" svelte-lfoydy"))&&v(e,"class",o),(!c||w[0]&1040)&&q(e,"childless",l[4].children.length==0),(!c||w[0]&1056)&&q(e,"empty",(S=l[5])==null?void 0:S.empty),(!c||w[0]&1089)&&q(e,"focus",l[6]==l[0]),(!c||w[0]&1536)&&q(e,"childFocus",l[9]),(!c||w[0]&33792)&&q(e,"activeMouse",l[15]),(!c||w[0]&1601)&&q(e,"highlight",l[9]||l[6]==l[0])},i(g){if(!c){N(n);for(let w=0;w<p.length;w+=1)N(r[w]);g&&Ne(()=>{c&&(f&&f.end(1),u=Ve(e,_s,{skip:l[5]==null}),u.start())}),c=!0}},o(g){V(n);for(let w=0;w<r.length;w+=1)V(r[w]);u&&u.invalidate(),g&&(f=We(e,gs,{skip:l[5]==null})),c=!1},d(g){g&&b(e),h[t].d();for(let w=0;w<r.length;w+=1)r[w].d();g&&f&&f.end()}}}function Ct(l){l.preventDefault()}function ki(l,e,t){let n,s,i,r,a,o;ce(l,wt,U=>t(33,s=U)),ce(l,at,U=>t(34,i=U)),ce(l,pt,U=>t(47,r=U)),ce(l,we,U=>t(6,a=U)),ce(l,bt,U=>t(15,o=U));let{id:u}=e,{parentIsEmpty:f=!1}=e,c=Y.data.consistentEnterBehaviour.value,d=Y.data.tabReturnsToParent.value,h,m,p=10;function _(){let U=i[u];U!=null&&(t(4,h=U),h.value.tag=="flow"?t(5,m=null):(t(5,m=h.value),requestAnimationFrame(()=>gt&&gt())))}let g;function w(){let U=i[h.parent];if(U==null)return g;let ne=U.children.indexOf(u);return ne==-1||(g=ne),g}let{addSibling:k=()=>!1}=e,{deleteSelf:S=()=>{}}=e,{focusSibling:I=()=>{}}=e,{focusSiblingStrict:D=()=>!1}=e,{focusParent:A=()=>{}}=e,{dispatchSelfFocus:T=()=>{}}=e,R=Lt("invert")(),O=Lt("columnCount")(),M,K=!1,re=new Set;function me(U,ne){ne?re.add(U):re.delete(U),t(9,K=re.size>0)}let oe=!1,Ie=a;function ve(){a==u?(T(u,!0),h.level>=1&&oe&&M&&M.focus()):Ie==u&&T(u,!1),Ie=a}nt(()=>{oe=!0,ve()}),Le(()=>{T(u,!1)});function fe(){a==u&&ue(we,a=null,a)}function J(){a!=u&&ue(we,a=u,a)}let Re=zt({"control shift":{x:{handle:()=>{m!=null&&m.isExtension||Te("crossed")}}},commandControl:{Backspace:{handle:()=>{H(),S(w()),ze.setPrevAfterFocus(a)}},b:{handle:()=>{m!=null&&m.isExtension||Te("bold")}},e:{handle:()=>{!(m!=null&&m.isExtension)&&Pe()&&ut(0,0)}}},"alt shift":{Enter:{handle:()=>{let U=i[u];if(U==null)return;let ne=Ye(i,U.parent);if(ne==null)return;let Ee=Mt(i,ne,"down");if(Ee==null)return;let je=i[Ee];if(je==null)return;H(),St(Ee,0);let Je=je.children[0];ue(we,a=Je,a),ze.setPrevAfterFocus(a)}}},alt:{Enter:{handle:()=>{if(!(m!=null&&m.isExtension))if(c)k(w(),0)&&(I(w(),0),ze.setPrevAfterFocus(a));else{if(H(),D(w(),-1))return;k(w(),0)&&(I(w(),0),ze.setPrevAfterFocus(a))}}}},shift:{Enter:{handle:()=>{var ne;H();let U=0;h.children[0]&&((ne=i[h.children[0]])!=null&&ne.value.isExtension)&&(U=1),$e(U,0)&&(Oe(U,0),ze.setPrevAfterFocus(a))}},Tab:{handle:()=>{H(),I(w(),-1)}}},none:{Enter:{handle:()=>{if(c)k(w(),1)&&(I(w(),1),ze.setPrevAfterFocus(a));else{if(H(),D(w(),1))return;k(w(),1)&&(I(w(),1),ze.setPrevAfterFocus(a))}}},Backspace:{handle:()=>{H(),S(w()),ze.setPrevAfterFocus(a)},require:()=>(((Me==null?void 0:Me.length)??1)==0||((m==null?void 0:m.isExtension)??!1))&&h.children.length==0},ArrowUp:{handle:()=>{H(),it("up")||(h.level==1?A():qe())}},ArrowDown:{handle:()=>{H(),it("down")||qe()}},Tab:{handle:()=>{H(),I(w(),1,d)}},ArrowLeft:{handle:()=>{A()}},ArrowRight:{handle:()=>{H(),h.children.length>0?Oe(0,0):qe()}}},control:{l:{handle:()=>{!n&&h.children.length==0||Kn()}}}});function Te(U){const ne=Ye(i,u);ne!=null&&(zn(ne,U),_())}function $e(U,ne){let Ee=U+ne;return h.level<O?(St(u,Ee),!0):(qe(),!1)}function Pe(){var U;return h.children.length>=1&&((U=i[h.children[0]])!=null&&U.value.isExtension)?!1:h.level<O-1?(Pn(u),!0):(qe(),!1)}async function Be(U){if(h.children.length>1||h.level>=1){if(m!=null&&m.empty&&h.children.length==1){S(w());return}let ne=h.children[U];a==ne&&ue(we,a=null,a),await mt();const Ee=i[ne]?i[ne].value.isExtension:!1;return Bn(ne),Ee?qe():h.children[U-1]?Oe(U-1,0):h.children.length==0?qe():U==0&&Oe(0,0),!0}else return Oe(0,0),!1}function Oe(U,ne,Ee){let je=U+ne;if(je<0){qe();return}if(je>=h.children.length){if(Ee){qe();return}let Je=i[h.children[h.children.length-1]];if(Je==null)return;if(Je.children.length>0){let rs=Je.children[0];ue(we,a=rs,a)}else ue(we,a=u,a)}else{let Je=i[h.children[je]];if(Je==null)return;Je.value.empty&&ne!=0?Oe(je,ne,Ee):ue(we,a=h.children[je],a)}}function Xe(U,ne){let Ee=U+ne;if(Ee<0||Ee>=h.children.length)return!1;let je=i[h.children[Ee]];return je==null?!1:je.value.empty&&ne!=0?Xe(Ee,ne):(ue(we,a=h.children[Ee],a),!0)}function ut(U,ne){if(U>=h.children.length)return!1;let Ee=i[h.children[U]];return!Ee||ne>=Ee.children.length?!1:(ue(we,a=Ee.children[ne],a),!0)}function it(U){let ne=Ye(i,u);if(ne==null)return!1;for(;;){let Ee=Mt(i,ne,U);if(Ee==null)return!1;if(vs(i,Ee).unwrap().value.empty){ne=Ee;continue}else return ue(we,a=Ee,a),!0}}function qe(){m!=null&&m.empty?A():ue(we,a=u,a)}function H(){a==u&&ue(we,a=null,a)}let pe,Fe,Me;function _t(){m!=null&&Me!=m.content&&t(12,Me=m.content)}let Ge=!1;function rt(){Ge||(Ge=!0,ue(pt,r={beforeFocusId:u,afterFocusId:u,ownerId:bs(i,u).unwrap(),action(){if(m==null)return{tag:"identity"};const U=Ye(i,u);return U==null?{tag:"identity"}:(Ge=!1,Ln(U,{...m,content:Me}))}},r))}function Jn(U){let ne=Ye(i,u);return ne==null?!1:U.get(ne)??!1}function Kn(){let U=Ye(i,u);if(U==null)return;let ne=s.get(U)??!1;s.set(U,!ne),wt.set(s)}function Yn(){let U=Ye(i,u);U!=null&&(s.delete(U),wt.set(s))}let gt;const Zn=()=>{if(m!=null&&m.isExtension)return;k(w(),0)&&(I(w(),0),ze.setPrevAfterFocus(a))};function xn(U){Me=U,t(12,Me)}function es(U){ie[U?"unshift":"push"](()=>{M=U,t(8,M)})}function ts(U){gt=U,t(13,gt)}function ls(U){p=U,t(7,p)}const ns=()=>{k(w(),1)&&(I(w(),1),ze.setPrevAfterFocus(a))},ss=()=>{$e(0,0),Oe(0,0)};function is(U){xe.call(this,l,U)}return l.$$set=U=>{"id"in U&&t(0,u=U.id),"parentIsEmpty"in U&&t(1,f=U.parentIsEmpty),"addSibling"in U&&t(2,k=U.addSibling),"deleteSelf"in U&&t(29,S=U.deleteSelf),"focusSibling"in U&&t(3,I=U.focusSibling),"focusSiblingStrict"in U&&t(30,D=U.focusSiblingStrict),"focusParent"in U&&t(31,A=U.focusParent),"dispatchSelfFocus"in U&&t(32,T=U.dispatchSelfFocus)},l.$$.update=()=>{if(l.$$.dirty[1]&8&&_(),l.$$.dirty[0]&64&&ve(),l.$$.dirty[0]&16){let ne=h.level%2==0!==R;t(10,pe=ne?"accent-secondary":"accent"),t(11,Fe=ne?"accent":"accent-secondary")}l.$$.dirty[0]&32&&_t(),l.$$.dirty[1]&4&&t(14,n=Jn(s))},[u,f,k,I,h,m,a,p,M,K,pe,Fe,Me,gt,n,o,w,O,me,fe,J,Re,$e,Be,Oe,Xe,qe,rt,Yn,S,D,A,T,s,i,Zn,xn,es,ts,ls,ns,ss,is]}class Xn extends _e{constructor(e){super(),ge(this,e,ki,wi,he,{id:0,parentIsEmpty:1,addSibling:2,deleteSelf:29,focusSibling:3,focusSiblingStrict:30,focusParent:31,dispatchSelfFocus:32},null,[-1,-1,-1])}}function yi(l){let e,t,n,s,i,r,a;return r=new be({props:{icon:"add"}}),r.$on("click",function(){Nt(l[1])&&l[1].apply(this,arguments)}),{c(){e=E("div"),t=E("div"),n=x(l[0]),s=P(),i=E("div"),j(r.$$.fragment),this.h()},l(o){e=C(o,"DIV",{class:!0});var u=F(e);t=C(u,"DIV",{class:!0});var f=F(t);n=ee(f,l[0]),f.forEach(b),s=B(u),i=C(u,"DIV",{class:!0});var c=F(i);Q(r.$$.fragment,c),c.forEach(b),u.forEach(b),this.h()},h(){v(t,"class","text svelte-hup1mp"),v(i,"class","add svelte-hup1mp"),v(e,"class","top svelte-hup1mp")},m(o,u){z(o,e,u),y(e,t),y(t,n),y(e,s),y(e,i),X(r,i,null),a=!0},p(o,[u]){l=o,(!a||u&1)&&Ae(n,l[0])},i(o){a||(N(r.$$.fragment,o),a=!0)},o(o){V(r.$$.fragment,o),a=!1},d(o){o&&b(e),G(r)}}}function Si(l,e,t){let{column:n}=e,{addEmpty:s}=e;return l.$$set=i=>{"column"in i&&t(0,n=i.column),"addEmpty"in i&&t(1,s=i.addEmpty)},[n,s]}class Ii extends _e{constructor(e){super(),ge(this,e,Si,yi,he,{column:0,addEmpty:1})}}function sl(l,e,t){const n=l.slice();return n[8]=e[t],n[10]=t,n}function il(l,e,t){const n=l.slice();return n[11]=e[t],n[10]=t,n}function rl(l){let e,t,n,s,i;function r(){return l[5](l[10])}return t=new Ii({props:{column:l[11],addEmpty:r}}),t.$on("focusFlow",l[6]),{c(){e=E("div"),j(t.$$.fragment),n=P(),this.h()},l(a){e=C(a,"DIV",{class:!0});var o=F(e);Q(t.$$.fragment,o),n=B(o),o.forEach(b),this.h()},h(){v(e,"class",s=Ce(`header palette-${!!(l[10]%2)==l[1].invert?"accent":"accent-secondary"}`)+" svelte-1nplt9v")},m(a,o){z(a,e,o),X(t,e,null),y(e,n),i=!0},p(a,o){l=a;const u={};o&2&&(u.column=l[11]),t.$set(u),(!i||o&2&&s!==(s=Ce(`header palette-${!!(l[10]%2)==l[1].invert?"accent":"accent-secondary"}`)+" svelte-1nplt9v"))&&v(e,"class",s)},i(a){i||(N(t.$$.fragment,a),i=!0)},o(a){V(t.$$.fragment,a),i=!1},d(a){a&&b(e),G(t)}}}function ol(l){let e,t;return{c(){e=E("div"),this.h()},l(n){e=C(n,"DIV",{class:!0}),F(e).forEach(b),this.h()},h(){v(e,"class",t=Ce(`column palette-${!!(l[10]%2)==l[1].invert?"plain":"plain-secondary"}`)+" svelte-1nplt9v")},m(n,s){z(n,e,s)},p(n,s){s&2&&t!==(t=Ce(`column palette-${!!(n[10]%2)==n[1].invert?"plain":"plain-secondary"}`)+" svelte-1nplt9v")&&v(e,"class",t)},d(n){n&&b(e)}}}function Ei(l){let e,t,n,s,i,r,a,o,u,f,c,d;s=new Xn({props:{id:l[0]}});let h=de(l[1].columns),m=[];for(let w=0;w<h.length;w+=1)m[w]=rl(il(l,h,w));const p=w=>V(m[w],1,1,()=>{m[w]=null});let _=de(l[1].columns),g=[];for(let w=0;w<_.length;w+=1)g[w]=ol(sl(l,_,w));return{c(){e=E("div"),t=E("div"),n=E("div"),j(s.$$.fragment),i=P(),r=E("div");for(let w=0;w<m.length;w+=1)m[w].c();a=P(),o=E("div");for(let w=0;w<g.length;w+=1)g[w].c();this.h()},l(w){e=C(w,"DIV",{class:!0,style:!0});var k=F(e);t=C(k,"DIV",{class:!0});var S=F(t);n=C(S,"DIV",{class:!0});var I=F(n);Q(s.$$.fragment,I),I.forEach(b),i=B(S),r=C(S,"DIV",{class:!0});var D=F(r);for(let T=0;T<m.length;T+=1)m[T].l(D);D.forEach(b),a=B(S),o=C(S,"DIV",{class:!0});var A=F(o);for(let T=0;T<g.length;T+=1)g[T].l(A);A.forEach(b),S.forEach(b),k.forEach(b),this.h()},h(){v(n,"class","content svelte-1nplt9v"),q(n,"customScrollbar",Y.data.customScrollbar.value),v(r,"class","headers svelte-1nplt9v"),v(o,"class","columns svelte-1nplt9v"),v(t,"class","viewer svelte-1nplt9v"),v(e,"class","top svelte-1nplt9v"),v(e,"style",u=`--column-count: ${l[1].columns.length};`),q(e,"invert",l[1].invert)},m(w,k){z(w,e,k),y(e,t),y(t,n),X(s,n,null),y(t,i),y(t,r);for(let S=0;S<m.length;S+=1)m[S]&&m[S].m(r,null);y(t,a),y(t,o);for(let S=0;S<g.length;S+=1)g[S]&&g[S].m(o,null);f=!0,c||(d=W(n,"scroll",Ci),c=!0)},p(w,[k]){const S={};if(k&1&&(S.id=w[0]),s.$set(S),k&6){h=de(w[1].columns);let I;for(I=0;I<h.length;I+=1){const D=il(w,h,I);m[I]?(m[I].p(D,k),N(m[I],1)):(m[I]=rl(D),m[I].c(),N(m[I],1),m[I].m(r,null))}for(te(),I=h.length;I<m.length;I+=1)p(I);le()}if(k&2){_=de(w[1].columns);let I;for(I=0;I<_.length;I+=1){const D=sl(w,_,I);g[I]?g[I].p(D,k):(g[I]=ol(D),g[I].c(),g[I].m(o,null))}for(;I<g.length;I+=1)g[I].d(1);g.length=_.length}(!f||k&2&&u!==(u=`--column-count: ${w[1].columns.length};`))&&v(e,"style",u),(!f||k&2)&&q(e,"invert",w[1].invert)},i(w){if(!f){N(s.$$.fragment,w);for(let k=0;k<h.length;k+=1)N(m[k]);f=!0}},o(w){V(s.$$.fragment,w),m=m.filter(Boolean);for(let k=0;k<m.length;k+=1)V(m[k]);f=!1},d(w){w&&b(e),G(s),He(m,w),He(g,w),c=!1,d()}}}function Ci(l){const e=l.currentTarget;e.scrollLeft!==0&&(e.scrollLeft=0)}function Ti(l,e,t){let n,s,i;ce(l,we,c=>t(7,s=c)),ce(l,at,c=>t(4,i=c));let{flowId:r}=e,a;Ot("invert",()=>n.invert),Ot("columnCount",()=>n.columns.length);function o(c){let d=ks(r,c);ue(we,s=d,s)}const u=c=>o(c);function f(c){xe.call(this,l,c)}return l.$$set=c=>{"flowId"in c&&t(0,r=c.flowId)},l.$$.update=()=>{l.$$.dirty&17&&i[r]!=null&&t(3,a=i[r]),l.$$.dirty&8&&t(1,n=a.value)},[r,n,o,a,i,u,f]}class Ni extends _e{constructor(e){super(),ge(this,e,Ti,Ei,he,{flowId:0})}}function Di(l){let e,t,n,s,i,r,a,o,u,f;function c(h){l[13](h)}let d={nowrap:!0,placeholder:"type name here"};return l[5]!==void 0&&(d.value=l[5]),s=new Pt({props:d}),ie.push(()=>ye(s,"value",c)),l[14](s),s.$on("blur",l[7]),s.$on("focus",l[8]),s.$on("keydown",l[9]),s.$on("beforeinput",l[10]),o=new be({props:{icon:"trash",tooltip:"delete flow"}}),o.$on("click",function(){Nt(l[1])&&l[1].apply(this,arguments)}),{c(){e=E("div"),t=E("div"),n=E("div"),j(s.$$.fragment),r=P(),a=E("div"),j(o.$$.fragment),this.h()},l(h){e=C(h,"DIV",{class:!0});var m=F(e);t=C(m,"DIV",{class:!0});var p=F(t);n=C(p,"DIV",{class:!0});var _=F(n);Q(s.$$.fragment,_),_.forEach(b),r=B(p),a=C(p,"DIV",{class:!0});var g=F(a);Q(o.$$.fragment,g),g.forEach(b),p.forEach(b),m.forEach(b),this.h()},h(){v(n,"class","text svelte-u08vkz"),q(n,"focus",l[0]==l[3]),v(a,"class","button svelte-u08vkz"),v(t,"class",u=Ce(`content palette-${l[6]}`)+" svelte-u08vkz"),v(e,"class",Ce("top")+" svelte-u08vkz"),q(e,"invert",l[2].invert)},m(h,m){z(h,e,m),y(e,t),y(t,n),X(s,n,null),y(t,r),y(t,a),X(o,a,null),f=!0},p(h,[m]){l=h;const p={};!i&&m&32&&(i=!0,p.value=l[5],ke(()=>i=!1)),s.$set(p),(!f||m&9)&&q(n,"focus",l[0]==l[3]),(!f||m&64&&u!==(u=Ce(`content palette-${l[6]}`)+" svelte-u08vkz"))&&v(t,"class",u),(!f||m&4)&&q(e,"invert",l[2].invert)},i(h){f||(N(s.$$.fragment,h),N(o.$$.fragment,h),f=!0)},o(h){V(s.$$.fragment,h),V(o.$$.fragment,h),f=!1},d(h){h&&b(e),l[14](null),G(s),G(o)}}}function Ai(l,e,t){let n,s,i,r;ce(l,pt,A=>t(16,s=A)),ce(l,we,A=>t(3,i=A)),ce(l,at,A=>t(12,r=A));let{flowId:a}=e,{deleteSelf:o=()=>{}}=e,u,f;function c(){i==a&&ue(we,i=null,i)}async function d(){await mt(),i!=a&&ue(we,i=a,i)}function h(){let A=u.children.find(T=>{const $=r[T];return $&&!$.value.empty});A&&ue(we,i=A,i)}const m=zt({none:{Enter:{handle:h},ArrowDown:{handle:h},ArrowRight:{handle:h}}});function p(){i==a&&f&&f.focus()}nt(p);let _;function g(){_!=n.content&&t(5,_=n.content)}let w=!1;function k(){w||(w=!0,ue(pt,s={beforeFocusId:a,afterFocusId:a,ownerId:a,action(){return w=!1,Ln(a,{...n,content:_})}},s))}let S="plain";function I(A){_=A,t(5,_)}function D(A){ie[A?"unshift":"push"](()=>{f=A,t(4,f)})}return l.$$set=A=>{"flowId"in A&&t(0,a=A.flowId),"deleteSelf"in A&&t(1,o=A.deleteSelf)},l.$$.update=()=>{if(l.$$.dirty&4097){let A=r[a];A!=null&&t(11,u=A)}l.$$.dirty&2048&&t(2,n=u.value),l.$$.dirty&8&&p(),l.$$.dirty&4&&g(),l.$$.dirty&4&&(n.invert?t(6,S="accent-secondary"):t(6,S="accent"))},[a,o,n,i,f,_,S,c,d,m,k,u,r,I,D]}class $i extends _e{constructor(e){super(),ge(this,e,Ai,Di,he,{flowId:0,deleteSelf:1})}}function al(l,e,t){const n=l.slice();return n[13]=e[t],n}function ul(l,e,t){const n=l.slice();return n[13]=e[t],n}function fl(l){let e,t;const n=[l[13]];let s={};for(let i=0;i<n.length;i+=1)s=ht(s,n[i]);return e=new be({props:s}),{c(){j(e.$$.fragment)},l(i){Q(e.$$.fragment,i)},m(i,r){X(e,i,r),t=!0},p(i,r){const a=r&8?On(n,[Mn(i[13])]):{};e.$set(a)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){G(e,i)}}}function cl(l){let e,t;return e=new be({props:{icon:l[1]?"delete":"ellipses"}}),e.$on("click",l[7]),{c(){j(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){X(e,n,s),t=!0},p(n,s){const i={};s&2&&(i.icon=n[1]?"delete":"ellipses"),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function dl(l){let e,t,n,s=de(l[2]),i=[];for(let a=0;a<s.length;a+=1)i[a]=hl(al(l,s,a));const r=a=>V(i[a],1,1,()=>{i[a]=null});return{c(){e=E("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=C(a,"DIV",{class:!0});var o=F(e);for(let u=0;u<i.length;u+=1)i[u].l(o);o.forEach(b),this.h()},h(){v(e,"class","hidden svelte-1w0szyh")},m(a,o){z(a,e,o);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);n=!0},p(a,o){if(o&4){s=de(a[2]);let u;for(u=0;u<s.length;u+=1){const f=al(a,s,u);i[u]?(i[u].p(f,o),N(i[u],1)):(i[u]=hl(f),i[u].c(),N(i[u],1),i[u].m(e,null))}for(te(),u=s.length;u<i.length;u+=1)r(u);le()}},i(a){if(!n){for(let o=0;o<s.length;o+=1)N(i[o]);a&&Ne(()=>{n&&(t||(t=st(e,It,{},!0)),t.run(1))}),n=!0}},o(a){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)V(i[o]);a&&(t||(t=st(e,It,{},!1)),t.run(0)),n=!1},d(a){a&&b(e),He(i,a),a&&t&&t.end()}}}function hl(l){let e,t;const n=[l[13]];let s={};for(let i=0;i<n.length;i+=1)s=ht(s,n[i]);return e=new be({props:s}),{c(){j(e.$$.fragment)},l(i){Q(e.$$.fragment,i)},m(i,r){X(e,i,r),t=!0},p(i,r){const a=r&4?On(n,[Mn(i[13])]):{};e.$set(a)},i(i){t||(N(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){G(e,i)}}}function Fi(l){let e,t,n,s,i,r,a,o=de(l[3]),u=[];for(let h=0;h<o.length;h+=1)u[h]=fl(ul(l,o,h));const f=h=>V(u[h],1,1,()=>{u[h]=null});let c=l[2].length>0&&cl(l),d=l[1]&&l[2].length>0&&dl(l);return{c(){e=E("div"),t=E("div"),n=E("div");for(let h=0;h<u.length;h+=1)u[h].c();s=P(),i=E("div"),c&&c.c(),r=P(),d&&d.c(),this.h()},l(h){e=C(h,"DIV",{class:!0});var m=F(e);t=C(m,"DIV",{class:!0});var p=F(t);n=C(p,"DIV",{class:!0});var _=F(n);for(let w=0;w<u.length;w+=1)u[w].l(_);_.forEach(b),s=B(p),i=C(p,"DIV",{class:!0});var g=F(i);c&&c.l(g),r=B(g),d&&d.l(g),g.forEach(b),p.forEach(b),m.forEach(b),this.h()},h(){v(n,"class","showButtons svelte-1w0szyh"),v(i,"class","hideButtons svelte-1w0szyh"),v(t,"class","buttons svelte-1w0szyh"),v(e,"class","top svelte-1w0szyh"),q(e,"allButtonsHidden",l[3].length==0)},m(h,m){z(h,e,m),y(e,t),y(t,n);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(n,null);y(t,s),y(t,i),c&&c.m(i,null),y(i,r),d&&d.m(i,null),l[8](e),a=!0},p(h,[m]){if(m&8){o=de(h[3]);let p;for(p=0;p<o.length;p+=1){const _=ul(h,o,p);u[p]?(u[p].p(_,m),N(u[p],1)):(u[p]=fl(_),u[p].c(),N(u[p],1),u[p].m(n,null))}for(te(),p=o.length;p<u.length;p+=1)f(p);le()}h[2].length>0?c?(c.p(h,m),m&4&&N(c,1)):(c=cl(h),c.c(),N(c,1),c.m(i,r)):c&&(te(),V(c,1,1,()=>{c=null}),le()),h[1]&&h[2].length>0?d?(d.p(h,m),m&6&&N(d,1)):(d=dl(h),d.c(),N(d,1),d.m(i,null)):d&&(te(),V(d,1,1,()=>{d=null}),le()),(!a||m&8)&&q(e,"allButtonsHidden",h[3].length==0)},i(h){if(!a){for(let m=0;m<o.length;m+=1)N(u[m]);N(c),N(d),a=!0}},o(h){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)V(u[m]);V(c),V(d),a=!1},d(h){h&&b(e),He(u,h),c&&c.d(),d&&d.d(),l[8](null)}}}function Vi(l,e,t){let n,s,{buttons:i}=e,{showCount:r=i.length}=e,{resize:a=!1}=e,o,u=Y.data.buttonSize.value,f=Y.data.padding.value;a&&(Le(Y.subscribe(["padding"],_=>{f=Y.data[_].value,d()})),Le(Y.subscribe(["buttonSize"],_=>{u=Y.data[_].value,d()})));let c;nt(()=>{a&&(c=new ResizeObserver(d),c.observe(o))}),Le(()=>{a&&c.unobserve(o)});function d(){if(o==null)return;let _=o.clientWidth;t(4,r=Math.max(0,Math.floor((_+f)/(u+f*3))-1)),r==i.length-1&&t(4,r=i.length)}let h=!1;const m=()=>t(1,h=!h);function p(_){ie[_?"unshift":"push"](()=>{o=_,t(0,o)})}return l.$$set=_=>{"buttons"in _&&t(5,i=_.buttons),"showCount"in _&&t(4,r=_.showCount),"resize"in _&&t(6,a=_.resize)},l.$$.update=()=>{l.$$.dirty&48&&t(3,n=i.slice(0,r)),l.$$.dirty&48&&t(2,s=i.slice(r))},[o,h,s,n,r,i,a,m,p]}class Gn extends _e{constructor(e){super(),ge(this,e,Vi,Fi,he,{buttons:5,showCount:4,resize:6})}}function Ri(l){let e,t,n,s,i;return t=new Gn({props:{buttons:[...l[0],...l[1]],showCount:l[0].length}}),{c(){e=E("div"),j(t.$$.fragment),this.h()},l(r){e=C(r,"DIV",{class:!0});var a=F(e);Q(t.$$.fragment,a),a.forEach(b),this.h()},h(){v(e,"class","top svelte-aroqqm")},m(r,a){z(r,e,a),X(t,e,null),n=!0,s||(i=W(e,"mousedown",zi),s=!0)},p(r,[a]){const o={};a&3&&(o.buttons=[...r[0],...r[1]]),a&1&&(o.showCount=r[0].length),t.$set(o)},i(r){n||(N(t.$$.fragment,r),n=!0)},o(r){V(t.$$.fragment,r),n=!1},d(r){r&&b(e),G(t),s=!1,i()}}}let Ke="no cell selected";function zi(l){l.preventDefault()}function Pi(l,e,t){let n,s,i,r,a,o;ce(l,wt,R=>t(6,n=R)),ce(l,pt,R=>t(7,s=R)),ce(l,at,R=>t(8,i=R)),ce(l,we,R=>t(9,r=R)),ce(l,Ze,R=>t(10,a=R)),ce(l,Hn,R=>t(11,o=R));let{flowId:u}=e,f=null;async function c(){if(await mt(),r==null){t(3,f=null);return}t(3,f=Ye(i,o[u]))}os(function(){c()});function d(){if(f==null)return null;let R=i[f];return R??null}async function h(){if(f==null)return;let R=i[f];if(R==null)return;let L=i[R.parent];if(L!=null&&(R.children.length>1||L.level>=1)){ue(we,r=null,r);let O=L.children.indexOf(f);await mt(),Bn(f),R.children.length<=0?ue(we,r=R.parent,r):O>=L.children.length?ue(we,r=L.children[L.children.length-1],r):ue(we,r=L.children[O],r),ze.setPrevAfterFocus(r)}}function m(){var M;if(f==null||a==null)return;let R=i[f];if(R==null)return;let L=i[a];if(L==null)return;let O=0;R.children[0]&&((M=i[R.children[0]])!=null&&M.value.isExtension)&&(O=1),R.level<L.value.columns.length&&St(f,O)}function p(R){if(f==null)return;let L=i[f];if(L==null)return;let O=i[L.parent];if(O==null)return;let K=O.children.indexOf(f)+R;St(L.parent,K)}function _(){var O,M;if(f==null||a==null)return;let R=i[f];if(R==null)return;let L=i[a];if(L!=null&&!(R.children.length>=1&&((O=i[R.children[0]])!=null&&O.value.isExtension))&&R.level<L.value.columns.length-1){Pn(f);const K=(M=i[R.children[0]])==null?void 0:M.children[0];ue(we,r=K||f,r);return}}function g(R){f!=null&&zn(f,R)}function w(){f!=null&&(n.get(f)?n.delete(f):n.set(f,!0),wt.set(n))}let k=S();function S(){var R,L,O,M,K,re,me,oe,Ie,ve,fe,J,se,Re,Te,$e,Pe,Be,Oe,Xe,ut,it;return{showUndoRedoButtons:[{icon:"undo",disabled:!ze.canUndo(u,s),onclick:()=>{ze.undo(u,s)},tooltip:"undo",shortcut:["commandControl","z"],disabledReason:"nothing to undo"},{disabled:!ze.canRedo(u,s),icon:"redo",onclick:()=>{ze.redo(u,s)},tooltip:"redo",shortcut:["commandControl","shift","z"],disabledReason:"nothing to redo"}],showBoxCreationButtons:[{icon:"addRight",onclick:m,disabled:f==null,tooltip:"add response",shortcut:["shift","return"],disabledReason:Ke},{icon:"addUp",onclick:()=>p(0),disabled:f==null||((R=d())==null?void 0:R.value.isExtension),tooltip:"add argument above",shortcut:["option","return"],disabledReason:(L=d())!=null&&L.value.isExtension?"can't add responses above extensions":Ke},{icon:"addDown",onclick:()=>p(1),disabled:f==null,tooltip:"add argument below",shortcut:["return"],disabledReason:Ke},{icon:"trash",onclick:h,disabled:f==null,tooltip:"delete selected",shortcut:["commandControl","delete"],disabledReason:Ke}],showQuickExtensionButtons:[{icon:"arrowRightThroughCircle",onclick:_,disabled:f==null||((O=d())==null?void 0:O.children[0])&&((K=i[(M=d())==null?void 0:M.children[0]])==null?void 0:K.value.isExtension)||((re=d())==null?void 0:re.value.isExtension),tooltip:"extend selected",shortcut:["commandControl","e"],disabledReason:(me=d())!=null&&me.children[0]&&((Ie=i[(oe=d())==null?void 0:oe.children[0]])!=null&&Ie.value.isExtension)?"can't extend an extended argument":(ve=d())!=null&&ve.value.isExtension?"can't extend an extension":Ke}],showBoxFormatButtons:[{icon:"cross",onclick:()=>g("crossed"),disabled:f==null||((fe=d())==null?void 0:fe.value.isExtension),tooltip:"toggle crossed out",shortcut:["commandControl","shift","x"],toggled:(se=(J=d())==null?void 0:J.value)==null?void 0:se.crossed,disabledReason:(Re=d())!=null&&Re.value.isExtension?"can't cross out an extension":Ke},{icon:"letterB",onclick:()=>g("bold"),disabled:f==null||((Te=d())==null?void 0:Te.value.isExtension),tooltip:"toggle bold",shortcut:["commandControl","b"],toggled:(Pe=($e=d())==null?void 0:$e.value)==null?void 0:Pe.bold,disabledReason:(Be=d())!=null&&Be.value.isExtension?"can't bold an extension":Ke},{icon:"foldArrows",onclick:()=>w(),disabled:f==null||((Xe=(Oe=d())==null?void 0:Oe.children)==null?void 0:Xe.length)===0,tooltip:"toggle folded",shortcut:["control","l"],toggled:f!=null&&n.get(f),disabledReason:((it=(ut=d())==null?void 0:ut.children)==null?void 0:it.length)===0?"no children to fold":Ke}]}}function I(){t(4,k=S())}let D={};for(let R of Object.keys(k))D[R]=Y.data[R].value;Le(Y.subscribe(Object.keys(k),R=>{t(5,D[R]=Y.data[R].value,D),t(5,D)}));let A,T;function $(){t(0,A=[]),t(1,T=[]);for(let R of Object.keys(k))D[R]?t(0,A=[...A,...k[R]]):t(1,T=[...T,...k[R]])}return l.$$set=R=>{"flowId"in R&&t(2,u=R.flowId)},l.$$.update=()=>{l.$$.dirty&456&&I(),l.$$.dirty&48&&$()},[A,T,u,f,k,D,n,s,i]}class Bi extends _e{constructor(e){super(),ge(this,e,Pi,Ri,he,{flowId:2})}}function Li(l){let e,t,n,s,i,r="<li>Can reopen file in this editor</li> <li>More data is saved (last focused cell etc.)</li>",a,o,u,f,c="<li>Anyone can view it</li>",d,h,m,p,_,g="Or drag and drop a JSON file anywhere in this window",w;return n=new be({props:{icon:"download",text:"download as JSON",tooltip:"saves JSON file on your computer",tooltipLayout:"top",disabled:l[1].root.children.length==0,disabledReason:"nothing to download",palette:"accent"}}),n.$on("click",l[3]),o=new be({props:{icon:"download",text:"download as XLSX",tooltip:"saves XLSX file on your computer",tooltipLayout:"top",disabled:l[1].root.children.length==0,disabledReason:"nothing to download",palette:"accent-secondary"}}),o.$on("click",l[4]),m=new be({props:{icon:"upload",text:"choose file from computer",tooltip:"upload a JSON file from your computer",tooltipLayout:"top",palette:"accent"}}),m.$on("click",l[2]),{c(){e=E("div"),t=E("section"),j(n.$$.fragment),s=P(),i=E("ul"),i.innerHTML=r,a=P(),j(o.$$.fragment),u=P(),f=E("ul"),f.innerHTML=c,d=P(),h=E("section"),j(m.$$.fragment),p=P(),_=E("p"),_.textContent=g,this.h()},l(k){e=C(k,"DIV",{class:!0});var S=F(e);t=C(S,"SECTION",{class:!0});var I=F(t);Q(n.$$.fragment,I),s=B(I),i=C(I,"UL",{class:!0,"data-svelte-h":!0}),ae(i)!=="svelte-1lnudwd"&&(i.innerHTML=r),a=B(I),Q(o.$$.fragment,I),u=B(I),f=C(I,"UL",{class:!0,"data-svelte-h":!0}),ae(f)!=="svelte-1vt00li"&&(f.innerHTML=c),I.forEach(b),d=B(S),h=C(S,"SECTION",{class:!0});var D=F(h);Q(m.$$.fragment,D),p=B(D),_=C(D,"P",{class:!0,"data-svelte-h":!0}),ae(_)!=="svelte-yohosy"&&(_.textContent=g),D.forEach(b),S.forEach(b),this.h()},h(){v(i,"class","svelte-1a40mq2"),v(f,"class","svelte-1a40mq2"),v(t,"class","download svelte-1a40mq2"),v(_,"class","svelte-1a40mq2"),v(h,"class","upload svelte-1a40mq2"),v(e,"class","top svelte-1a40mq2")},m(k,S){z(k,e,S),y(e,t),X(n,t,null),y(t,s),y(t,i),y(t,a),X(o,t,null),y(t,u),y(t,f),y(e,d),y(e,h),X(m,h,null),y(h,p),y(h,_),w=!0},p(k,[S]){const I={};S&2&&(I.disabled=k[1].root.children.length==0),n.$set(I);const D={};S&2&&(D.disabled=k[1].root.children.length==0),o.$set(D)},i(k){w||(N(n.$$.fragment,k),N(o.$$.fragment,k),N(m.$$.fragment,k),w=!0)},o(k){V(n.$$.fragment,k),V(o.$$.fragment,k),V(m.$$.fragment,k),w=!1},d(k){k&&b(e),G(n),G(o),G(m)}}}function Oi(l,e,t){let n;ce(l,at,o=>t(1,n=o));let{closePopup:s}=e;function i(){document.getElementById("uploadId").click(),s()}const r=()=>{qt(n),ys(n),s()},a=()=>{qt(n),Ss(n),s()};return l.$$set=o=>{"closePopup"in o&&t(0,s=o.closePopup)},[s,n,i,r,a]}class Mi extends _e{constructor(e){super(),ge(this,e,Oi,Li,he,{closePopup:0})}}function Hi(l){let e,t,n,s,i='<div class="switch svelte-8bq301"></div>',r,a,o;return{c(){e=E("label"),t=E("input"),n=P(),s=E("div"),s.innerHTML=i,this.h()},l(u){e=C(u,"LABEL",{class:!0});var f=F(e);t=C(f,"INPUT",{type:!0,class:!0}),n=B(f),s=C(f,"DIV",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-17rpx7q"&&(s.innerHTML=i),f.forEach(b),this.h()},h(){v(t,"type","checkbox"),v(t,"class","svelte-8bq301"),v(s,"class","background svelte-8bq301"),v(e,"class",r=Ce(`palette-${l[1]}`)+" svelte-8bq301")},m(u,f){z(u,e,f),y(e,t),t.checked=l[0],y(e,n),y(e,s),a||(o=W(t,"change",l[3]),a=!0)},p(u,[f]){f&1&&(t.checked=u[0]),f&2&&r!==(r=Ce(`palette-${u[1]}`)+" svelte-8bq301")&&v(e,"class",r)},i:Z,o:Z,d(u){u&&b(e),a=!1,o()}}}function Ui(l,e,t){let{value:n=!0}=e,{auto:s=!0}=e,i;function r(){n=this.checked,t(0,n)}return l.$$set=a=>{"value"in a&&t(0,n=a.value),"auto"in a&&t(2,s=a.auto)},l.$$.update=()=>{l.$$.dirty&5&&(n?n==s?t(1,i="accent-secondary"):t(1,i="accent"):t(1,i="plain"))},[n,i,s,r]}class qi extends _e{constructor(e){super(),ge(this,e,Ui,Hi,he,{value:0,auto:2})}}function ml(l,e,t){const n=l.slice();return n[12]=e[t],n[14]=t,n}function pl(l){let e,t="default";return{c(){e=E("p"),e.textContent=t,this.h()},l(n){e=C(n,"P",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-1fjeojb"&&(e.textContent=t),this.h()},h(){v(e,"class","optionInfo svelte-1pw4c7y")},m(n,s){z(n,e,s)},d(n){n&&b(e)}}}function _l(l){let e,t,n,s,i,r,a=l[12]+"",o,u,f,c,d,h=l[14]==l[3]&&pl();return f=An(l[7][0]),{c(){e=E("label"),t=E("input"),s=P(),i=E("li"),r=E("p"),o=x(a),u=P(),h&&h.c(),this.h()},l(m){e=C(m,"LABEL",{class:!0});var p=F(e);t=C(p,"INPUT",{type:!0,name:!0,class:!0}),s=B(p),i=C(p,"LI",{class:!0});var _=F(i);r=C(_,"P",{class:!0});var g=F(r);o=ee(g,a),g.forEach(b),u=B(_),h&&h.l(_),_.forEach(b),p.forEach(b),this.h()},h(){v(t,"type","radio"),v(t,"name",l[2]),t.checked=n=l[14]==l[0],t.__value=l[14],De(t,t.__value),v(t,"class","svelte-1pw4c7y"),v(r,"class","svelte-1pw4c7y"),v(i,"class","svelte-1pw4c7y"),v(e,"class","svelte-1pw4c7y"),f.p(t)},m(m,p){z(m,e,p),y(e,t),t.checked=t.__value===l[0],y(e,s),y(e,i),y(i,r),y(r,o),y(i,u),h&&h.m(i,null),c||(d=W(t,"change",l[6]),c=!0)},p(m,p){p&4&&v(t,"name",m[2]),p&1&&n!==(n=m[14]==m[0])&&(t.checked=n),p&1&&(t.checked=t.__value===m[0]),p&2&&a!==(a=m[12]+"")&&Ae(o,a),m[14]==m[3]?h||(h=pl(),h.c(),h.m(i,null)):h&&(h.d(1),h=null)},d(m){m&&b(e),h&&h.d(),f.r(),c=!1,d()}}}function gl(l){let e,t,n,s,i=!1,r,a,o,u,f,c,d,h,m;function p(w){l[9](w)}let _={placeholder:"custom",nowrap:!0};l[1].customOptionValue!==void 0&&(_.value=l[1].customOptionValue),o=new Pt({props:_}),ie.push(()=>ye(o,"value",p)),o.$on("input",l[10]),o.$on("focus",l[11]);let g=l[1].customOptionValue!=""&&vl();return d=An(l[7][0]),{c(){e=E("label"),t=E("input"),r=P(),a=E("li"),j(o.$$.fragment),f=P(),g&&g.c(),this.h()},l(w){e=C(w,"LABEL",{class:!0});var k=F(e);t=C(k,"INPUT",{type:!0,name:!0,class:!0}),r=B(k),a=C(k,"LI",{class:!0});var S=F(a);Q(o.$$.fragment,S),f=B(S),g&&g.l(S),S.forEach(b),k.forEach(b),this.h()},h(){v(t,"type","radio"),v(t,"name",l[2]),t.checked=n=l[0]==l[1].options.length,t.__value=s=l[1].options.length,De(t,t.__value),v(t,"class","svelte-1pw4c7y"),v(a,"class","svelte-1pw4c7y"),v(e,"class","svelte-1pw4c7y"),d.p(t)},m(w,k){z(w,e,k),y(e,t),t.checked=t.__value===l[0],y(e,r),y(e,a),X(o,a,null),y(a,f),g&&g.m(a,null),c=!0,h||(m=W(t,"change",l[8]),h=!0)},p(w,k){(!c||k&4)&&v(t,"name",w[2]),(!c||k&3&&n!==(n=w[0]==w[1].options.length))&&(t.checked=n),(!c||k&2&&s!==(s=w[1].options.length))&&(t.__value=s,De(t,t.__value),i=!0),(i||k&1)&&(t.checked=t.__value===w[0]);const S={};!u&&k&2&&(u=!0,S.value=w[1].customOptionValue,ke(()=>u=!1)),o.$set(S),w[1].customOptionValue!=""?g||(g=vl(),g.c(),g.m(a,null)):g&&(g.d(1),g=null)},i(w){c||(N(o.$$.fragment,w),c=!0)},o(w){V(o.$$.fragment,w),c=!1},d(w){w&&b(e),G(o),g&&g.d(),d.r(),h=!1,m()}}}function vl(l){let e,t="custom";return{c(){e=E("p"),e.textContent=t,this.h()},l(n){e=C(n,"P",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-o63ojb"&&(e.textContent=t),this.h()},h(){v(e,"class","optionInfo svelte-1pw4c7y")},m(n,s){z(n,e,s)},d(n){n&&b(e)}}}function ji(l){let e,t,n,s,i,r,a,o,u,f=de(l[1].options),c=[];for(let h=0;h<f.length;h+=1)c[h]=_l(ml(l,f,h));let d=l[1].customOption&&l[1].customOptionValue!=null&&gl(l);return{c(){e=E("div"),t=E("div"),n=E("div"),i=P(),r=E("ul");for(let h=0;h<c.length;h+=1)c[h].c();a=P(),d&&d.c(),this.h()},l(h){e=C(h,"DIV",{class:!0});var m=F(e);t=C(m,"DIV",{class:!0});var p=F(t);n=C(p,"DIV",{class:!0,style:!0}),F(n).forEach(b),p.forEach(b),i=B(m),r=C(m,"UL",{class:!0});var _=F(r);for(let g=0;g<c.length;g+=1)c[g].l(_);a=B(_),d&&d.l(_),_.forEach(b),m.forEach(b),this.h()},h(){v(n,"class","switch svelte-1pw4c7y"),v(n,"style",s=`--pos:calc(${l[0]} * (var(--button-size) + var(--padding) * 2) + var(--padding-small))`),v(t,"class","background svelte-1pw4c7y"),v(r,"class","svelte-1pw4c7y"),v(e,"class",o=Ce(`top palette-${l[4]}`)+" svelte-1pw4c7y")},m(h,m){z(h,e,m),y(e,t),y(t,n),y(e,i),y(e,r);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(r,null);y(r,a),d&&d.m(r,null),u=!0},p(h,[m]){if((!u||m&1&&s!==(s=`--pos:calc(${h[0]} * (var(--button-size) + var(--padding) * 2) + var(--padding-small))`))&&v(n,"style",s),m&15){f=de(h[1].options);let p;for(p=0;p<f.length;p+=1){const _=ml(h,f,p);c[p]?c[p].p(_,m):(c[p]=_l(_),c[p].c(),c[p].m(r,a))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}h[1].customOption&&h[1].customOptionValue!=null?d?(d.p(h,m),m&2&&N(d,1)):(d=gl(h),d.c(),N(d,1),d.m(r,null)):d&&(te(),V(d,1,1,()=>{d=null}),le()),(!u||m&16&&o!==(o=Ce(`top palette-${h[4]}`)+" svelte-1pw4c7y"))&&v(e,"class",o)},i(h){u||(N(d),u=!0)},o(h){V(d),u=!1},d(h){h&&b(e),He(c,h),d&&d.d()}}}function Qi(l,e,t){let n,{name:s}=e,{value:i}=e,{auto:r}=e;const a=Dn();let{detail:o}=e;const u=[[]];function f(){i=this.__value,t(0,i)}function c(){i=this.__value,t(0,i)}function d(p){l.$$.not_equal(o.customOptionValue,p)&&(o.customOptionValue=p,t(1,o))}const h=()=>a("forceUpdate"),m=()=>t(0,i=o.options.length);return l.$$set=p=>{"name"in p&&t(2,s=p.name),"value"in p&&t(0,i=p.value),"auto"in p&&t(3,r=p.auto),"detail"in p&&t(1,o=p.detail)},l.$$.update=()=>{l.$$.dirty&9&&t(4,n=r==i?"accent-secondary":"accent")},[i,o,s,r,n,a,f,u,c,d,h,m]}class Xi extends _e{constructor(e){super(),ge(this,e,Qi,ji,he,{name:2,value:0,auto:3,detail:1})}}function Gi(l){let e,t,n,s,i,r,a,o,u,f,c,d,h,m,p,_,g,w;return{c(){e=E("div"),t=E("label"),n=E("div"),i=P(),r=E("input"),f=P(),c=E("label"),d=E("input"),this.h()},l(k){e=C(k,"DIV",{class:!0,style:!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,role:!0,tabindex:!0});var S=F(e);t=C(S,"LABEL",{class:!0});var I=F(t);n=C(I,"DIV",{class:!0,style:!0}),F(n).forEach(b),i=B(I),r=C(I,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),I.forEach(b),f=B(S),c=C(S,"LABEL",{class:!0});var D=F(c);d=C(D,"INPUT",{type:!0,class:!0}),D.forEach(b),S.forEach(b),this.h()},h(){v(n,"class","switch svelte-zo9dqx"),v(n,"style",s=`
      left: calc(var(--padding-small) + ${(Math.max(Math.min(l[0],l[1].max),l[1].min)-l[1].min)/(l[1].max-l[1].min)} * (100% - var(--button-size) - var(--padding-small) * 2));
      transition: left ${l[2]?"0":"var(--transition-speed)"}
      , background var(--transition-speed);`),v(r,"class","slider svelte-zo9dqx"),v(r,"type","range"),v(r,"min",a=l[1].min),v(r,"max",o=l[1].max),v(r,"step",u=l[1].step),v(t,"class","svelte-zo9dqx"),v(d,"type","number"),v(d,"class","svelte-zo9dqx"),v(c,"class","small svelte-zo9dqx"),v(e,"class",h=Ce(`top palette-${l[3]}`)+" svelte-zo9dqx"),v(e,"style",m=`--value: ${l[0]}`),v(e,"aria-valuemin",p=l[1].min),v(e,"aria-valuemax",_=l[1].max),v(e,"aria-valuenow",l[0]),v(e,"role","slider"),v(e,"tabindex","0"),q(e,"hue",l[1].hue)},m(k,S){z(k,e,S),y(e,t),y(t,n),y(t,i),y(t,r),De(r,l[0]),y(e,f),y(e,c),y(c,d),De(d,l[0]),g||(w=[W(r,"change",l[8]),W(r,"input",l[8]),W(d,"input",l[9]),W(e,"mousedown",l[4]),W(e,"mousemove",l[5]),W(e,"mouseup",l[6])],g=!0)},p(k,[S]){S&7&&s!==(s=`
      left: calc(var(--padding-small) + ${(Math.max(Math.min(k[0],k[1].max),k[1].min)-k[1].min)/(k[1].max-k[1].min)} * (100% - var(--button-size) - var(--padding-small) * 2));
      transition: left ${k[2]?"0":"var(--transition-speed)"}
      , background var(--transition-speed);`)&&v(n,"style",s),S&2&&a!==(a=k[1].min)&&v(r,"min",a),S&2&&o!==(o=k[1].max)&&v(r,"max",o),S&2&&u!==(u=k[1].step)&&v(r,"step",u),S&1&&De(r,k[0]),S&1&&Dt(d.value)!==k[0]&&De(d,k[0]),S&8&&h!==(h=Ce(`top palette-${k[3]}`)+" svelte-zo9dqx")&&v(e,"class",h),S&1&&m!==(m=`--value: ${k[0]}`)&&v(e,"style",m),S&2&&p!==(p=k[1].min)&&v(e,"aria-valuemin",p),S&2&&_!==(_=k[1].max)&&v(e,"aria-valuemax",_),S&1&&v(e,"aria-valuenow",k[0]),S&10&&q(e,"hue",k[1].hue)},i:Z,o:Z,d(k){k&&b(e),g=!1,Ue(w)}}}function Wi(l,e,t){let n,{value:s}=e,{auto:i}=e,{detail:r}=e,a=!1,o=!1,u=0;function f(p){a=!0,u=p.pageX,t(2,o=!1)}function c(p){a&&Math.abs(u-p.pageX)>3&&t(2,o=!0)}function d(p){a=!1,t(2,o=!1)}function h(){s=Dt(this.value),t(0,s)}function m(){s=Dt(this.value),t(0,s)}return l.$$set=p=>{"value"in p&&t(0,s=p.value),"auto"in p&&t(7,i=p.auto),"detail"in p&&t(1,r=p.detail)},l.$$.update=()=>{l.$$.dirty&129&&t(3,n=i==s?"accent-secondary":"accent")},[s,r,o,n,f,c,d,i,h,m]}class Ji extends _e{constructor(e){super(),ge(this,e,Wi,Gi,he,{value:0,auto:7,detail:1})}}function bl(l){return Object.prototype.toString.call(l)==="[object Date]"}function At(l,e){if(l===e||l!==l)return()=>l;const t=typeof l;if(t!==typeof e||Array.isArray(l)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(l)){const n=e.map((s,i)=>At(l[i],s));return s=>n.map(i=>i(s))}if(t==="object"){if(!l||!e)throw new Error("Object cannot be null");if(bl(l)&&bl(e)){l=l.getTime(),e=e.getTime();const i=e-l;return r=>new Date(l+r*i)}const n=Object.keys(e),s={};return n.forEach(i=>{s[i]=At(l[i],e[i])}),i=>{const r={};return n.forEach(a=>{r[a]=s[a](i)}),r}}if(t==="number"){const n=e-l;return s=>l+s*n}throw new Error(`Cannot interpolate ${t} values`)}function wl(l,e={}){const t=jn(l);let n,s=l;function i(r,a){if(l==null)return t.set(l=r),Promise.resolve();s=r;let o=n,u=!1,{delay:f=0,duration:c=400,easing:d=Nn,interpolate:h=At}=ht(ht({},e),a);if(c===0)return o&&(o.abort(),o=null),t.set(l=s),Promise.resolve();const m=Fn()+f;let p;return n=Vn(_=>{if(_<m)return!0;u||(p=h(l,r),typeof c=="function"&&(c=c(l,r)),u=!0),o&&(o.abort(),o=null);const g=_-m;return g>c?(t.set(l=r),!1):(t.set(l=p(d(g/c))),!0)}),n.promise}return{set:i,update:(r,a)=>i(r(s,l),a),subscribe:t.subscribe}}function Ki(l){let e,t,n,s,i,r,a;return{c(){e=E("label"),t=E("input"),n=P(),s=E("div"),this.h()},l(o){e=C(o,"LABEL",{class:!0});var u=F(e);t=C(u,"INPUT",{type:!0,class:!0}),n=B(u),s=C(u,"DIV",{class:!0,style:!0}),F(s).forEach(b),u.forEach(b),this.h()},h(){v(t,"type","color"),v(t,"class","svelte-1pkld73"),v(s,"class","background svelte-1pkld73"),v(s,"style",i=`--current-selector-color:${l[0]}`),v(e,"class","palette-plain svelte-1pkld73")},m(o,u){z(o,e,u),y(e,t),De(t,l[0]),y(e,n),y(e,s),r||(a=W(t,"input",l[1]),r=!0)},p(o,[u]){u&1&&De(t,o[0]),u&1&&i!==(i=`--current-selector-color:${o[0]}`)&&v(s,"style",i)},i:Z,o:Z,d(o){o&&b(e),r=!1,a()}}}function Yi(l,e,t){let{value:n="#ffffff"}=e;function s(){n=this.value,t(0,n)}return l.$$set=i=>{"value"in i&&t(0,n=i.value)},[n,s]}class Zi extends _e{constructor(e){super(),ge(this,e,Yi,Ki,he,{value:0})}}function kl(l){let e,t,n;function s(r){l[9](r)}let i={auto:l[0].auto};return l[1]!==void 0&&(i.value=l[1]),e=new qi({props:i}),ie.push(()=>ye(e,"value",s)),{c(){j(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,a){X(e,r,a),n=!0},p(r,a){const o={};a&1&&(o.auto=r[0].auto),!t&&a&2&&(t=!0,o.value=r[1],ke(()=>t=!1)),e.$set(o)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function yl(l){let e,t,n;function s(r){l[10](r)}let i={};return l[1]!==void 0&&(i.value=l[1]),e=new Zi({props:i}),ie.push(()=>ye(e,"value",s)),{c(){j(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,a){X(e,r,a),n=!0},p(r,a){const o={};!t&&a&2&&(t=!0,o.value=r[1],ke(()=>t=!1)),e.$set(o)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function Sl(l){let e,t=l[0].info+"",n;return{c(){e=E("p"),n=x(t),this.h()},l(s){e=C(s,"P",{class:!0});var i=F(e);n=ee(i,t),i.forEach(b),this.h()},h(){v(e,"class","info svelte-wxkoz7")},m(s,i){z(s,e,i),y(e,n)},p(s,i){i&1&&t!==(t=s[0].info+"")&&Ae(n,t)},d(s){s&&b(e)}}}function Il(l){let e,t,n;function s(r){l[11](r)}let i={name:l[0].name,auto:l[0].auto,detail:l[0].detail};return l[1]!==void 0&&(i.value=l[1]),e=new Xi({props:i}),ie.push(()=>ye(e,"value",s)),e.$on("forceUpdate",l[12]),{c(){j(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,a){X(e,r,a),n=!0},p(r,a){const o={};a&1&&(o.name=r[0].name),a&1&&(o.auto=r[0].auto),a&1&&(o.detail=r[0].detail),!t&&a&2&&(t=!0,o.value=r[1],ke(()=>t=!1)),e.$set(o)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function El(l){let e,t,n;function s(r){l[13](r)}let i={auto:l[0].auto,detail:l[0].detail};return l[1]!==void 0&&(i.value=l[1]),e=new Ji({props:i}),ie.push(()=>ye(e,"value",s)),{c(){j(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,a){X(e,r,a),n=!0},p(r,a){const o={};a&1&&(o.auto=r[0].auto),a&1&&(o.detail=r[0].detail),!t&&a&2&&(t=!0,o.value=r[1],ke(()=>t=!1)),e.$set(o)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function Cl(l){let e,t=l[0].info+"",n;return{c(){e=E("p"),n=x(t),this.h()},l(s){e=C(s,"P",{class:!0});var i=F(e);n=ee(i,t),i.forEach(b),this.h()},h(){v(e,"class","info svelte-wxkoz7")},m(s,i){z(s,e,i),y(e,n)},p(s,i){i&1&&t!==(t=s[0].info+"")&&Ae(n,t)},d(s){s&&b(e)}}}function xi(l){let e,t,n,s,i,r,a,o=l[0].name+"",u,f,c,d,h,m,p,_,g,w,k,S,I;d=new be({props:{icon:"arrowRoundLeft",tooltip:"reset to default",tooltipLayout:"right"}}),d.$on("click",l[6]);let D=l[0].type=="toggle"&&kl(l),A=l[0].type=="color"&&yl(l),T=l[0].info&&l[0].type!="toggle"&&l[0].type!="color"&&Sl(l),$=l[0].type=="radio"&&Il(l),R=l[0].type=="slider"&&El(l),L=l[0].info&&(l[0].type=="toggle"||l[0].type=="color")&&Cl(l);return{c(){e=E("div"),t=E("div"),s=P(),i=E("span"),r=E("div"),a=E("h2"),u=x(o),f=P(),c=E("div"),j(d.$$.fragment),h=P(),D&&D.c(),m=P(),A&&A.c(),p=P(),T&&T.c(),_=P(),$&&$.c(),g=P(),R&&R.c(),w=P(),L&&L.c(),this.h()},l(O){e=C(O,"DIV",{class:!0});var M=F(e);t=C(M,"DIV",{class:!0,style:!0});var K=F(t);K.forEach(b),s=B(M),i=C(M,"SPAN",{class:!0});var re=F(i);r=C(re,"DIV",{class:!0});var me=F(r);a=C(me,"H2",{class:!0});var oe=F(a);u=ee(oe,o),oe.forEach(b),f=B(me),c=C(me,"DIV",{class:!0});var Ie=F(c);Q(d.$$.fragment,Ie),Ie.forEach(b),me.forEach(b),h=B(re),D&&D.l(re),m=B(re),A&&A.l(re),p=B(re),T&&T.l(re),re.forEach(b),_=B(M),$&&$.l(M),g=B(M),R&&R.l(M),w=B(M),L&&L.l(M),M.forEach(b),this.h()},h(){v(t,"class","spotlight svelte-wxkoz7"),v(t,"style",n=`--spotlight:${l[4]}`),v(a,"class","svelte-wxkoz7"),v(c,"class","reset svelte-wxkoz7"),q(c,"hidden",l[1]==l[0].auto),v(r,"class","titleReset svelte-wxkoz7"),v(i,"class","above svelte-wxkoz7"),v(e,"class","top svelte-wxkoz7")},m(O,M){z(O,e,M),y(e,t),y(e,s),y(e,i),y(i,r),y(r,a),y(a,u),y(r,f),y(r,c),X(d,c,null),y(i,h),D&&D.m(i,null),y(i,m),A&&A.m(i,null),y(i,p),T&&T.m(i,null),y(e,_),$&&$.m(e,null),y(e,g),R&&R.m(e,null),y(e,w),L&&L.m(e,null),l[14](e),I=!0},p(O,[M]){(!I||M&16&&n!==(n=`--spotlight:${O[4]}`))&&v(t,"style",n),(!I||M&1)&&o!==(o=O[0].name+"")&&Ae(u,o),(!I||M&3)&&q(c,"hidden",O[1]==O[0].auto),O[0].type=="toggle"?D?(D.p(O,M),M&1&&N(D,1)):(D=kl(O),D.c(),N(D,1),D.m(i,m)):D&&(te(),V(D,1,1,()=>{D=null}),le()),O[0].type=="color"?A?(A.p(O,M),M&1&&N(A,1)):(A=yl(O),A.c(),N(A,1),A.m(i,p)):A&&(te(),V(A,1,1,()=>{A=null}),le()),O[0].info&&O[0].type!="toggle"&&O[0].type!="color"?T?T.p(O,M):(T=Sl(O),T.c(),T.m(i,null)):T&&(T.d(1),T=null),O[0].type=="radio"?$?($.p(O,M),M&1&&N($,1)):($=Il(O),$.c(),N($,1),$.m(e,g)):$&&(te(),V($,1,1,()=>{$=null}),le()),O[0].type=="slider"?R?(R.p(O,M),M&1&&N(R,1)):(R=El(O),R.c(),N(R,1),R.m(e,w)):R&&(te(),V(R,1,1,()=>{R=null}),le()),O[0].info&&(O[0].type=="toggle"||O[0].type=="color")?L?L.p(O,M):(L=Cl(O),L.c(),L.m(e,null)):L&&(L.d(1),L=null)},i(O){I||(N(d.$$.fragment,O),N(D),N(A),N($),N(R),O&&Ne(()=>{I&&(S&&S.end(1),k=Ve(e,Is,{skip:!1}),k.start())}),I=!0)},o(O){V(d.$$.fragment,O),V(D),V(A),V($),V(R),k&&k.invalidate(),O&&(S=We(e,Es,{skip:!1})),I=!1},d(O){O&&b(e),G(d),D&&D.d(),A&&A.d(),T&&T.d(),$&&$.d(),R&&R.d(),L&&L.d(),l[14](null),O&&S&&S.end()}}}function er(l,e,t){let n,s=Z,i=()=>(s(),s=as(c,S=>t(4,n=S)),c);l.$$.on_destroy.push(()=>s());let{setting:r}=e,{key:a}=e,o=r.value;function u(S){Y.setValue(a,S),S=r.value}function f(){Y.setValue(a,r.auto),t(1,o=r.value)}Le(Y.subscribe([a],function(S){r.value!=o&&t(1,o=r.value)}));let c=wl(0);i();let d;function h(){d.scrollIntoView(),i(t(2,c=wl(1,{duration:2e3}))),ue(c,n=0,n)}function m(S){o=S,t(1,o)}function p(S){o=S,t(1,o)}function _(S){o=S,t(1,o)}const g=()=>u(o);function w(S){o=S,t(1,o)}function k(S){ie[S?"unshift":"push"](()=>{d=S,t(3,d)})}return l.$$set=S=>{"setting"in S&&t(0,r=S.setting),"key"in S&&t(7,a=S.key)},l.$$.update=()=>{l.$$.dirty&2&&u(o)},[r,o,c,d,n,u,f,a,h,m,p,_,g,w,k]}class tr extends _e{constructor(e){super(),ge(this,e,er,xi,he,{setting:0,key:7,scrollToSelf:8})}get scrollToSelf(){return this.$$.ctx[8]}}function Tl(l,e,t){const n=l.slice();return n[17]=e[t],n[18]=e,n[19]=t,n}function Nl(l,e,t){const n=l.slice();return n[20]=e[t],n[21]=e,n[22]=t,n}function Dl(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function Al(l,e,t){const n=l.slice();return n[20]=e[t],n[22]=t,n}function $l(l){let e,t,n=l[17].name+"",s,i,r,a,o,u;function f(...c){return l[8](l[19],...c)}return{c(){e=E("li"),t=E("button"),s=x(n),this.h()},l(c){e=C(c,"LI",{class:!0});var d=F(e);t=C(d,"BUTTON",{class:!0});var h=F(t);s=ee(h,n),h.forEach(b),d.forEach(b),this.h()},h(){v(t,"class","svelte-19hcj9o"),v(e,"class","title")},m(c,d){z(c,e,d),y(e,t),y(t,s),a=!0,o||(u=W(t,"click",f),o=!0)},p(c,d){l=c},i(c){a||(c&&Ne(()=>{a&&(r&&r.end(1),i=Ve(e,Et,{skip:!1}),i.start())}),a=!0)},o(c){i&&i.invalidate(),c&&(r=We(e,Et,{skip:!1})),a=!1},d(c){c&&b(e),c&&r&&r.end(),o=!1,u()}}}function Fl(l){let e,t,n=Y.data[l[20]].name+"",s,i,r,a,o,u,f;function c(){return l[9](l[19],l[22])}return{c(){e=E("li"),t=E("button"),s=x(n),i=P(),this.h()},l(d){e=C(d,"LI",{});var h=F(e);t=C(h,"BUTTON",{class:!0});var m=F(t);s=ee(m,n),m.forEach(b),i=B(h),h.forEach(b),this.h()},h(){v(t,"class","svelte-19hcj9o")},m(d,h){z(d,e,h),y(e,t),y(t,s),y(e,i),o=!0,u||(f=W(t,"click",c),u=!0)},p(d,h){l=d},i(d){o||(d&&Ne(()=>{o&&(a&&a.end(1),r=Ve(e,Ts,{skip:!1}),r.start())}),o=!0)},o(d){r&&r.invalidate(),d&&(a=We(e,Ns,{skip:!1})),o=!1},d(d){d&&b(e),d&&a&&a.end(),u=!1,f()}}}function Vl(l){let e,t=l[3][l[19]][l[22]]&&Fl(l);return{c(){t&&t.c(),e=Se()},l(n){t&&t.l(n),e=Se()},m(n,s){t&&t.m(n,s),z(n,e,s)},p(n,s){n[3][n[19]][n[22]]?t?(t.p(n,s),s&8&&N(t,1)):(t=Fl(n),t.c(),N(t,1),t.m(e.parentNode,e)):t&&(te(),V(t,1,1,()=>{t=null}),le())},d(n){n&&b(e),t&&t.d(n)}}}function Rl(l){let e,t,n=l[2][l[19]]&&$l(l),s=de(l[17].settings),i=[];for(let r=0;r<s.length;r+=1)i[r]=Vl(Al(l,s,r));return{c(){n&&n.c(),e=P();for(let r=0;r<i.length;r+=1)i[r].c();t=Se()},l(r){n&&n.l(r),e=B(r);for(let a=0;a<i.length;a+=1)i[a].l(r);t=Se()},m(r,a){n&&n.m(r,a),z(r,e,a);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(r,a);z(r,t,a)},p(r,a){if(r[2][r[19]]?n?(n.p(r,a),a&4&&N(n,1)):(n=$l(r),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(te(),V(n,1,1,()=>{n=null}),le()),a&24){s=de(r[17].settings);let o;for(o=0;o<s.length;o+=1){const u=Al(r,s,o);i[o]?i[o].p(u,a):(i[o]=Vl(u),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=s.length}},d(r){r&&(b(e),b(t)),n&&n.d(r),He(i,r)}}}function zl(l){let e,t,n=l[17].name+"",s,i=l[19],r,a,o;const u=()=>l[14](e,i),f=()=>l[14](null,i);return{c(){e=E("li"),t=E("h1"),s=x(n),this.h()},l(c){e=C(c,"LI",{class:!0});var d=F(e);t=C(d,"H1",{class:!0});var h=F(t);s=ee(h,n),h.forEach(b),d.forEach(b),this.h()},h(){v(t,"class","svelte-19hcj9o"),v(e,"class","title svelte-19hcj9o")},m(c,d){z(c,e,d),y(e,t),y(t,s),u(),o=!0},p(c,d){l=c,i!==l[19]&&(f(),i=l[19],u())},i(c){o||(c&&Ne(()=>{o&&(a&&a.end(1),r=Ve(e,Et,{skip:!1}),r.start())}),o=!0)},o(c){r&&r.invalidate(),c&&(a=We(e,Et,{skip:!1})),o=!1},d(c){c&&b(e),f(),c&&a&&a.end()}}}function Pl(l){let e,t=l[19],n=l[22],s;const i=()=>l[15](e,t,n),r=()=>l[15](null,t,n);let a={key:l[20],setting:Y.data[l[20]]};return e=new tr({props:a}),i(),{c(){j(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,u){X(e,o,u),s=!0},p(o,u){(t!==o[19]||n!==o[22])&&(r(),t=o[19],n=o[22],i());const f={};e.$set(f)},i(o){s||(N(e.$$.fragment,o),s=!0)},o(o){V(e.$$.fragment,o),s=!1},d(o){r(),G(e,o)}}}function Bl(l){let e,t,n=l[3][l[19]][l[22]]&&Pl(l);return{c(){n&&n.c(),e=Se()},l(s){n&&n.l(s),e=Se()},m(s,i){n&&n.m(s,i),z(s,e,i),t=!0},p(s,i){s[3][s[19]][s[22]]?n?(n.p(s,i),i&8&&N(n,1)):(n=Pl(s),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(te(),V(n,1,1,()=>{n=null}),le())},i(s){t||(N(n),t=!0)},o(s){V(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function Ll(l){let e,t,n,s=l[2][l[19]]&&zl(l),i=de(l[17].settings),r=[];for(let o=0;o<i.length;o+=1)r[o]=Bl(Nl(l,i,o));const a=o=>V(r[o],1,1,()=>{r[o]=null});return{c(){s&&s.c(),e=P();for(let o=0;o<r.length;o+=1)r[o].c();t=Se()},l(o){s&&s.l(o),e=B(o);for(let u=0;u<r.length;u+=1)r[u].l(o);t=Se()},m(o,u){s&&s.m(o,u),z(o,e,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(o,u);z(o,t,u),n=!0},p(o,u){if(o[2][o[19]]?s?(s.p(o,u),u&4&&N(s,1)):(s=zl(o),s.c(),N(s,1),s.m(e.parentNode,e)):s&&(te(),V(s,1,1,()=>{s=null}),le()),u&9){i=de(o[17].settings);let f;for(f=0;f<i.length;f+=1){const c=Nl(o,i,f);r[f]?(r[f].p(c,u),N(r[f],1)):(r[f]=Bl(c),r[f].c(),N(r[f],1),r[f].m(t.parentNode,t))}for(te(),f=i.length;f<r.length;f+=1)a(f);le()}},i(o){if(!n){N(s);for(let u=0;u<i.length;u+=1)N(r[u]);n=!0}},o(o){V(s),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)V(r[u]);n=!1},d(o){o&&(b(e),b(t)),s&&s.d(o),He(r,o)}}}function lr(l){let e,t,n,s,i,r,a,o,u,f,c,d,h,m,p,_,g,w,k,S=de(ft),I=[];for(let $=0;$<S.length;$+=1)I[$]=Rl(Dl(l,S,$));o=new be({props:{icon:"arrowRoundLeft",text:"reset all settings"}}),o.$on("click",l[10]),f=new be({props:{icon:"dots",text:"randomize settings",tooltip:"why would you click this"}}),f.$on("click",l[11]),h=new be({props:{icon:"upload",text:"import settings",tooltip:"import settings from file"}}),h.$on("click",l[12]),p=new be({props:{icon:"download",text:"export settings",tooltip:"export settings to file"}}),p.$on("click",l[13]);let D=de(ft),A=[];for(let $=0;$<D.length;$+=1)A[$]=Ll(Tl(l,D,$));const T=$=>V(A[$],1,1,()=>{A[$]=null});return{c(){e=E("div"),t=E("div"),n=E("div"),s=E("ul");for(let $=0;$<I.length;$+=1)I[$].c();i=P(),r=E("div"),a=E("section"),j(o.$$.fragment),u=P(),j(f.$$.fragment),c=P(),d=E("section"),j(h.$$.fragment),m=P(),j(p.$$.fragment),_=P(),g=E("section"),w=E("ul");for(let $=0;$<A.length;$+=1)A[$].c();this.h()},l($){e=C($,"DIV",{class:!0});var R=F(e);t=C(R,"DIV",{class:!0});var L=F(t);n=C(L,"DIV",{class:!0});var O=F(n);s=C(O,"UL",{class:!0});var M=F(s);for(let ve=0;ve<I.length;ve+=1)I[ve].l(M);M.forEach(b),O.forEach(b),L.forEach(b),i=B(R),r=C(R,"DIV",{class:!0});var K=F(r);a=C(K,"SECTION",{class:!0});var re=F(a);Q(o.$$.fragment,re),u=B(re),Q(f.$$.fragment,re),re.forEach(b),c=B(K),d=C(K,"SECTION",{class:!0});var me=F(d);Q(h.$$.fragment,me),m=B(me),Q(p.$$.fragment,me),me.forEach(b),_=B(K),g=C(K,"SECTION",{class:!0});var oe=F(g);w=C(oe,"UL",{class:!0});var Ie=F(w);for(let ve=0;ve<A.length;ve+=1)A[ve].l(Ie);Ie.forEach(b),oe.forEach(b),K.forEach(b),R.forEach(b),this.h()},h(){v(s,"class","svelte-19hcj9o"),v(n,"class","outlineScroll svelte-19hcj9o"),q(n,"customScrollbar",Y.data.customScrollbar.value),v(t,"class","outline svelte-19hcj9o"),v(a,"class","controls svelte-19hcj9o"),v(d,"class","controls svelte-19hcj9o"),v(w,"class","svelte-19hcj9o"),v(g,"class","settings svelte-19hcj9o"),v(r,"class","content svelte-19hcj9o"),q(r,"customScrollbar",Y.data.customScrollbar.value),v(e,"class","top palette-plain svelte-19hcj9o")},m($,R){z($,e,R),y(e,t),y(t,n),y(n,s);for(let L=0;L<I.length;L+=1)I[L]&&I[L].m(s,null);y(e,i),y(e,r),y(r,a),X(o,a,null),y(a,u),X(f,a,null),y(r,c),y(r,d),X(h,d,null),y(d,m),X(p,d,null),y(r,_),y(r,g),y(g,w);for(let L=0;L<A.length;L+=1)A[L]&&A[L].m(w,null);k=!0},p($,[R]){if(R&60){S=de(ft);let L;for(L=0;L<S.length;L+=1){const O=Dl($,S,L);I[L]?I[L].p(O,R):(I[L]=Rl(O),I[L].c(),I[L].m(s,null))}for(;L<I.length;L+=1)I[L].d(1);I.length=S.length}if(R&15){D=de(ft);let L;for(L=0;L<D.length;L+=1){const O=Tl($,D,L);A[L]?(A[L].p(O,R),N(A[L],1)):(A[L]=Ll(O),A[L].c(),N(A[L],1),A[L].m(w,null))}for(te(),L=D.length;L<A.length;L+=1)T(L);le()}},i($){if(!k){N(o.$$.fragment,$),N(f.$$.fragment,$),N(h.$$.fragment,$),N(p.$$.fragment,$);for(let R=0;R<D.length;R+=1)N(A[R]);k=!0}},o($){V(o.$$.fragment,$),V(f.$$.fragment,$),V(h.$$.fragment,$),V(p.$$.fragment,$),A=A.filter(Boolean);for(let R=0;R<A.length;R+=1)V(A[R]);k=!1},d($){$&&b(e),He(I,$),G(o),G(f),G(h),G(p),He(A,$)}}}function nr(l,e,t){const n=()=>{};Le(()=>{Y.saveToLocalStorage()});let s=[],i=[];for(let S=0;S<ft.length;S++)s.push([]);function r(S,I){s[S][I].scrollToSelf()}function a(S){i[S].scrollIntoView()}let o,u;function f(){t(3,u=ft.map((S,I)=>S.settings.map((D,A)=>Y.data[D]?!!(!Y.data[D].visibilityCondition||Y.data[D].visibilityCondition&&Y.data[D].visibilityCondition()):(console.log(`Key: ${D} does not exist in settings.`),!1)))),t(2,o=u.map((S,I)=>S.some(D=>D)))}f(),Le(Y.subscribe(["any"],()=>{f()}));function c(){document.getElementById("uploadId").click()}const d=(S,I)=>{a(S)},h=(S,I)=>r(S,I),m=()=>Y.resetToAuto(),p=()=>Y.randomize(),_=()=>c(),g=()=>Cs();function w(S,I){ie[S?"unshift":"push"](()=>{i[I]=S,t(1,i)})}function k(S,I,D){ie[S?"unshift":"push"](()=>{s[I][D]=S,t(0,s)})}return[s,i,o,u,r,a,c,n,d,h,m,p,_,g,w,k]}class sr extends _e{constructor(e){super(),ge(this,e,nr,lr,he,{closePopup:7})}get closePopup(){return this.$$.ctx[7]}}function ir(l,{from:e,to:t},n={}){const s=getComputedStyle(l),i=s.transform==="none"?"":s.transform,[r,a]=s.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*r/t.width-(t.left+r),u=e.top+e.height*a/t.height-(t.top+a),{delay:f=0,duration:c=h=>Math.sqrt(h)*120,easing:d=Rn}=n;return{delay:f,duration:Nt(c)?c(Math.sqrt(o*o+u*u)):c,easing:d,css:(h,m)=>{const p=m*o,_=m*u,g=h+m*e.width/t.width,w=h+m*e.height/t.height;return`transform: ${i} translate(${p}px, ${_}px) scale(${g}, ${w});`}}}function Ol(l,e,t){const n=l.slice();return n[22]=e[t],n[24]=t,n}const rr=l=>({item:l&1,index:l&1}),Ml=l=>({item:l[22],index:l[24]});function Hl(l){let e,t=[],n=new Map,s,i,r=de(l[0]);const a=o=>o[12](o[22]);for(let o=0;o<r.length;o+=1){let u=Ol(l,r,o),f=a(u);n.set(f,t[o]=Ul(f,u))}return{c(){e=E("ul");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=C(o,"UL",{class:!0});var u=F(e);for(let f=0;f<t.length;f+=1)t[f].l(u);u.forEach(b),this.h()},h(){v(e,"class","svelte-f52ckd")},m(o,u){z(o,e,u);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);l[16](e),i=!0},p(o,u){if(u&24349){r=de(o[0]),te();for(let f=0;f<t.length;f+=1)t[f].r();t=Rt(t,u,a,1,o,r,n,e,ui,Ul,null,Ol);for(let f=0;f<t.length;f+=1)t[f].a();le()}},i(o){if(!i){for(let u=0;u<r.length;u+=1)N(t[u]);s&&s.end(1),i=!0}},o(o){for(let u=0;u<t.length;u+=1)V(t[u]);o&&(s=We(e,Ds,{})),i=!1},d(o){o&&b(e);for(let u=0;u<t.length;u+=1)t[u].d();l[16](null),o&&s&&s.end()}}}function Ul(l,e){let t,n,s,i,r,a,o,u=Z,f,c,d;const h=e[15].default,m=us(h,e,e[14],Ml);return{key:l,first:null,c(){t=E("li"),m&&m.c(),n=P(),this.h()},l(p){t=C(p,"LI",{"data-index":!0,"data-id":!0,draggable:!0,class:!0});var _=F(t);m&&m.l(_),n=B(_),_.forEach(b),this.h()},h(){v(t,"data-index",s=e[24]),v(t,"data-id",i=JSON.stringify(e[12](e[22]))),v(t,"draggable","true"),v(t,"class","svelte-f52ckd"),q(t,"overFirst",e[24]===e[2]),q(t,"overSecond",e[24]===e[3]),q(t,"dragSource",e[24]===e[4]),this.first=t},m(p,_){z(p,t,_),m&&m.m(t,null),y(t,n),f=!0,c||(d=[W(t,"dragstart",e[8]),W(t,"dragover",e[9]),W(t,"dragleave",e[10]),W(t,"drop",e[11])],c=!0)},p(p,_){e=p,m&&m.p&&(!f||_&16385)&&fs(m,h,e,e[14],f?ds(h,e[14],_,rr):cs(e[14]),Ml),(!f||_&1&&s!==(s=e[24]))&&v(t,"data-index",s),(!f||_&1&&i!==(i=JSON.stringify(e[12](e[22]))))&&v(t,"data-id",i),(!f||_&5)&&q(t,"overFirst",e[24]===e[2]),(!f||_&9)&&q(t,"overSecond",e[24]===e[3]),(!f||_&17)&&q(t,"dragSource",e[24]===e[4])},r(){o=t.getBoundingClientRect()},f(){di(t),u(),Qn(t,o)},a(){u(),u=ci(t,o,ir,{duration:e[1]})},i(p){f||(N(m,p),p&&Ne(()=>{f&&(a&&a.end(1),r=Ve(t,e[7],{key:e[12](e[22])}),r.start())}),f=!0)},o(p){V(m,p),r&&r.invalidate(),p&&(a=We(t,e[6],{key:e[12](e[22])})),f=!1},d(p){p&&b(t),m&&m.d(p),p&&a&&a.end(),c=!1,Ue(d)}}}function or(l){let e,t,n=l[0]&&l[0].length&&Hl(l);return{c(){n&&n.c(),e=Se()},l(s){n&&n.l(s),e=Se()},m(s,i){n&&n.m(s,i),z(s,e,i),t=!0},p(s,[i]){s[0]&&s[0].length?n?(n.p(s,i),i&1&&N(n,1)):(n=Hl(s),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(te(),V(n,1,1,()=>{n=null}),le())},i(s){t||(N(n),t=!0)},o(s){V(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function ar(l,e,t){let{$$slots:n={},$$scope:s}=e,i=Y.data.transitionSpeed.value;Le(Y.subscribe(["transitionSpeed"],$=>{t(1,i=Y.data[$].value)}));const[r,a]=hi({duration:$=>Math.sqrt($*i),fallback:As});let o=null,u=null,f=null;const c=$=>{let R=$.target.getBoundingClientRect(),L=$.clientY-R.top,O=R.height/2;return L>O},d=$=>$.dataset&&$.dataset.index?$.dataset:d($.parentNode),h=$=>{$.dataTransfer.setData("source",$.target.dataset.index),t(4,f=parseInt($.target.dataset.index))},m=$=>{$.preventDefault();let R=d($.target),L=parseInt(R.index);c($)?(t(2,o=L),t(3,u=L+1)):(t(2,o=L-1),t(3,u=L))},p=$=>{let R=d($.target);parseInt(R.index),t(2,o=null),t(3,u=null)},_=$=>{$.preventDefault(),t(2,o=null),t(3,u=null),t(4,f=null);let R=d($.target),L=parseInt($.dataTransfer.getData("source")),O=parseInt(R.index);c($)||(O-=1),w({from:L,to:O})},g=Dn(),w=({from:$,to:R})=>{g("sort",{from:$,to:R})},k=$=>I?$[I]:$;let{list:S}=e,{key:I=null}=e,D;async function A($=!1){$&&D!=null&&t(5,D.style.height="auto",D),await mt();let R=0;for(let L=0;L<S.length;L++)R+=D.children[L].scrollHeight;D!=null&&t(5,D.style.height=`calc(${R}px)`,D)}nt(()=>{A(!0)}),Le(Y.subscribe(["sidebarWidth","fontSize","padding"],()=>A()));function T($){ie[$?"unshift":"push"](()=>{D=$,t(5,D)})}return l.$$set=$=>{"list"in $&&t(0,S=$.list),"key"in $&&t(13,I=$.key),"$$scope"in $&&t(14,s=$.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&A()},[S,i,o,u,f,D,r,a,h,m,p,_,k,I,s,n,T]}class ur extends _e{constructor(e){super(),ge(this,e,ar,or,he,{list:0,key:13})}}const $t=["policy","publicForum","lincolnDouglas","congress","worldSchools","bigQuestions","nofSpar","parli","classic"],fr=["primary","secondary","tertiary","quaternary"];function cr(){return Ft[$t[Y.data.debateStyle.value]]}function Wn(){let l=cr();if(l.alternativeFlowSelectorSettingName&&l.alternativeFlowSelectorSettingName in Y.data){const e=l[`alternativeFlows${Y.data[l.alternativeFlowSelectorSettingName].value}`];if(e)return e}return l.flows}function ct(l){let e=Wn(),t;return typeof l=="number"?t=l:t=fr.indexOf(l),t===-1?null:e[t]||null}const Ft={policy:{flows:[{name:"aff",columns:["1AC","1NC","2AC","2NC/1NR","1AR","2NR","2AR"],invert:!1},{name:"neg",columns:["1NC","2AC","2NC/1NR","1AR","2NR","2AR"],invert:!0}],timerSpeeches:[{name:"1AC",time:8*60*1e3,secondary:!1},{name:"CX",time:3*60*1e3,secondary:!1},{name:"1NC",time:8*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!0},{name:"2AC",time:8*60*1e3,secondary:!1},{name:"CX",time:3*60*1e3,secondary:!1},{name:"2NC",time:8*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!0},{name:"1NR",time:5*60*1e3,secondary:!0},{name:"1AR",time:5*60*1e3,secondary:!1},{name:"2NR",time:5*60*1e3,secondary:!0},{name:"2AR",time:5*60*1e3,secondary:!1}],prepTime:8*60*1e3},publicForum:{flows:[{name:"aff",columns:["AC","NC","AR","NR","AS","NS","AFF","NFF"],columnsSwitch:["AC","NR","AR","NS","AS","NFF","AFF"],invert:!1},{name:"neg",columns:["NC","AR","NR","AS","NS","AFF","NFF"],columnsSwitch:["NC","AC","NR","AR","NS","AS","NFF","AFF"],invert:!0}],timerSpeeches:[{name:"AC",time:4*60*1e3,secondary:!1},{name:"NC",time:4*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!1},{name:"AR",time:4*60*1e3,secondary:!1},{name:"NR",time:4*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!1},{name:"AS",time:3*60*1e3,secondary:!1},{name:"NS",time:3*60*1e3,secondary:!0},{name:"GCX",time:3*60*1e3,secondary:!1},{name:"AFF",time:2*60*1e3,secondary:!1},{name:"NFF",time:2*60*1e3,secondary:!0}],prepTime:3*60*1e3},lincolnDouglas:{flows:[{name:"aff",columns:["AC","NR","1AR","2NR","2AR"],starterBoxes:["Value","Criterion"],invert:!1},{name:"neg",columns:["NC","1AR","2NR","2AR"],starterBoxes:["Value","Criterion"],invert:!0}],alternativeFlowSelectorSettingName:"LDSubstyle",alternativeFlows1:[{name:"aff",columns:["AC","NR","1AR","2NR","2AR"],starterBoxes:["type here"],invert:!1},{name:"neg",columns:["NC","1AR","2NR","2AR"],starterBoxes:["type here"],invert:!0},{name:"1ar",columns:["1AR","2NR","2AR"],starterBoxes:["type here"],invert:!1},{name:"2nr",columns:["2NR","2AR"],starterBoxes:["type here"],invert:!0}],timerSpeeches:[{name:"AC",time:6*60*1e3,secondary:!1},{name:"CX",time:3*60*1e3,secondary:!1},{name:"NC",time:7*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!1},{name:"1AR",time:4*60*1e3,secondary:!1},{name:"NR",time:6*60*1e3,secondary:!0},{name:"2AR",time:3*60*1e3,secondary:!1}],prepTime:4*60*1e3},congress:{flows:[{name:"bill",columns:["1A","Q/1N","Q/2A","Q/2N","Q/3A","Q/3N","Q/4A","Q/4N","Q/5A","Q/5N","Q/6A","Q/6N","Q/7A","Q/7N","Q/8A","Q/8N","Q/9A","Q/9N","Q/10A","Q/10N","Q/11A","Q/11N","Q/12A","Q/12N","Q/13A","Q/13N","Q/14A","Q/14N","Q/15A","Q/15N","Q/16A","Q/16N","Q/17A","Q/17N","Q/18A","Q/18N","Q/19A","Q/19N","Q/20A","Q/20N","Q/20A","Q/20N","Q/21A","Q/21N","Q/22A","Q/22N","Q/23A","Q/23N","Q/24A","Q/24N","Q/25A","Q/25N"],invert:!1}],timerSpeeches:[{name:"speech",time:3*60*1e3,secondary:!1}]},worldSchools:{flows:[{name:"prop",columns:["P1","O1","P2","O2","PW","OW","OR","PR"],invert:!1},{name:"opp",columns:["O1","P2","O2","PW","OW","OR","PR"],invert:!0}],timerSpeeches:[{name:"P1",time:8*60*1e3,secondary:!1},{name:"O1",time:8*60*1e3,secondary:!0},{name:"P2",time:8*60*1e3,secondary:!1},{name:"O2",time:8*60*1e3,secondary:!0},{name:"PW",time:8*60*1e3,secondary:!1},{name:"OW",time:8*60*1e3,secondary:!0},{name:"OR",time:4*60*1e3,secondary:!0},{name:"PR",time:4*60*1e3,secondary:!1}]},bigQuestions:{flows:[{name:"aff",columns:["AC","NC","ARb","NRb","A3","N3","ARt","NRt"],invert:!1},{name:"neg",columns:["NC","ARb","NRb","A3","N3","ARt","NRt"],invert:!0}],timerSpeeches:[{name:"AC",time:5*60*1e3,secondary:!1},{name:"NC",time:5*60*1e3,secondary:!0},{name:"QS",time:3*60*1e3,secondary:!1},{name:"ARb",time:4*60*1e3,secondary:!1},{name:"NRb",time:4*60*1e3,secondary:!0},{name:"QS",time:3*60*1e3,secondary:!1},{name:"A3",time:3*60*1e3,secondary:!1},{name:"N3",time:3*60*1e3,secondary:!0},{name:"ARt",time:3*60*1e3,secondary:!1},{name:"NRt",time:3*60*1e3,secondary:!0}],prepTime:3*60*1e3},nofSpar:{flows:[{name:"pro",columns:["PC","CC","PR","CR"],invert:!1},{name:"con",columns:["CC","PR","CR"],invert:!0}],timerSpeeches:[{name:"PREP",time:2*60*1e3,secondary:!1},{name:"PC",time:2*60*1e3,secondary:!1},{name:"CC",time:2*60*1e3,secondary:!0},{name:"CX",time:4*60*1e3,secondary:!1},{name:"PR",time:2*60*1e3,secondary:!1},{name:"CR",time:2*60*1e3,secondary:!0}]},parli:{flows:[{name:"pro",columns:["1PC","1OC","2PC","2OC/OR","PR"],invert:!1},{name:"opp",columns:["1OC","2PC","2OC/OR","PR"],invert:!0}],timerSpeeches:[{name:"1PC",time:7*60*1e3,secondary:!1},{name:"1OC",time:8*60*1e3,secondary:!0},{name:"2PC",time:8*60*1e3,secondary:!1},{name:"2OC",time:8*60*1e3,secondary:!0},{name:"OR",time:4*60*1e3,secondary:!0},{name:"PR",time:5*60*1e3,secondary:!1}]},classic:{flows:[{name:"aff",columns:["AC","NC/1NR","1AR","2NR","2AR","NS","AS"],invert:!1},{name:"neg",columns:["NC/1NR","1AR","2NR","2AR","AS","NS"],invert:!0}],timerSpeeches:[{name:"AC",time:6*60*1e3,secondary:!1},{name:"CX",time:3*60*1e3,secondary:!0},{name:"NC",time:6*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!1},{name:"1NR",time:5*60*1e3,secondary:!0},{name:"CX",time:3*60*1e3,secondary:!1},{name:"prep",time:2*60*1e3,secondary:!1},{name:"1AR",time:7*60*1e3,secondary:!1},{name:"CX",time:3*60*1e3,secondary:!0},{name:"prep",time:2*60*1e3,secondary:!0},{name:"2NR",time:6*60*1e3,secondary:!0},{name:"prep",time:2*60*1e3,secondary:!1},{name:"2AR",time:4*60*1e3,secondary:!1},{name:"prep",time:2*60*1e3,secondary:!0},{name:"NS",time:3*60*1e3,secondary:!0},{name:"prep",time:2*60*1e3,secondary:!1},{name:"AS",time:3*60*1e3,secondary:!1}]}};function ql(l,e,t){const n=l.slice();return n[11]=e[t],n[13]=t,n}function dr(l){let e,t;return e=new $s({props:{step:5+l[13],$$slots:{default:[hr]},$$scope:{ctx:l}}}),{c(){j(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){X(e,n,s),t=!0},p(n,s){const i={};s&16418&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function hr(l){let e,t;function n(){return l[8](l[11])}return e=new be({props:{text:l[11].name,palette:l[11].invert?"accent-secondary":"accent",icon:"add",tooltip:`create new ${l[11].name} flow`,shortcut:l[13]===0?["control","n"]:l[13]===1?["control","shift","n"]:null}}),e.$on("click",n),{c(){j(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,i){X(e,s,i),t=!0},p(s,i){l=s;const r={};i&32&&(r.text=l[11].name),i&32&&(r.palette=l[11].invert?"accent-secondary":"accent"),i&32&&(r.tooltip=`create new ${l[11].name} flow`),e.$set(r)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function mr(l){let e,t;function n(){return l[9](l[11])}return e=new be({props:{text:l[11].name,palette:l[11].invert?"accent-secondary":"accent",icon:"add",tooltip:`create new ${l[11].name} flow`}}),e.$on("click",n),{c(){j(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,i){X(e,s,i),t=!0},p(s,i){l=s;const r={};i&32&&(r.text=l[11].name),i&32&&(r.palette=l[11].invert?"accent-secondary":"accent"),i&32&&(r.tooltip=`create new ${l[11].name} flow`),e.$set(r)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function jl(l){let e,t,n,s=(l[13]===0||l[13]===1)&&dr(l),i=l[13]>1&&mr(l);return{c(){s&&s.c(),e=P(),i&&i.c(),t=Se()},l(r){s&&s.l(r),e=B(r),i&&i.l(r),t=Se()},m(r,a){s&&s.m(r,a),z(r,e,a),i&&i.m(r,a),z(r,t,a),n=!0},p(r,a){(r[13]===0||r[13]===1)&&s.p(r,a),r[13]>1&&i.p(r,a)},i(r){n||(N(s),N(i),n=!0)},o(r){V(s),V(i),n=!1},d(r){r&&(b(e),b(t)),s&&s.d(r),i&&i.d(r)}}}function Ql(l){let e,t,n;return t=new be({props:{text:"first",icon:"arrowLeft",palette:l[0]?"accent-secondary":"accent",tooltip:l[0]?`set ${l[3].name} to first speaker`:`set ${l[4].name} to first speaker`}}),t.$on("click",l[10]),{c(){e=E("div"),j(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var i=F(e);Q(t.$$.fragment,i),i.forEach(b),this.h()},h(){v(e,"class","switch")},m(s,i){z(s,e,i),X(t,e,null),n=!0},p(s,i){const r={};i&1&&(r.palette=s[0]?"accent-secondary":"accent"),i&25&&(r.tooltip=s[0]?`set ${s[3].name} to first speaker`:`set ${s[4].name} to first speaker`),t.$set(r)},i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){V(t.$$.fragment,s),n=!1},d(s){s&&b(e),G(t)}}}function pr(l){let e,t,n,s,i=de(l[5]),r=[];for(let u=0;u<i.length;u+=1)r[u]=jl(ql(l,i,u));const a=u=>V(r[u],1,1,()=>{r[u]=null});let o=l[3]!=null&&l[4]!=null&&l[2]&&Ql(l);return{c(){e=E("div"),t=E("div");for(let u=0;u<r.length;u+=1)r[u].c();n=P(),o&&o.c(),this.h()},l(u){e=C(u,"DIV",{class:!0});var f=F(e);t=C(f,"DIV",{class:!0});var c=F(t);for(let d=0;d<r.length;d+=1)r[d].l(c);c.forEach(b),n=B(f),o&&o.l(f),f.forEach(b),this.h()},h(){v(t,"class","buttons svelte-ti4de"),v(e,"class","addTab svelte-ti4de"),q(e,"hasSwitch",l[2]),q(e,"switch",l[0])},m(u,f){z(u,e,f),y(e,t);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(t,null);y(e,n),o&&o.m(e,null),s=!0},p(u,[f]){if(f&34){i=de(u[5]);let c;for(c=0;c<i.length;c+=1){const d=ql(u,i,c);r[c]?(r[c].p(d,f),N(r[c],1)):(r[c]=jl(d),r[c].c(),N(r[c],1),r[c].m(t,null))}for(te(),c=i.length;c<r.length;c+=1)a(c);le()}u[3]!=null&&u[4]!=null&&u[2]?o?(o.p(u,f),f&28&&N(o,1)):(o=Ql(u),o.c(),N(o,1),o.m(e,null)):o&&(te(),V(o,1,1,()=>{o=null}),le()),(!s||f&4)&&q(e,"hasSwitch",u[2]),(!s||f&1)&&q(e,"switch",u[0])},i(u){if(!s){for(let f=0;f<i.length;f+=1)N(r[f]);N(o),s=!0}},o(u){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)V(r[f]);V(o),s=!1},d(u){u&&b(e),He(r,u),o&&o.d()}}}function _r(l){const e=[];for(let t=0;t<l.length;t+=2)l[t+1]&&e.push(l[t+1]),e.push(l[t]);return e}function gr(l,e,t){let n,s,{addFlow:i}=e,{switchSpeakers:r}=e,a,o,u,f;Le(Y.subscribe(["any"],m=>{t(6,u=Wn()),t(3,a=ct("primary")),t(4,o=ct("secondary")),a!=null&&t(2,f=a.columnsSwitch!=null)}));const c=m=>i(m),d=m=>i(m),h=()=>t(0,r=!r);return l.$$set=m=>{"addFlow"in m&&t(1,i=m.addFlow),"switchSpeakers"in m&&t(0,r=m.switchSpeakers)},l.$$.update=()=>{l.$$.dirty&64&&t(7,n=_r(u)),l.$$.dirty&197&&t(5,s=f&&r?n:u)},[r,i,f,a,o,s,u,n,c,d,h]}class vr extends _e{constructor(e){super(),ge(this,e,gr,pr,he,{addFlow:1,switchSpeakers:0})}}function br(l){let e;return{c(){e=x("no name")},l(t){e=ee(t,"no name")},m(t,n){z(t,e,n)},p:Z,d(t){t&&b(e)}}}function wr(l){let e=l[1].content+"",t;return{c(){t=x(e)},l(n){t=ee(n,e)},m(n,s){z(n,t,s)},p(n,s){s&2&&e!==(e=n[1].content+"")&&Ae(t,e)},d(n){n&&b(t)}}}function kr(l){let e,t,n,s,i;function r(u,f){return u[1].content?wr:br}let a=r(l),o=a(l);return{c(){e=E("div"),t=E("button"),o.c(),this.h()},l(u){e=C(u,"DIV",{class:!0});var f=F(e);t=C(f,"BUTTON",{class:!0});var c=F(t);o.l(c),c.forEach(b),f.forEach(b),this.h()},h(){v(t,"class","svelte-g3ddtd"),q(t,"selected",l[0]),q(t,"empty",l[1].content.length==0),v(e,"class",n=Ce(`top palette-${l[2]}`)+" svelte-g3ddtd"),q(e,"invert",l[1].invert)},m(u,f){z(u,e,f),y(e,t),o.m(t,null),s||(i=W(t,"click",l[6]),s=!0)},p(u,[f]){a===(a=r(u))&&o?o.p(u,f):(o.d(1),o=a(u),o&&(o.c(),o.m(t,null))),f&1&&q(t,"selected",u[0]),f&2&&q(t,"empty",u[1].content.length==0),f&4&&n!==(n=Ce(`top palette-${u[2]}`)+" svelte-g3ddtd")&&v(e,"class",n),f&6&&q(e,"invert",u[1].invert)},i:Z,o:Z,d(u){u&&b(e),o.d(),s=!1,i()}}}function yr(l,e,t){let n,s;ce(l,at,f=>t(5,s=f));let{flowId:i}=e,{selected:r}=e,a,o;function u(f){xe.call(this,l,f)}return l.$$set=f=>{"flowId"in f&&t(3,i=f.flowId),"selected"in f&&t(0,r=f.selected)},l.$$.update=()=>{l.$$.dirty&40&&t(4,n=s[i]),l.$$.dirty&16&&n!=null&&t(1,a=n.value),l.$$.dirty&2&&(a.invert?t(2,o="accent-secondary"):t(2,o="accent"))},[r,a,o,i,n,s,u]}class Sr extends _e{constructor(e){super(),ge(this,e,yr,kr,he,{flowId:3,selected:0})}}function Xl(l){let e,t,n,s,i,r='click to go <span class="primary svelte-17bta5g">home</span>,',a,o,u,f,c;t=new Qe({props:{name:"arrowLeft"}});let d=l[2]>1&&Gl(),h=l[2]>2&&Wl(),m=l[2]>3&&Jl();return{c(){e=E("div"),j(t.$$.fragment),n=P(),s=E("p"),i=E("span"),i.innerHTML=r,a=P(),d&&d.c(),o=P(),h&&h.c(),u=P(),m&&m.c(),this.h()},l(p){e=C(p,"DIV",{class:!0});var _=F(e);Q(t.$$.fragment,_),n=B(_),s=C(_,"P",{class:!0});var g=F(s);i=C(g,"SPAN",{"data-svelte-h":!0}),ae(i)!=="svelte-gxnhvd"&&(i.innerHTML=r),a=B(g),d&&d.l(g),o=B(g),h&&h.l(g),u=B(g),m&&m.l(g),g.forEach(b),_.forEach(b),this.h()},h(){v(s,"class","svelte-17bta5g"),v(e,"class","instruction svelte-17bta5g")},m(p,_){z(p,e,_),X(t,e,null),y(e,n),y(e,s),y(s,i),y(s,a),d&&d.m(s,null),y(s,o),h&&h.m(s,null),y(s,u),m&&m.m(s,null),c=!0},p(p,_){p[2]>1?d?_&4&&N(d,1):(d=Gl(),d.c(),N(d,1),d.m(s,o)):d&&(d.d(1),d=null),p[2]>2?h?_&4&&N(h,1):(h=Wl(),h.c(),N(h,1),h.m(s,u)):h&&(h.d(1),h=null),p[2]>3?m?_&4&&N(m,1):(m=Jl(),m.c(),N(m,1),m.m(s,null)):m&&(m.d(1),m=null)},i(p){c||(N(t.$$.fragment,p),N(d),N(h),N(m),p&&(f||Ne(()=>{f=Ve(e,Vt,{}),f.start()})),c=!0)},o(p){V(t.$$.fragment,p),c=!1},d(p){p&&b(e),G(t),d&&d.d(),h&&h.d(),m&&m.d()}}}function Gl(l){let e,t='to open <span class="primary svelte-17bta5g">settings</span>,',n;return{c(){e=E("span"),e.innerHTML=t},l(s){e=C(s,"SPAN",{"data-svelte-h":!0}),ae(e)!=="svelte-18dac0u"&&(e.innerHTML=t)},m(s,i){z(s,e,i)},i(s){s&&(n||Ne(()=>{n=Ve(e,lt,{}),n.start()}))},o:Z,d(s){s&&b(e)}}}function Wl(l){let e,t='to <span class="secondary svelte-17bta5g">download/upload</span>,',n;return{c(){e=E("span"),e.innerHTML=t},l(s){e=C(s,"SPAN",{"data-svelte-h":!0}),ae(e)!=="svelte-1ukkx1b"&&(e.innerHTML=t)},m(s,i){z(s,e,i)},i(s){s&&(n||Ne(()=>{n=Ve(e,lt,{}),n.start()}))},o:Z,d(s){s&&b(e)}}}function Jl(l){let e,t='and to <span class="secondary svelte-17bta5g">share</span>',n;return{c(){e=E("span"),e.innerHTML=t},l(s){e=C(s,"SPAN",{"data-svelte-h":!0}),ae(e)!=="svelte-1w1nyup"&&(e.innerHTML=t)},m(s,i){z(s,e,i)},i(s){s&&(n||Ne(()=>{n=Ve(e,lt,{}),n.start()}))},o:Z,d(s){s&&b(e)}}}function Kl(l){let e,t,n,s,i,r='click to create a new flow on <span class="primary svelte-17bta5g">aff</span>',a,o,u;t=new Qe({props:{name:"arrowLeft"}});let f=l[2]>5&&Yl();return{c(){e=E("div"),j(t.$$.fragment),n=P(),s=E("p"),i=E("span"),i.innerHTML=r,a=P(),f&&f.c(),this.h()},l(c){e=C(c,"DIV",{class:!0});var d=F(e);Q(t.$$.fragment,d),n=B(d),s=C(d,"P",{class:!0});var h=F(s);i=C(h,"SPAN",{"data-svelte-h":!0}),ae(i)!=="svelte-rq5qab"&&(i.innerHTML=r),a=B(h),f&&f.l(h),h.forEach(b),d.forEach(b),this.h()},h(){v(s,"class","svelte-17bta5g"),v(e,"class","instruction svelte-17bta5g")},m(c,d){z(c,e,d),X(t,e,null),y(e,n),y(e,s),y(s,i),y(s,a),f&&f.m(s,null),u=!0},p(c,d){c[2]>5?f?d&4&&N(f,1):(f=Yl(),f.c(),N(f,1),f.m(s,null)):f&&(f.d(1),f=null)},i(c){u||(N(t.$$.fragment,c),N(f),c&&(o||Ne(()=>{o=Ve(e,Vt,{}),o.start()})),u=!0)},o(c){V(t.$$.fragment,c),u=!1},d(c){c&&b(e),G(t),f&&f.d()}}}function Yl(l){let e,t='or <span class="secondary svelte-17bta5g">neg</span>',n;return{c(){e=E("span"),e.innerHTML=t},l(s){e=C(s,"SPAN",{"data-svelte-h":!0}),ae(e)!=="svelte-w7hc5z"&&(e.innerHTML=t)},m(s,i){z(s,e,i)},i(s){s&&(n||Ne(()=>{n=Ve(e,lt,{}),n.start()}))},o:Z,d(s){s&&b(e)}}}function Zl(l){let e,t,n,s="Tips",i,r,a,o,u,f,c,d,h,m,p,_,g,w=`use <span class="secondary svelte-17bta5g">undo</span> and
						<span class="secondary svelte-17bta5g">redo</span> if you make a mistake`,k,S,I,D,A,T,$='use the <span class="primary svelte-17bta5g">arrow keys</span> to move around',R,L,O,M,K,re,me='click on <span class="primary svelte-17bta5g">settings</span> to customize',oe,Ie,ve;return a=new Qe({props:{name:"dots"}}),f=new Fs({props:{content:"yes like this",inline:!0,$$slots:{default:[Ir]},$$scope:{ctx:l}}}),p=new Qe({props:{name:"undo"}}),D=new Qe({props:{name:"arrowUp"}}),M=new Qe({props:{name:"gear"}}),{c(){e=E("div"),t=E("div"),n=E("h1"),n.textContent=s,i=P(),r=E("div"),j(a.$$.fragment),o=P(),u=E("p"),j(f.$$.fragment),c=x(`
						over buttons to see what they do`),h=P(),m=E("div"),j(p.$$.fragment),_=P(),g=E("p"),g.innerHTML=w,S=P(),I=E("div"),j(D.$$.fragment),A=P(),T=E("p"),T.innerHTML=$,L=P(),O=E("div"),j(M.$$.fragment),K=P(),re=E("p"),re.innerHTML=me,this.h()},l(fe){e=C(fe,"DIV",{class:!0});var J=F(e);t=C(J,"DIV",{class:!0});var se=F(t);n=C(se,"H1",{"data-svelte-h":!0}),ae(n)!=="svelte-yr8oui"&&(n.textContent=s),i=B(se),r=C(se,"DIV",{class:!0});var Re=F(r);Q(a.$$.fragment,Re),o=B(Re),u=C(Re,"P",{class:!0});var Te=F(u);Q(f.$$.fragment,Te),c=ee(Te,`
						over buttons to see what they do`),Te.forEach(b),Re.forEach(b),h=B(se),m=C(se,"DIV",{class:!0});var $e=F(m);Q(p.$$.fragment,$e),_=B($e),g=C($e,"P",{class:!0,"data-svelte-h":!0}),ae(g)!=="svelte-1dukc0s"&&(g.innerHTML=w),$e.forEach(b),S=B(se),I=C(se,"DIV",{class:!0});var Pe=F(I);Q(D.$$.fragment,Pe),A=B(Pe),T=C(Pe,"P",{class:!0,"data-svelte-h":!0}),ae(T)!=="svelte-o9bzm5"&&(T.innerHTML=$),Pe.forEach(b),L=B(se),O=C(se,"DIV",{class:!0});var Be=F(O);Q(M.$$.fragment,Be),K=B(Be),re=C(Be,"P",{class:!0,"data-svelte-h":!0}),ae(re)!=="svelte-wmepqf"&&(re.innerHTML=me),Be.forEach(b),se.forEach(b),J.forEach(b),this.h()},h(){v(u,"class","svelte-17bta5g"),v(r,"class","instruction svelte-17bta5g"),v(g,"class","svelte-17bta5g"),v(m,"class","instruction svelte-17bta5g"),v(T,"class","svelte-17bta5g"),v(I,"class","instruction svelte-17bta5g"),v(re,"class","svelte-17bta5g"),v(O,"class","instruction svelte-17bta5g"),v(t,"class","tips svelte-17bta5g"),v(e,"class","tipsWrapper svelte-17bta5g")},m(fe,J){z(fe,e,J),y(e,t),y(t,n),y(t,i),y(t,r),X(a,r,null),y(r,o),y(r,u),X(f,u,null),y(u,c),y(t,h),y(t,m),X(p,m,null),y(m,_),y(m,g),y(t,S),y(t,I),X(D,I,null),y(I,A),y(I,T),y(t,L),y(t,O),X(M,O,null),y(O,K),y(O,re),ve=!0},p(fe,J){l=fe;const se={};J&128&&(se.$$scope={dirty:J,ctx:l}),f.$set(se)},i(fe){ve||(N(a.$$.fragment,fe),N(f.$$.fragment,fe),fe&&(d||Ne(()=>{d=Ve(r,lt,{delay:kt}),d.start()})),N(p.$$.fragment,fe),fe&&(k||Ne(()=>{k=Ve(m,lt,{delay:kt*2}),k.start()})),N(D.$$.fragment,fe),fe&&(R||Ne(()=>{R=Ve(I,lt,{delay:kt*3}),R.start()})),N(M.$$.fragment,fe),fe&&(oe||Ne(()=>{oe=Ve(O,lt,{delay:kt*4}),oe.start()})),fe&&(Ie||Ne(()=>{Ie=Ve(t,Vt,{}),Ie.start()})),ve=!0)},o(fe){V(a.$$.fragment,fe),V(f.$$.fragment,fe),V(p.$$.fragment,fe),V(D.$$.fragment,fe),V(M.$$.fragment,fe),ve=!1},d(fe){fe&&b(e),G(a),G(f),G(p),G(D),G(M)}}}function Ir(l){let e,t="hover";return{c(){e=E("span"),e.textContent=t,this.h()},l(n){e=C(n,"SPAN",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-180235d"&&(e.textContent=t),this.h()},h(){v(e,"class","primary svelte-17bta5g")},m(n,s){z(n,e,s)},p:Z,d(n){n&&b(e)}}}function Er(l){let e,t,n,s,i,r,a,o,u,f;return t=new Qe({props:{name:"add"}}),{c(){e=E("div"),j(t.$$.fragment),n=P(),s=E("p"),i=x("click to continue ("),r=x(l[2]),a=x("/"),o=x(Tt),u=x(")"),this.h()},l(c){e=C(c,"DIV",{class:!0});var d=F(e);Q(t.$$.fragment,d),n=B(d),s=C(d,"P",{class:!0});var h=F(s);i=ee(h,"click to continue ("),r=ee(h,l[2]),a=ee(h,"/"),o=ee(h,Tt),u=ee(h,")"),h.forEach(b),d.forEach(b),this.h()},h(){v(s,"class","svelte-17bta5g"),v(e,"class","instruction continue svelte-17bta5g")},m(c,d){z(c,e,d),X(t,e,null),y(e,n),y(e,s),y(s,i),y(s,r),y(s,a),y(s,o),y(s,u),f=!0},p(c,d){(!f||d&4)&&Ae(r,c[2])},i(c){f||(N(t.$$.fragment,c),f=!0)},o(c){V(t.$$.fragment,c),f=!1},d(c){c&&b(e),G(t)}}}function Cr(l){let e,t,n,s,i="click to start tutorial",r;return t=new Qe({props:{name:"add"}}),{c(){e=E("div"),j(t.$$.fragment),n=P(),s=E("p"),s.textContent=i,this.h()},l(a){e=C(a,"DIV",{class:!0});var o=F(e);Q(t.$$.fragment,o),n=B(o),s=C(o,"P",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-n8r9xp"&&(s.textContent=i),o.forEach(b),this.h()},h(){v(s,"class","svelte-17bta5g"),v(e,"class","instruction continue start svelte-17bta5g")},m(a,o){z(a,e,o),X(t,e,null),y(e,n),y(e,s),r=!0},p:Z,i(a){r||(N(t.$$.fragment,a),r=!0)},o(a){V(t.$$.fragment,a),r=!1},d(a){a&&b(e),G(t)}}}function Tr(l){let e,t,n,s,i="tutorial done",r,a,o,u;t=new Qe({props:{name:"check"}}),a=new be({props:{icon:"arrowRoundLeft",text:"reset"}}),a.$on("click",l[3]);let f=l[1]&&xl(l);return{c(){e=E("div"),j(t.$$.fragment),n=P(),s=E("p"),s.textContent=i,r=P(),j(a.$$.fragment),o=P(),f&&f.c(),this.h()},l(c){e=C(c,"DIV",{class:!0});var d=F(e);Q(t.$$.fragment,d),n=B(d),s=C(d,"P",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-u71g22"&&(s.textContent=i),r=B(d),Q(a.$$.fragment,d),o=B(d),f&&f.l(d),d.forEach(b),this.h()},h(){v(s,"class","svelte-17bta5g"),v(e,"class","instruction continue svelte-17bta5g")},m(c,d){z(c,e,d),X(t,e,null),y(e,n),y(e,s),y(e,r),X(a,e,null),y(e,o),f&&f.m(e,null),u=!0},p(c,d){c[1]?f?(f.p(c,d),d&2&&N(f,1)):(f=xl(c),f.c(),N(f,1),f.m(e,null)):f&&(te(),V(f,1,1,()=>{f=null}),le())},i(c){u||(N(t.$$.fragment,c),N(a.$$.fragment,c),N(f),u=!0)},o(c){V(t.$$.fragment,c),V(a.$$.fragment,c),V(f),u=!1},d(c){c&&b(e),G(t),G(a),f&&f.d()}}}function xl(l){let e,t;return e=new be({props:{text:"show saved flows",icon:"undo"}}),e.$on("click",l[4]),{c(){j(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){X(e,n,s),t=!0},p:Z,i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Nr(l){let e,t,n,s,i,r,a,o,u,f=l[2]>0&&Xl(l),c=l[2]>4&&Kl(l),d=l[2]>6&&Zl(l);const h=[Tr,Cr,Er],m=[];function p(_,g){return _[2]>=Tt?0:_[2]==0?1:2}return i=p(l),r=m[i]=h[i](l),{c(){e=E("button"),f&&f.c(),t=P(),c&&c.c(),n=P(),d&&d.c(),s=P(),r.c(),this.h()},l(_){e=C(_,"BUTTON",{class:!0});var g=F(e);f&&f.l(g),t=B(g),c&&c.l(g),n=B(g),d&&d.l(g),s=B(g),r.l(g),g.forEach(b),this.h()},h(){v(e,"class","top svelte-17bta5g")},m(_,g){z(_,e,g),f&&f.m(e,null),y(e,t),c&&c.m(e,null),y(e,n),d&&d.m(e,null),y(e,s),m[i].m(e,null),a=!0,o||(u=W(e,"click",l[5]),o=!0)},p(_,[g]){_[2]>0?f?(f.p(_,g),g&4&&N(f,1)):(f=Xl(_),f.c(),N(f,1),f.m(e,t)):f&&(te(),V(f,1,1,()=>{f=null}),le()),_[2]>4?c?(c.p(_,g),g&4&&N(c,1)):(c=Kl(_),c.c(),N(c,1),c.m(e,n)):c&&(te(),V(c,1,1,()=>{c=null}),le()),_[2]>6?d?g&4&&N(d,1):(d=Zl(_),d.c(),N(d,1),d.m(e,s)):d&&(te(),V(d,1,1,()=>{d=null}),le());let w=i;i=p(_),i===w?m[i].p(_,g):(te(),V(m[w],1,1,()=>{m[w]=null}),le(),r=m[i],r?r.p(_,g):(r=m[i]=h[i](_),r.c()),N(r,1),r.m(e,null))},i(_){a||(N(f),N(c),N(d),N(r),a=!0)},o(_){V(f),V(c),V(d),V(r),a=!1},d(_){_&&b(e),f&&f.d(),c&&c.d(),d&&d.d(),m[i].d(),o=!1,u()}}}let kt=600,Tt=8;function Dr(l,e,t){let n;ce(l,vt,u=>t(2,n=u)),Y.data.transitionSpeed.value,vt.set(0),Le(Y.subscribe(["transitionSpeed"],u=>{Y.data[u].value})),Le(()=>{vt.set(0)});let{showTutorial:s}=e,{savedFlowsExist:i}=e;const r=u=>{u.stopPropagation(),ue(vt,n=0,n)},a=()=>t(0,s=!1),o=()=>{n<Tt&&ue(vt,n+=1,n)};return l.$$set=u=>{"showTutorial"in u&&t(0,s=u.showTutorial),"savedFlowsExist"in u&&t(1,i=u.savedFlowsExist)},[s,i,n,r,a,o]}class Ar extends _e{constructor(e){super(),ge(this,e,Dr,Nr,he,{showTutorial:0,savedFlowsExist:1})}}function en(l,e,t){const n=l.slice();return n[8]=e[t],n}function tn(l){let e,t=l[8].content+"",n,s;return{c(){e=E("div"),n=x(t),s=P(),this.h()},l(i){e=C(i,"DIV",{class:!0});var r=F(e);n=ee(r,t),s=B(r),r.forEach(b),this.h()},h(){v(e,"class","info svelte-7294jv"),q(e,"palette-accent",!l[8].invert),q(e,"palette-accent-secondary",l[8].invert)},m(i,r){z(i,e,r),y(e,n),y(e,s)},p(i,r){r&1&&t!==(t=i[8].content+"")&&Ae(n,t),r&1&&q(e,"palette-accent",!i[8].invert),r&1&&q(e,"palette-accent-secondary",i[8].invert)},d(i){i&&b(e)}}}function ln(l){let e,t,n,s=dt(l[0].created)+"",i,r,a,o,u=dt(l[0].modified)+"",f,c,d,h,m,p,_,g,w;return d=new be({props:{icon:"copy",text:"open copy",tooltip:"save changes in new"}}),d.$on("click",l[5]),m=new be({props:{icon:"download",text:"download",tooltip:"download as JSON"}}),m.$on("click",l[6]),_=new be({props:{icon:"trash",text:"delete",tooltip:"delete flow data"}}),_.$on("click",l[7]),{c(){e=E("div"),t=E("div"),n=x("created "),i=x(s),r=P(),a=E("div"),o=x("edited "),f=x(u),c=P(),j(d.$$.fragment),h=P(),j(m.$$.fragment),p=P(),j(_.$$.fragment),this.h()},l(k){e=C(k,"DIV",{class:!0});var S=F(e);t=C(S,"DIV",{class:!0});var I=F(t);n=ee(I,"created "),i=ee(I,s),I.forEach(b),r=B(S),a=C(S,"DIV",{class:!0});var D=F(a);o=ee(D,"edited "),f=ee(D,u),D.forEach(b),c=B(S),Q(d.$$.fragment,S),h=B(S),Q(m.$$.fragment,S),p=B(S),Q(_.$$.fragment,S),S.forEach(b),this.h()},h(){v(t,"class","time svelte-7294jv"),v(a,"class","time svelte-7294jv"),v(e,"class","hidden svelte-7294jv")},m(k,S){z(k,e,S),y(e,t),y(t,n),y(t,i),y(e,r),y(e,a),y(a,o),y(a,f),y(e,c),X(d,e,null),y(e,h),X(m,e,null),y(e,p),X(_,e,null),w=!0},p(k,S){(!w||S&1)&&s!==(s=dt(k[0].created)+"")&&Ae(i,s),(!w||S&1)&&u!==(u=dt(k[0].modified)+"")&&Ae(f,u)},i(k){w||(N(d.$$.fragment,k),N(m.$$.fragment,k),N(_.$$.fragment,k),k&&Ne(()=>{w&&(g||(g=st(e,It,{},!0)),g.run(1))}),w=!0)},o(k){V(d.$$.fragment,k),V(m.$$.fragment,k),V(_.$$.fragment,k),k&&(g||(g=st(e,It,{},!1)),g.run(0)),w=!1},d(k){k&&b(e),G(d),G(m),G(_),k&&g&&g.end()}}}function $r(l){let e,t,n,s,i,r,a,o=dt(l[0].modified)+"",u,f,c,d,h,m,p,_,g,w=de(l[0].flowInfos),k=[];for(let I=0;I<w.length;I+=1)k[I]=tn(en(l,w,I));d=new be({props:{icon:"open",text:"open"}}),d.$on("click",l[3]),m=new be({props:{icon:l[2]?"delete":"ellipses"}}),m.$on("click",l[4]);let S=l[2]&&ln(l);return{c(){e=E("div"),t=E("div"),n=E("div");for(let I=0;I<k.length;I+=1)k[I].c();s=P(),i=E("div"),r=E("div"),a=E("div"),u=x(o),f=P(),c=E("div"),j(d.$$.fragment),h=P(),j(m.$$.fragment),p=P(),S&&S.c(),this.h()},l(I){e=C(I,"DIV",{class:!0});var D=F(e);t=C(D,"DIV",{class:!0});var A=F(t);n=C(A,"DIV",{class:!0});var T=F(n);for(let M=0;M<k.length;M+=1)k[M].l(T);T.forEach(b),A.forEach(b),s=B(D),i=C(D,"DIV",{class:!0});var $=F(i);r=C($,"DIV",{class:!0});var R=F(r);a=C(R,"DIV",{class:!0});var L=F(a);u=ee(L,o),L.forEach(b),R.forEach(b),f=B($),c=C($,"DIV",{class:!0});var O=F(c);Q(d.$$.fragment,O),h=B(O),Q(m.$$.fragment,O),p=B(O),S&&S.l(O),O.forEach(b),$.forEach(b),D.forEach(b),this.h()},h(){v(n,"class","infos svelte-7294jv"),v(t,"class","infoView svelte-7294jv"),q(t,"customScrollbar",Y.data.customScrollbar.value),v(a,"class","time svelte-7294jv"),v(r,"class","times svelte-7294jv"),v(c,"class","flowButtons svelte-7294jv"),v(i,"class","fixed svelte-7294jv"),v(e,"class","flow svelte-7294jv")},m(I,D){z(I,e,D),y(e,t),y(t,n);for(let A=0;A<k.length;A+=1)k[A]&&k[A].m(n,null);y(e,s),y(e,i),y(i,r),y(r,a),y(a,u),y(i,f),y(i,c),X(d,c,null),y(c,h),X(m,c,null),y(c,p),S&&S.m(c,null),g=!0},p(I,[D]){if(D&1){w=de(I[0].flowInfos);let T;for(T=0;T<w.length;T+=1){const $=en(I,w,T);k[T]?k[T].p($,D):(k[T]=tn($),k[T].c(),k[T].m(n,null))}for(;T<k.length;T+=1)k[T].d(1);k.length=w.length}(!g||D&1)&&o!==(o=dt(I[0].modified)+"")&&Ae(u,o);const A={};D&4&&(A.icon=I[2]?"delete":"ellipses"),m.$set(A),I[2]?S?(S.p(I,D),D&4&&N(S,1)):(S=ln(I),S.c(),N(S,1),S.m(c,null)):S&&(te(),V(S,1,1,()=>{S=null}),le())},i(I){g||(N(d.$$.fragment,I),N(m.$$.fragment,I),N(S),I&&Ne(()=>{g&&(_||(_=st(e,jt,{},!0)),_.run(1))}),g=!0)},o(I){V(d.$$.fragment,I),V(m.$$.fragment,I),V(S),I&&(_||(_=st(e,jt,{},!1)),_.run(0)),g=!1},d(I){I&&b(e),He(k,I),G(d),G(m),S&&S.d(),I&&_&&_.end()}}}function dt(l){const e=new Date,t=new Date(l);return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()?t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Fr(l,e,t){let{flowData:n}=e,{key:s}=e,i=!1;const r=()=>{Qt(s,!0)},a=()=>t(2,i=!i),o=()=>{Qt(s,!1)},u=()=>{Vs(s)},f=()=>{Rs(s)};return l.$$set=c=>{"flowData"in c&&t(0,n=c.flowData),"key"in c&&t(1,s=c.key)},[n,s,i,r,a,o,u,f]}class Vr extends _e{constructor(e){super(),ge(this,e,Fr,$r,he,{flowData:0,key:1})}}function nn(l,e,t){const n=l.slice();return n[4]=e[t][0],n[5]=e[t][1],n}function sn(l,e){let t,n,s;return n=new Vr({props:{flowData:e[5],key:e[4]}}),{key:l,first:null,c(){t=Se(),j(n.$$.fragment),this.h()},l(i){t=Se(),Q(n.$$.fragment,i),this.h()},h(){this.first=t},m(i,r){z(i,t,r),X(n,i,r),s=!0},p(i,r){e=i;const a={};r&2&&(a.flowData=e[5]),r&2&&(a.key=e[4]),n.$set(a)},i(i){s||(N(n.$$.fragment,i),s=!0)},o(i){V(n.$$.fragment,i),s=!1},d(i){i&&b(t),G(n,i)}}}function Rr(l){let e,t,n,s,i="saved flows",r,a,o,u,f,c,d,h,m,p,_=[],g=new Map,w;a=new be({props:{text:"tutorial",icon:"undo",tooltip:"start tutorial"}}),a.$on("click",l[3]);let k=de(l[1]);const S=I=>I[4];for(let I=0;I<k.length;I+=1){let D=nn(l,k,I),A=S(D);g.set(A,_[I]=sn(A,D))}return{c(){e=E("div"),t=E("div"),n=E("div"),s=E("h1"),s.textContent=i,r=P(),j(a.$$.fragment),o=P(),u=E("p"),f=x("up to "),c=x(Xt),d=x(" flows saved in your browser but lost when you clear cookies"),h=P(),m=E("div"),p=E("div");for(let I=0;I<_.length;I+=1)_[I].c();this.h()},l(I){e=C(I,"DIV",{class:!0});var D=F(e);t=C(D,"DIV",{class:!0});var A=F(t);n=C(A,"DIV",{class:!0});var T=F(n);s=C(T,"H1",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-1c6y4s8"&&(s.textContent=i),r=B(T),Q(a.$$.fragment,T),T.forEach(b),o=B(A),u=C(A,"P",{class:!0});var $=F(u);f=ee($,"up to "),c=ee($,Xt),d=ee($," flows saved in your browser but lost when you clear cookies"),$.forEach(b),A.forEach(b),h=B(D),m=C(D,"DIV",{class:!0});var R=F(m);p=C(R,"DIV",{class:!0});var L=F(p);for(let O=0;O<_.length;O+=1)_[O].l(L);L.forEach(b),R.forEach(b),D.forEach(b),this.h()},h(){v(s,"class","svelte-1ijc8ye"),v(n,"class","title svelte-1ijc8ye"),v(u,"class","svelte-1ijc8ye"),v(t,"class","above svelte-1ijc8ye"),v(p,"class","flows svelte-1ijc8ye"),v(m,"class","view svelte-1ijc8ye"),q(m,"customScrollbar",Y.data.customScrollbar.value),v(e,"class","top svelte-1ijc8ye")},m(I,D){z(I,e,D),y(e,t),y(t,n),y(n,s),y(n,r),X(a,n,null),y(t,o),y(t,u),y(u,f),y(u,c),y(u,d),y(e,h),y(e,m),y(m,p);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m(p,null);w=!0},p(I,[D]){D&2&&(k=de(I[1]),te(),_=Rt(_,D,S,1,I,k,g,p,qn,sn,null,nn),le())},i(I){if(!w){N(a.$$.fragment,I);for(let D=0;D<k.length;D+=1)N(_[D]);w=!0}},o(I){V(a.$$.fragment,I);for(let D=0;D<_.length;D+=1)V(_[D]);w=!1},d(I){I&&b(e),G(a);for(let D=0;D<_.length;D+=1)_[D].d()}}}function zr(l,e,t){let n,{savedFlowsDatas:s}=e,{showTutorial:i=!1}=e;const r=()=>t(0,i=!0);return l.$$set=a=>{"savedFlowsDatas"in a&&t(2,s=a.savedFlowsDatas),"showTutorial"in a&&t(0,i=a.showTutorial)},l.$$.update=()=>{l.$$.dirty&4&&t(1,n=Object.entries(s).sort((a,o)=>new Date(o[1].modified).getTime()-new Date(a[1].modified).getTime()))},[i,n,s,r]}class Pr extends _e{constructor(e){super(),ge(this,e,zr,Rr,he,{savedFlowsDatas:2,showTutorial:0})}}function Br(l){let e,t,n;function s(r){l[4](r)}let i={savedFlowsExist:l[2]};return l[1]!==void 0&&(i.showTutorial=l[1]),e=new Ar({props:i}),ie.push(()=>ye(e,"showTutorial",s)),{c(){j(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,a){X(e,r,a),n=!0},p(r,a){const o={};a&4&&(o.savedFlowsExist=r[2]),!t&&a&2&&(t=!0,o.showTutorial=r[1],ke(()=>t=!1)),e.$set(o)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function Lr(l){let e,t,n;function s(r){l[3](r)}let i={savedFlowsDatas:l[0]};return l[1]!==void 0&&(i.showTutorial=l[1]),e=new Pr({props:i}),ie.push(()=>ye(e,"showTutorial",s)),{c(){j(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,a){X(e,r,a),n=!0},p(r,a){const o={};a&1&&(o.savedFlowsDatas=r[0]),!t&&a&2&&(t=!0,o.showTutorial=r[1],ke(()=>t=!1)),e.$set(o)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),n=!1},d(r){G(e,r)}}}function Or(l){let e,t,n,s;const i=[Lr,Br],r=[];function a(o,u){return o[2]&&!o[1]?0:1}return e=a(l),t=r[e]=i[e](l),{c(){t.c(),n=Se()},l(o){t.l(o),n=Se()},m(o,u){r[e].m(o,u),z(o,n,u),s=!0},p(o,[u]){let f=e;e=a(o),e===f?r[e].p(o,u):(te(),V(r[f],1,1,()=>{r[f]=null}),le(),t=r[e],t?t.p(o,u):(t=r[e]=i[e](o),t.c()),N(t,1),t.m(n.parentNode,n))},i(o){s||(N(t),s=!0)},o(o){V(t),s=!1},d(o){o&&b(n),r[e].d(o)}}}function Mr(l,e,t){let n,s;ce(l,zs,o=>t(0,s=o));let i=!1;function r(o){i=o,t(1,i)}function a(o){i=o,t(1,i)}return l.$$.update=()=>{l.$$.dirty&1&&t(2,n=Object.keys(s).length>0)},[s,i,n,r,a]}class Hr extends _e{constructor(e){super(),ge(this,e,Mr,Or,he,{})}}function Ur(l){let e,t,n,s,i,r,a=":",o,u,f,c,d,h;return{c(){e=E("div"),t=E("input"),i=P(),r=E("span"),r.textContent=a,o=P(),u=E("input"),this.h()},l(m){e=C(m,"DIV",{class:!0});var p=F(e);t=C(p,"INPUT",{type:!0,style:!0,class:!0}),i=B(p),r=C(p,"SPAN",{"data-svelte-h":!0}),ae(r)!=="svelte-5vnx5k"&&(r.textContent=a),o=B(p),u=C(p,"INPUT",{type:!0,style:!0,class:!0}),p.forEach(b),this.h()},h(){var m,p,_,g;v(t,"type","text"),v(t,"style",n="--chars: "+(l[2]==null?1:((p=(m=l[2])==null?void 0:m.toString())==null?void 0:p.length)??1).toString()),v(t,"class","minutes svelte-5oq7m1"),t.disabled=s=l[1].name=="running",v(u,"type","text"),v(u,"style",f="--chars: "+(l[3]==null?1:((g=(_=l[3])==null?void 0:_.toString())==null?void 0:g.length)??1).toString()),v(u,"class","seconds svelte-5oq7m1"),u.disabled=c=l[1].name=="running",v(e,"class","time svelte-5oq7m1"),q(e,"invalid",l[6]),q(e,"done",l[0]==0&&l[1].name=="running")},m(m,p){z(m,e,p),y(e,t),De(t,l[2]),l[14](t),y(e,i),y(e,r),y(e,o),y(e,u),De(u,l[3]),l[16](u),d||(h=[W(t,"input",l[13]),W(t,"focus",rn),W(t,"keydown",l[7]),W(t,"change",l[9]),W(u,"input",l[15]),W(u,"focus",rn),W(u,"keydown",l[8]),W(u,"change",l[9])],d=!0)},p(m,[p]){var _,g,w,k;p&4&&n!==(n="--chars: "+(m[2]==null?1:((g=(_=m[2])==null?void 0:_.toString())==null?void 0:g.length)??1).toString())&&v(t,"style",n),p&2&&s!==(s=m[1].name=="running")&&(t.disabled=s),p&4&&t.value!==m[2]&&De(t,m[2]),p&8&&f!==(f="--chars: "+(m[3]==null?1:((k=(w=m[3])==null?void 0:w.toString())==null?void 0:k.length)??1).toString())&&v(u,"style",f),p&2&&c!==(c=m[1].name=="running")&&(u.disabled=c),p&8&&u.value!==m[3]&&De(u,m[3]),p&64&&q(e,"invalid",m[6]),p&3&&q(e,"done",m[0]==0&&m[1].name=="running")},i:Z,o:Z,d(m){m&&b(e),l[14](null),l[16](null),d=!1,Ue(h)}}}function rn(l){const e=l.target;l.preventDefault(),e.setSelectionRange(0,e.value.length)}function on(l){let e=parseInt(l.toString()),t=Math.min(59,Math.max(0,e!=e?0:e)).toString();return t.length==1?"0"+t:t}function qr(l,e,t){let{time:n}=e,s,i;w();let r,a,{state:o}=e,u=null;o.name=="running"&&c();function f(){o.name=="running"&&(u&&clearInterval(u),t(1,o={name:"paused"}))}Le(()=>{u&&clearInterval(u)});function c(){u=setInterval(()=>{o.name=="running"&&(t(0,n=o.ogTime-(Date.now()-o.startTime)),n<=0&&t(0,n=0),w())},100)}function d(){t(1,o={name:"running",startTime:Date.now(),ogTime:n}),c()}function h(T){f(),t(0,n=T),w()}function m(T){let $=parseInt(s.toString());switch(T.key){case"ArrowUp":T.preventDefault(),t(2,s=($+1).toString()),g();break;case"ArrowDown":T.preventDefault(),t(2,s=($-1).toString()),g();break;case"ArrowRight":T.preventDefault(),r.blur(),a.focus();break}}function p(T){let $=parseInt(i.toString());switch(T.key){case"ArrowUp":T.preventDefault(),t(3,i=($+1).toString()),g();break;case"ArrowDown":T.preventDefault(),t(3,i=($-1).toString()),g();break;case"ArrowLeft":T.preventDefault(),a.blur(),r.focus();break}}let _=!1;function g(){k();let T=parseInt(s.toString()),$=parseInt(i.toString());t(6,_=!1),t(0,n=T*60*1e3+$*1e3)}function w(){let T=Math.floor(n/6e4);t(2,s=T.toString()),t(3,i=Math.floor((n-T*60*1e3)/1e3).toString()),k()}function k(){t(2,s=on(s)),t(3,i=on(i))}function S(){s=this.value,t(2,s)}function I(T){ie[T?"unshift":"push"](()=>{r=T,t(4,r)})}function D(){i=this.value,t(3,i)}function A(T){ie[T?"unshift":"push"](()=>{a=T,t(5,a)})}return l.$$set=T=>{"time"in T&&t(0,n=T.time),"state"in T&&t(1,o=T.state)},[n,o,s,i,r,a,_,m,p,g,f,d,h,S,I,D,A]}class jr extends _e{constructor(e){super(),ge(this,e,qr,Ur,he,{time:0,state:1,pause:10,start:11,set:12})}get pause(){return this.$$.ctx[10]}get start(){return this.$$.ctx[11]}get set(){return this.$$.ctx[12]}}function Qr(l){let e,t;return e=new be({props:{icon:"play",preventBlur:!1}}),e.$on("click",l[3]),{c(){j(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){X(e,n,s),t=!0},p:Z,i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Xr(l){let e,t;return e=new be({props:{icon:"pause",preventBlur:!1}}),e.$on("click",l[4]),{c(){j(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,s){X(e,n,s),t=!0},p:Z,i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Gr(l){let e,t,n,s,i,r,a,o,u,f,c,d,h,m;const p=[Xr,Qr],_=[];function g(T,$){var R;return((R=T[1])==null?void 0:R.name)=="running"?0:1}t=g(l),n=_[t]=p[t](l);function w(T){l[10](T)}function k(T){l[11](T)}function S(T){l[12](T)}function I(T){l[13](T)}function D(T){l[14](T)}let A={};return l[7]!==void 0&&(A.start=l[7]),l[8]!==void 0&&(A.pause=l[8]),l[9]!==void 0&&(A.set=l[9]),l[1]!==void 0&&(A.state=l[1]),l[0]!==void 0&&(A.time=l[0]),i=new jr({props:A}),ie.push(()=>ye(i,"start",w)),ie.push(()=>ye(i,"pause",k)),ie.push(()=>ye(i,"set",S)),ie.push(()=>ye(i,"state",I)),ie.push(()=>ye(i,"time",D)),d=new be({props:{icon:"arrowRoundLeft",disabled:l[0]==l[2],preventBlur:!1}}),d.$on("click",l[15]),{c(){e=E("div"),n.c(),s=P(),j(i.$$.fragment),c=P(),j(d.$$.fragment),this.h()},l(T){e=C(T,"DIV",{class:!0});var $=F(e);n.l($),s=B($),Q(i.$$.fragment,$),c=B($),Q(d.$$.fragment,$),$.forEach(b),this.h()},h(){v(e,"class",h="top palette-"+l[6]+" svelte-wbxmw5")},m(T,$){z(T,e,$),_[t].m(e,null),y(e,s),X(i,e,null),y(e,c),X(d,e,null),m=!0},p(T,[$]){let R=t;t=g(T),t===R?_[t].p(T,$):(te(),V(_[R],1,1,()=>{_[R]=null}),le(),n=_[t],n?n.p(T,$):(n=_[t]=p[t](T),n.c()),N(n,1),n.m(e,s));const L={};!r&&$&128&&(r=!0,L.start=T[7],ke(()=>r=!1)),!a&&$&256&&(a=!0,L.pause=T[8],ke(()=>a=!1)),!o&&$&512&&(o=!0,L.set=T[9],ke(()=>o=!1)),!u&&$&2&&(u=!0,L.state=T[1],ke(()=>u=!1)),!f&&$&1&&(f=!0,L.time=T[0],ke(()=>f=!1)),i.$set(L);const O={};$&5&&(O.disabled=T[0]==T[2]),d.$set(O),(!m||$&64&&h!==(h="top palette-"+T[6]+" svelte-wbxmw5"))&&v(e,"class",h)},i(T){m||(N(n),N(i.$$.fragment,T),N(d.$$.fragment,T),m=!0)},o(T){V(n),V(i.$$.fragment,T),V(d.$$.fragment,T),m=!1},d(T){T&&b(e),_[t].d(),G(i),G(d)}}}function Wr(l,e,t){let{resetTime:n}=e,{time:s=n}=e,{state:i}=e,r,a,o;function u(){r()}function f(){a()}function c(){o(n)}let{palette:d="plain"}=e;function h(k){r=k,t(7,r)}function m(k){a=k,t(8,a)}function p(k){o=k,t(9,o)}function _(k){i=k,t(1,i)}function g(k){s=k,t(0,s)}const w=()=>c();return l.$$set=k=>{"resetTime"in k&&t(2,n=k.resetTime),"time"in k&&t(0,s=k.time),"state"in k&&t(1,i=k.state),"palette"in k&&t(6,d=k.palette)},[s,i,n,u,f,c,d,r,a,o,h,m,p,_,g,w]}class Bt extends _e{constructor(e){super(),ge(this,e,Wr,Gr,he,{resetTime:2,time:0,state:1,start:3,pause:4,reset:5,palette:6})}get start(){return this.$$.ctx[3]}get pause(){return this.$$.ctx[4]}get reset(){return this.$$.ctx[5]}}function an(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function un(l){let e,t,n,s,i,r,a=de(l[3]),o=[];for(let u=0;u<a.length;u+=1)o[u]=fn(an(l,a,u));return i=new be({props:{icon:l[0]==l[3].length-1?"arrowLeft":"arrowRight",palette:l[3][(l[0]+1)%l[3].length].secondary?"accent-secondary":"accent"}}),i.$on("click",l[10]),{c(){e=E("div"),t=E("div"),n=E("div");for(let u=0;u<o.length;u+=1)o[u].c();s=P(),j(i.$$.fragment),this.h()},l(u){e=C(u,"DIV",{class:!0});var f=F(e);t=C(f,"DIV",{class:!0});var c=F(t);n=C(c,"DIV",{class:!0});var d=F(n);for(let h=0;h<o.length;h+=1)o[h].l(d);d.forEach(b),c.forEach(b),s=B(f),Q(i.$$.fragment,f),f.forEach(b),this.h()},h(){v(n,"class","speeches svelte-1dibtdm"),v(t,"class","speechesScroll svelte-1dibtdm"),v(e,"class","over svelte-1dibtdm")},m(u,f){z(u,e,f),y(e,t),y(t,n);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(n,null);y(e,s),X(i,e,null),r=!0},p(u,f){if(f&25){a=de(u[3]);let d;for(d=0;d<a.length;d+=1){const h=an(u,a,d);o[d]?o[d].p(h,f):(o[d]=fn(h),o[d].c(),o[d].m(n,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=a.length}const c={};f&9&&(c.icon=u[0]==u[3].length-1?"arrowLeft":"arrowRight"),f&9&&(c.palette=u[3][(u[0]+1)%u[3].length].secondary?"accent-secondary":"accent"),i.$set(c)},i(u){r||(N(i.$$.fragment,u),r=!0)},o(u){V(i.$$.fragment,u),r=!1},d(u){u&&b(e),He(o,u),G(i)}}}function Jr(l){let e,t=l[19].name+"",n,s,i,r;function a(){return l[8](l[21])}function o(){return l[9](l[21])}return{c(){e=E("button"),n=x(t),this.h()},l(u){e=C(u,"BUTTON",{class:!0});var f=F(e);n=ee(f,t),f.forEach(b),this.h()},h(){v(e,"class",s=Ce(`speech ${l[19].secondary?"palette-accent-secondary":"palette-accent"}`)+" svelte-1dibtdm")},m(u,f){z(u,e,f),y(e,n),i||(r=[W(e,"click",a),W(e,"click",o)],i=!0)},p(u,f){l=u,f&8&&t!==(t=l[19].name+"")&&Ae(n,t),f&8&&s!==(s=Ce(`speech ${l[19].secondary?"palette-accent-secondary":"palette-accent"}`)+" svelte-1dibtdm")&&v(e,"class",s)},d(u){u&&b(e),i=!1,Ue(r)}}}function Kr(l){let e,t=l[19].name+"",n,s;return{c(){e=E("button"),n=x(t),this.h()},l(i){e=C(i,"BUTTON",{class:!0});var r=F(e);n=ee(r,t),r.forEach(b),this.h()},h(){v(e,"class",s=Ce(`speech selected ${l[19].secondary?"palette-accent-secondary":"palette-accent"}`)+" svelte-1dibtdm")},m(i,r){z(i,e,r),y(e,n),l[7](e)},p(i,r){r&8&&t!==(t=i[19].name+"")&&Ae(n,t),r&8&&s!==(s=Ce(`speech selected ${i[19].secondary?"palette-accent-secondary":"palette-accent"}`)+" svelte-1dibtdm")&&v(e,"class",s)},d(i){i&&b(e),l[7](null)}}}function fn(l){let e;function t(i,r){return i[21]==i[0]?Kr:Jr}let n=t(l),s=n(l);return{c(){s.c(),e=Se()},l(i){s.l(i),e=Se()},m(i,r){s.m(i,r),z(i,e,r)},p(i,r){n===(n=t(i))&&s?s.p(i,r):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&b(e),s.d(i)}}}function Yr(l){let e,t,n,s,i,r,a,o,u,f=l[3].length>1&&un(l);function c(_){l[11](_)}function d(_){l[12](_)}function h(_){l[13](_)}function m(_){l[14](_)}let p={palette:l[3][l[0]].secondary?"accent-secondary":"accent",resetTime:l[3][l[0]].time};return l[2]!==void 0&&(p.state=l[2]),l[1]!==void 0&&(p.time=l[1]),l[5]!==void 0&&(p.pause=l[5]),l[6]!==void 0&&(p.reset=l[6]),s=new Bt({props:p}),ie.push(()=>ye(s,"state",c)),ie.push(()=>ye(s,"time",d)),ie.push(()=>ye(s,"pause",h)),ie.push(()=>ye(s,"reset",m)),{c(){e=E("div"),f&&f.c(),t=P(),n=E("div"),j(s.$$.fragment),this.h()},l(_){e=C(_,"DIV",{class:!0});var g=F(e);f&&f.l(g),t=B(g),n=C(g,"DIV",{class:!0});var w=F(n);Q(s.$$.fragment,w),w.forEach(b),g.forEach(b),this.h()},h(){v(n,"class","timer svelte-1dibtdm"),v(e,"class","top svelte-1dibtdm")},m(_,g){z(_,e,g),f&&f.m(e,null),y(e,t),y(e,n),X(s,n,null),u=!0},p(_,[g]){_[3].length>1?f?(f.p(_,g),g&8&&N(f,1)):(f=un(_),f.c(),N(f,1),f.m(e,t)):f&&(te(),V(f,1,1,()=>{f=null}),le());const w={};g&9&&(w.palette=_[3][_[0]].secondary?"accent-secondary":"accent"),g&9&&(w.resetTime=_[3][_[0]].time),!i&&g&4&&(i=!0,w.state=_[2],ke(()=>i=!1)),!r&&g&2&&(r=!0,w.time=_[1],ke(()=>r=!1)),!a&&g&32&&(a=!0,w.pause=_[5],ke(()=>a=!1)),!o&&g&64&&(o=!0,w.reset=_[6],ke(()=>o=!1)),s.$set(w)},i(_){u||(N(f),N(s.$$.fragment,_),u=!0)},o(_){V(f),V(s.$$.fragment,_),u=!1},d(_){_&&b(e),f&&f.d(),G(s)}}}function Zr(l,e,t){let{resetTimeIndex:n}=e,{speeches:s}=e,{time:i=s[n].time}=e,{state:r}=e,a,o=!1;function u(){a&&(o&&a.scrollIntoView({behavior:"smooth",inline:"center"}),o=!0)}nt(()=>{setTimeout(()=>{a&&a.scrollIntoView({behavior:"instant",inline:"center"})},50)});let f=!1;async function c(){f&&(await mt(),d(),h()),f=!0}let d,h;function m(D){ie[D?"unshift":"push"](()=>{a=D,t(4,a)})}const p=D=>{t(0,n=D)},_=D=>{t(0,n=D)},g=()=>{t(0,n+=1),t(0,n%=s.length)};function w(D){r=D,t(2,r)}function k(D){i=D,t(1,i)}function S(D){d=D,t(5,d)}function I(D){h=D,t(6,h)}return l.$$set=D=>{"resetTimeIndex"in D&&t(0,n=D.resetTimeIndex),"speeches"in D&&t(3,s=D.speeches),"time"in D&&t(1,i=D.time),"state"in D&&t(2,r=D.state)},l.$$.update=()=>{l.$$.dirty&16&&u(),l.$$.dirty&1&&c()},[n,i,r,s,a,d,h,m,p,_,g,w,k,S,I]}class xr extends _e{constructor(e){super(),ge(this,e,Zr,Yr,he,{resetTimeIndex:0,speeches:3,time:1,state:2})}}function cn(l){let e,t,n,s,i,r,a,o,u,f=l[0].prep&&dn(l),c=l[0].prepSecondary&&hn(l);function d(_){l[8](_)}function h(_){l[9](_)}function m(_){l[10](_)}let p={speeches:l[3].timerSpeeches};return l[0].speech.resetTimeIndex!==void 0&&(p.resetTimeIndex=l[0].speech.resetTimeIndex),l[0].speech.time!==void 0&&(p.time=l[0].speech.time),l[0].speech.state!==void 0&&(p.state=l[0].speech.state),s=new xr({props:p}),ie.push(()=>ye(s,"resetTimeIndex",d)),ie.push(()=>ye(s,"time",h)),ie.push(()=>ye(s,"state",m)),{c(){e=E("div"),f&&f.c(),t=P(),c&&c.c(),n=P(),j(s.$$.fragment),this.h()},l(_){e=C(_,"DIV",{class:!0});var g=F(e);f&&f.l(g),t=B(g),c&&c.l(g),n=B(g),Q(s.$$.fragment,g),g.forEach(b),this.h()},h(){v(e,"class","timer svelte-10onzka")},m(_,g){z(_,e,g),f&&f.m(e,null),y(e,t),c&&c.m(e,null),y(e,n),X(s,e,null),u=!0},p(_,g){_[0].prep?f?(f.p(_,g),g&1&&N(f,1)):(f=dn(_),f.c(),N(f,1),f.m(e,t)):f&&(te(),V(f,1,1,()=>{f=null}),le()),_[0].prepSecondary?c?(c.p(_,g),g&1&&N(c,1)):(c=hn(_),c.c(),N(c,1),c.m(e,n)):c&&(te(),V(c,1,1,()=>{c=null}),le());const w={};g&8&&(w.speeches=_[3].timerSpeeches),!i&&g&1&&(i=!0,w.resetTimeIndex=_[0].speech.resetTimeIndex,ke(()=>i=!1)),!r&&g&1&&(r=!0,w.time=_[0].speech.time,ke(()=>r=!1)),!a&&g&1&&(a=!0,w.state=_[0].speech.state,ke(()=>a=!1)),s.$set(w)},i(_){u||(N(f),N(c),N(s.$$.fragment,_),_&&Ne(()=>{u&&(o||(o=st(e,Gt,{},!0)),o.run(1))}),u=!0)},o(_){V(f),V(c),V(s.$$.fragment,_),_&&(o||(o=st(e,Gt,{},!1)),o.run(0)),u=!1},d(_){_&&b(e),f&&f.d(),c&&c.d(),G(s),_&&o&&o.end()}}}function dn(l){let e,t,n,s;function i(o){l[4](o)}function r(o){l[5](o)}let a={resetTime:l[0].prep.resetTime,palette:"accent"};return l[0].prep.time!==void 0&&(a.time=l[0].prep.time),l[0].prep.state!==void 0&&(a.state=l[0].prep.state),e=new Bt({props:a}),ie.push(()=>ye(e,"time",i)),ie.push(()=>ye(e,"state",r)),{c(){j(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,u){X(e,o,u),s=!0},p(o,u){const f={};u&1&&(f.resetTime=o[0].prep.resetTime),!t&&u&1&&(t=!0,f.time=o[0].prep.time,ke(()=>t=!1)),!n&&u&1&&(n=!0,f.state=o[0].prep.state,ke(()=>n=!1)),e.$set(f)},i(o){s||(N(e.$$.fragment,o),s=!0)},o(o){V(e.$$.fragment,o),s=!1},d(o){G(e,o)}}}function hn(l){let e,t,n,s;function i(o){l[6](o)}function r(o){l[7](o)}let a={resetTime:l[0].prepSecondary.resetTime,palette:"accent-secondary"};return l[0].prepSecondary.time!==void 0&&(a.time=l[0].prepSecondary.time),l[0].prepSecondary.state!==void 0&&(a.state=l[0].prepSecondary.state),e=new Bt({props:a}),ie.push(()=>ye(e,"time",i)),ie.push(()=>ye(e,"state",r)),{c(){j(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,u){X(e,o,u),s=!0},p(o,u){const f={};u&1&&(f.resetTime=o[0].prepSecondary.resetTime),!t&&u&1&&(t=!0,f.time=o[0].prepSecondary.time,ke(()=>t=!1)),!n&&u&1&&(n=!0,f.state=o[0].prepSecondary.state,ke(()=>n=!1)),e.$set(f)},i(o){s||(N(e.$$.fragment,o),s=!0)},o(o){V(e.$$.fragment,o),s=!1},d(o){G(e,o)}}}function mn(l){let e,t,n=l[1]&&cn(l);return{c(){n&&n.c(),e=Se()},l(s){n&&n.l(s),e=Se()},m(s,i){n&&n.m(s,i),z(s,e,i),t=!0},p(s,i){s[1]?n?(n.p(s,i),i&2&&N(n,1)):(n=cn(s),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(te(),V(n,1,1,()=>{n=null}),le())},i(s){t||(N(n),t=!0)},o(s){V(n),t=!1},d(s){s&&b(e),n&&n.d(s)}}}function eo(l){let e,t=l[2],n,s,i,r,a=mn(l);return i=new be({props:{icon:l[1]?"delete":"clock"}}),i.$on("click",l[11]),{c(){e=E("div"),a.c(),n=P(),s=E("div"),j(i.$$.fragment),this.h()},l(o){e=C(o,"DIV",{class:!0});var u=F(e);a.l(u),n=B(u),s=C(u,"DIV",{class:!0});var f=F(s);Q(i.$$.fragment,f),f.forEach(b),u.forEach(b),this.h()},h(){v(s,"class","buttons svelte-10onzka"),v(e,"class","top svelte-10onzka")},m(o,u){z(o,e,u),a.m(e,null),y(e,n),y(e,s),X(i,s,null),r=!0},p(o,[u]){u&4&&he(t,t=o[2])?(te(),V(a,1,1,Z),le(),a=mn(o),a.c(),N(a,1),a.m(e,n)):a.p(o,u);const f={};u&2&&(f.icon=o[1]?"delete":"clock"),i.$set(f)},i(o){r||(N(a),N(i.$$.fragment,o),r=!0)},o(o){V(a),V(i.$$.fragment,o),r=!1},d(o){o&&b(e),a.d(o),G(i)}}}function to(l,e,t){let n,s=!1,i=!1,r=Y.data.debateStyle.value,a=Ft[$t[r]];Le(Y.subscribe(["debateStyle"],g=>{let w=Y.data[g].value;w!==r&&(r=w,t(3,a=Ft[$t[r]]),o(),t(2,i=!i))}));function o(){let g={speech:{resetTimeIndex:0,time:a==null?void 0:a.timerSpeeches[0].time,state:{name:"paused"}}};(a==null?void 0:a.prepTime)!=null&&(g.prep={resetTime:a.prepTime,time:a.prepTime,state:{name:"paused"}},g.prepSecondary={resetTime:a.prepTime,time:a.prepTime,state:{name:"paused"}}),t(0,n=g)}o();function u(g){l.$$.not_equal(n.prep.time,g)&&(n.prep.time=g,t(0,n))}function f(g){l.$$.not_equal(n.prep.state,g)&&(n.prep.state=g,t(0,n))}function c(g){l.$$.not_equal(n.prepSecondary.time,g)&&(n.prepSecondary.time=g,t(0,n))}function d(g){l.$$.not_equal(n.prepSecondary.state,g)&&(n.prepSecondary.state=g,t(0,n))}function h(g){l.$$.not_equal(n.speech.resetTimeIndex,g)&&(n.speech.resetTimeIndex=g,t(0,n))}function m(g){l.$$.not_equal(n.speech.time,g)&&(n.speech.time=g,t(0,n))}function p(g){l.$$.not_equal(n.speech.state,g)&&(n.speech.state=g,t(0,n))}return[n,s,i,a,u,f,c,d,h,m,p,()=>t(1,s=!s)]}class lo extends _e{constructor(e){super(),ge(this,e,to,eo,he,{})}}function no(l){let e,t,n,s;return{c(){e=E("div"),t=E("textarea"),this.h()},l(i){e=C(i,"DIV",{class:!0});var r=F(e);t=C(r,"TEXTAREA",{class:!0,placeholder:!0}),F(t).forEach(b),r.forEach(b),this.h()},h(){v(t,"class","text svelte-1ma8c8r"),v(t,"placeholder","type notes here"),q(t,"customScrollbar",Y.data.customScrollbar.value),v(e,"class","document svelte-1ma8c8r")},m(i,r){z(i,e,r),y(e,t),De(t,l[0]),n||(s=W(t,"input",l[1]),n=!0)},p(i,[r]){r&1&&De(t,i[0])},i:Z,o:Z,d(i){i&&b(e),n=!1,s()}}}function so(l,e,t){let n;ce(l,Wt,i=>t(0,n=i));function s(){n=this.value,Wt.set(n)}return[n,s]}class io extends _e{constructor(e){super(),ge(this,e,so,no,he,{})}}function ro(l){let e,t,n,s,i,r,a,o,u,f="<span>or</span>",c,d,h,m,p,_,g,w,k,S=l[4]?"Loading...":l[0]==="login"?"Sign In":"Sign Up",I,D,A,T=l[0]==="login"?"Don't have an account? Sign up":"Already have an account? Sign in",$,R,L,O=l[3]&&pn(l);return{c(){e=E("button"),t=et("svg"),n=et("path"),s=et("path"),i=et("path"),r=et("path"),a=x(`
				Continue with Google`),o=P(),u=E("div"),u.innerHTML=f,c=P(),d=E("form"),h=E("input"),m=P(),p=E("input"),g=P(),O&&O.c(),w=P(),k=E("button"),I=x(S),D=P(),A=E("button"),$=x(T),this.h()},l(M){e=C(M,"BUTTON",{class:!0});var K=F(e);t=tt(K,"svg",{viewBox:!0,width:!0,height:!0});var re=F(t);n=tt(re,"path",{fill:!0,d:!0}),F(n).forEach(b),s=tt(re,"path",{fill:!0,d:!0}),F(s).forEach(b),i=tt(re,"path",{fill:!0,d:!0}),F(i).forEach(b),r=tt(re,"path",{fill:!0,d:!0}),F(r).forEach(b),re.forEach(b),a=ee(K,`
				Continue with Google`),K.forEach(b),o=B(M),u=C(M,"DIV",{class:!0,"data-svelte-h":!0}),ae(u)!=="svelte-10d5nsd"&&(u.innerHTML=f),c=B(M),d=C(M,"FORM",{class:!0});var me=F(d);h=C(me,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,class:!0}),m=B(me),p=C(me,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,class:!0}),g=B(me),O&&O.l(me),w=B(me),k=C(me,"BUTTON",{type:!0,class:!0});var oe=F(k);I=ee(oe,S),oe.forEach(b),me.forEach(b),D=B(M),A=C(M,"BUTTON",{class:!0});var Ie=F(A);$=ee(Ie,T),Ie.forEach(b),this.h()},h(){v(n,"fill","#4285F4"),v(n,"d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"),v(s,"fill","#34A853"),v(s,"d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"),v(i,"fill","#FBBC05"),v(i,"d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"),v(r,"fill","#EA4335"),v(r,"d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"),v(t,"viewBox","0 0 24 24"),v(t,"width","20"),v(t,"height","20"),v(e,"class","google-btn svelte-1rc5oi"),e.disabled=l[4],v(u,"class","divider svelte-1rc5oi"),v(h,"type","email"),v(h,"placeholder","Email"),h.disabled=l[4],v(h,"autocomplete","email"),v(h,"class","svelte-1rc5oi"),v(p,"type","password"),v(p,"placeholder","Password"),p.disabled=l[4],v(p,"autocomplete",_=l[0]==="login"?"current-password":"new-password"),v(p,"class","svelte-1rc5oi"),v(k,"type","submit"),v(k,"class","email-btn svelte-1rc5oi"),k.disabled=l[4],v(d,"class","svelte-1rc5oi"),v(A,"class","switch-mode svelte-1rc5oi")},m(M,K){z(M,e,K),y(e,t),y(t,n),y(t,s),y(t,i),y(t,r),y(e,a),z(M,o,K),z(M,u,K),z(M,c,K),z(M,d,K),y(d,h),De(h,l[1]),y(d,m),y(d,p),De(p,l[2]),y(d,g),O&&O.m(d,null),y(d,w),y(d,k),y(k,I),z(M,D,K),z(M,A,K),y(A,$),R||(L=[W(e,"click",l[6]),W(h,"input",l[8]),W(p,"input",l[9]),W(d,"submit",hs(l[7])),W(A,"click",l[10])],R=!0)},p(M,K){K&16&&(e.disabled=M[4]),K&16&&(h.disabled=M[4]),K&2&&h.value!==M[1]&&De(h,M[1]),K&16&&(p.disabled=M[4]),K&1&&_!==(_=M[0]==="login"?"current-password":"new-password")&&v(p,"autocomplete",_),K&4&&p.value!==M[2]&&De(p,M[2]),M[3]?O?O.p(M,K):(O=pn(M),O.c(),O.m(d,w)):O&&(O.d(1),O=null),K&17&&S!==(S=M[4]?"Loading...":M[0]==="login"?"Sign In":"Sign Up")&&Ae(I,S),K&16&&(k.disabled=M[4]),K&1&&T!==(T=M[0]==="login"?"Don't have an account? Sign up":"Already have an account? Sign in")&&Ae($,T)},d(M){M&&(b(e),b(o),b(u),b(c),b(d),b(D),b(A)),O&&O.d(),R=!1,Ue(L)}}}function oo(l){let e,t="Check your email for a confirmation link!";return{c(){e=E("div"),e.textContent=t,this.h()},l(n){e=C(n,"DIV",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-1e7dq6i"&&(e.textContent=t),this.h()},h(){v(e,"class","success svelte-1rc5oi")},m(n,s){z(n,e,s)},p:Z,d(n){n&&b(e)}}}function pn(l){let e,t;return{c(){e=E("div"),t=x(l[3]),this.h()},l(n){e=C(n,"DIV",{class:!0});var s=F(e);t=ee(s,l[3]),s.forEach(b),this.h()},h(){v(e,"class","error svelte-1rc5oi")},m(n,s){z(n,e,s),y(e,t)},p(n,s){s&8&&Ae(t,n[3])},d(n){n&&b(e)}}}function ao(l){let e,t,n,s=l[0]==="login"?"Sign In":"Create Account",i,r,a,o=l[0]==="login"?"Sign in to save and share your flows":"Create an account to get started",u,f;function c(m,p){return m[5]?oo:ro}let d=c(l),h=d(l);return{c(){e=E("div"),t=E("div"),n=E("h2"),i=x(s),r=P(),a=E("p"),u=x(o),f=P(),h.c(),this.h()},l(m){e=C(m,"DIV",{class:!0});var p=F(e);t=C(p,"DIV",{class:!0});var _=F(t);n=C(_,"H2",{class:!0});var g=F(n);i=ee(g,s),g.forEach(b),r=B(_),a=C(_,"P",{class:!0});var w=F(a);u=ee(w,o),w.forEach(b),f=B(_),h.l(_),_.forEach(b),p.forEach(b),this.h()},h(){v(n,"class","svelte-1rc5oi"),v(a,"class","subtitle svelte-1rc5oi"),v(t,"class","auth-card svelte-1rc5oi"),v(e,"class","auth-container svelte-1rc5oi")},m(m,p){z(m,e,p),y(e,t),y(t,n),y(n,i),y(t,r),y(t,a),y(a,u),y(t,f),h.m(t,null)},p(m,[p]){p&1&&s!==(s=m[0]==="login"?"Sign In":"Create Account")&&Ae(i,s),p&1&&o!==(o=m[0]==="login"?"Sign in to save and share your flows":"Create an account to get started")&&Ae(u,o),d===(d=c(m))&&h?h.p(m,p):(h.d(1),h=d(m),h&&(h.c(),h.m(t,null)))},i:Z,o:Z,d(m){m&&b(e),h.d()}}}function uo(l,e,t){let n="login",s="",i="",r="",a=!1,o=!1;async function u(){t(4,a=!0),t(3,r="");try{await Ps()}catch(m){t(3,r=m.message||"Failed to sign in with Google"),t(4,a=!1)}}async function f(){if(!s||!i){t(3,r="Please fill in both fields");return}t(4,a=!0),t(3,r="");try{n==="login"?await Bs(s,i):(await Ls(s,i),t(5,o=!0),t(4,a=!1))}catch(m){t(3,r=m.message||"Authentication failed"),t(4,a=!1)}}function c(){s=this.value,t(1,s)}function d(){i=this.value,t(2,i)}return[n,s,i,r,a,o,u,f,c,d,()=>{t(0,n=n==="login"?"signup":"login"),t(3,r="")}]}class fo extends _e{constructor(e){super(),ge(this,e,uo,ao,he,{})}}function _n(l,e,t){const n=l.slice();return n[10]=e[t],n}function co(l){let e,t;function n(a,o){return a[1]?mo:po}let s=n(l),i=s(l),r=l[2].length>0&&gn(l);return{c(){i.c(),e=P(),r&&r.c(),t=Se()},l(a){i.l(a),e=B(a),r&&r.l(a),t=Se()},m(a,o){i.m(a,o),z(a,e,o),r&&r.m(a,o),z(a,t,o)},p(a,o){s===(s=n(a))&&i?i.p(a,o):(i.d(1),i=s(a),i&&(i.c(),i.m(e.parentNode,e))),a[2].length>0?r?r.p(a,o):(r=gn(a),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(a){a&&(b(e),b(t)),i.d(a),r&&r.d(a)}}}function ho(l){let e,t="Save this flow first before sharing.";return{c(){e=E("p"),e.textContent=t,this.h()},l(n){e=C(n,"P",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-uttth"&&(e.textContent=t),this.h()},h(){v(e,"class","warning svelte-10ecn9r")},m(n,s){z(n,e,s)},p:Z,d(n){n&&b(e)}}}function mo(l){let e,t,n,s,i,r=l[4]?"Copied!":"Copy",a,o,u,f,c,d;return{c(){e=E("div"),t=E("div"),n=x(l[1]),s=P(),i=E("button"),a=x(r),o=P(),u=E("button"),f=x("Generate New Link"),this.h()},l(h){e=C(h,"DIV",{class:!0});var m=F(e);t=C(m,"DIV",{class:!0});var p=F(t);n=ee(p,l[1]),p.forEach(b),s=B(m),i=C(m,"BUTTON",{class:!0});var _=F(i);a=ee(_,r),_.forEach(b),m.forEach(b),o=B(h),u=C(h,"BUTTON",{class:!0});var g=F(u);f=ee(g,"Generate New Link"),g.forEach(b),this.h()},h(){v(t,"class","link-text svelte-10ecn9r"),v(i,"class","copy-btn svelte-10ecn9r"),v(e,"class","link-container svelte-10ecn9r"),v(u,"class","generate-btn secondary svelte-10ecn9r"),u.disabled=l[3]},m(h,m){z(h,e,m),y(e,t),y(t,n),y(e,s),y(e,i),y(i,a),z(h,o,m),z(h,u,m),y(u,f),c||(d=[W(i,"click",l[6]),W(u,"click",l[5])],c=!0)},p(h,m){m&2&&Ae(n,h[1]),m&16&&r!==(r=h[4]?"Copied!":"Copy")&&Ae(a,r),m&8&&(u.disabled=h[3])},d(h){h&&(b(e),b(o),b(u)),c=!1,Ue(d)}}}function po(l){let e,t=l[3]?"Generating...":"Generate Share Link",n,s,i;return{c(){e=E("button"),n=x(t),this.h()},l(r){e=C(r,"BUTTON",{class:!0});var a=F(e);n=ee(a,t),a.forEach(b),this.h()},h(){v(e,"class","generate-btn svelte-10ecn9r"),e.disabled=l[3]},m(r,a){z(r,e,a),y(e,n),s||(i=W(e,"click",l[5]),s=!0)},p(r,a){a&8&&t!==(t=r[3]?"Generating...":"Generate Share Link")&&Ae(n,t),a&8&&(e.disabled=r[3])},d(r){r&&b(e),s=!1,i()}}}function gn(l){let e,t,n="Collaborators",s,i=de(l[2]),r=[];for(let a=0;a<i.length;a+=1)r[a]=vn(_n(l,i,a));return{c(){e=E("div"),t=E("h4"),t.textContent=n,s=P();for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=C(a,"DIV",{class:!0});var o=F(e);t=C(o,"H4",{class:!0,"data-svelte-h":!0}),ae(t)!=="svelte-1a32bih"&&(t.textContent=n),s=B(o);for(let u=0;u<r.length;u+=1)r[u].l(o);o.forEach(b),this.h()},h(){v(t,"class","svelte-10ecn9r"),v(e,"class","collaborators svelte-10ecn9r")},m(a,o){z(a,e,o),y(e,t),y(e,s);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null)},p(a,o){if(o&132){i=de(a[2]);let u;for(u=0;u<i.length;u+=1){const f=_n(a,i,u);r[u]?r[u].p(f,o):(r[u]=vn(f),r[u].c(),r[u].m(e,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=i.length}},d(a){a&&b(e),He(r,a)}}}function _o(l){let e,t="Pending invite";return{c(){e=E("span"),e.textContent=t,this.h()},l(n){e=C(n,"SPAN",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-pa3m7t"&&(e.textContent=t),this.h()},h(){v(e,"class","badge pending svelte-10ecn9r")},m(n,s){z(n,e,s)},d(n){n&&b(e)}}}function go(l){let e,t="Active";return{c(){e=E("span"),e.textContent=t,this.h()},l(n){e=C(n,"SPAN",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-6qel4"&&(e.textContent=t),this.h()},h(){v(e,"class","badge svelte-10ecn9r")},m(n,s){z(n,e,s)},d(n){n&&b(e)}}}function vn(l){let e,t,n,s,i=l[10].permission+"",r,a,o,u="Remove",f,c,d;function h(g,w){if(g[10].shared_with)return go;if(g[10].invite_token)return _o}let m=h(l),p=m&&m(l);function _(){return l[8](l[10])}return{c(){e=E("div"),t=E("span"),p&&p.c(),n=P(),s=E("span"),r=x(i),a=P(),o=E("button"),o.textContent=u,f=P(),this.h()},l(g){e=C(g,"DIV",{class:!0});var w=F(e);t=C(w,"SPAN",{class:!0});var k=F(t);p&&p.l(k),n=B(k),s=C(k,"SPAN",{class:!0});var S=F(s);r=ee(S,i),S.forEach(b),k.forEach(b),a=B(w),o=C(w,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(o)!=="svelte-1rt7k4r"&&(o.textContent=u),f=B(w),w.forEach(b),this.h()},h(){v(s,"class","permission svelte-10ecn9r"),v(t,"class","collab-info svelte-10ecn9r"),v(o,"class","remove-btn svelte-10ecn9r"),v(e,"class","collaborator svelte-10ecn9r")},m(g,w){z(g,e,w),y(e,t),p&&p.m(t,null),y(t,n),y(t,s),y(s,r),y(e,a),y(e,o),y(e,f),c||(d=W(o,"click",_),c=!0)},p(g,w){l=g,m!==(m=h(l))&&(p&&p.d(1),p=m&&m(l),p&&(p.c(),p.m(t,n))),w&4&&i!==(i=l[10].permission+"")&&Ae(r,i)},d(g){g&&b(e),p&&p.d(),c=!1,d()}}}function vo(l){let e,t,n="Share this Flow",s,i,r="Share this flow with your debate partner. Anyone with the link can edit it.",a;function o(c,d){return c[0]?co:ho}let u=o(l),f=u(l);return{c(){e=E("div"),t=E("h3"),t.textContent=n,s=P(),i=E("p"),i.textContent=r,a=P(),f.c(),this.h()},l(c){e=C(c,"DIV",{class:!0});var d=F(e);t=C(d,"H3",{class:!0,"data-svelte-h":!0}),ae(t)!=="svelte-upu1qv"&&(t.textContent=n),s=B(d),i=C(d,"P",{class:!0,"data-svelte-h":!0}),ae(i)!=="svelte-1ke3kj6"&&(i.textContent=r),a=B(d),f.l(d),d.forEach(b),this.h()},h(){v(t,"class","svelte-10ecn9r"),v(i,"class","info svelte-10ecn9r"),v(e,"class","share-flow svelte-10ecn9r")},m(c,d){z(c,e,d),y(e,t),y(e,s),y(e,i),y(e,a),f.m(e,null)},p(c,[d]){u===(u=o(c))&&f?f.p(c,d):(f.d(1),f=u(c),f&&(f.c(),f.m(e,null)))},i:Z,o:Z,d(c){c&&b(e),f.d()}}}function bo(l,e,t){let n;ce(l,Un,h=>t(0,n=h));let s="",i=[],r=!1,a=!1;async function o(){n&&t(2,i=await Os(n))}async function u(){if(!n)return;t(3,r=!0);const h=await Ms(n,"edit");h&&t(1,s=`${window.location.origin}/app?invite=${h}`),t(3,r=!1)}async function f(){if(s)try{await navigator.clipboard.writeText(s),t(4,a=!0),setTimeout(()=>t(4,a=!1),2e3)}catch{const h=document.createElement("input");h.value=s,document.body.appendChild(h),h.select(),document.execCommand("copy"),document.body.removeChild(h),t(4,a=!0),setTimeout(()=>t(4,a=!1),2e3)}}async function c(h){await Hs(h),t(2,i=i.filter(m=>m.id!==h))}const d=h=>c(h.id);return l.$$.update=()=>{l.$$.dirty&1&&n&&o()},[n,s,i,r,a,u,f,c,d]}class wo extends _e{constructor(e){super(),ge(this,e,bo,vo,he,{})}}const{document:yt}=Us;function bn(l,e,t){const n=l.slice();return n[47]=e[t],n}function wn(l){let e,t;function n(r,a){return r[8]==="saving"?Io:r[8]==="saved"?So:r[8]==="error"?yo:ko}let s=n(l),i=s(l);return{c(){e=E("div"),t=E("span"),i.c(),this.h()},l(r){e=C(r,"DIV",{class:!0});var a=F(e);t=C(a,"SPAN",{class:!0});var o=F(t);i.l(o),o.forEach(b),a.forEach(b),this.h()},h(){v(t,"class","save-indicator svelte-zlzldx"),q(t,"saved",l[8]==="saved"),q(t,"saving",l[8]==="saving"),q(t,"error",l[8]==="error"),v(e,"class","cloud-status svelte-zlzldx")},m(r,a){z(r,e,a),y(e,t),i.m(t,null)},p(r,a){s!==(s=n(r))&&(i.d(1),i=s(r),i&&(i.c(),i.m(t,null))),a[0]&256&&q(t,"saved",r[8]==="saved"),a[0]&256&&q(t,"saving",r[8]==="saving"),a[0]&256&&q(t,"error",r[8]==="error")},d(r){r&&b(e),i.d()}}}function ko(l){let e;return{c(){e=x("")},l(t){e=ee(t,"")},m(t,n){z(t,e,n)},d(t){t&&b(e)}}}function yo(l){let e;return{c(){e=x("Save error")},l(t){e=ee(t,"Save error")},m(t,n){z(t,e,n)},d(t){t&&b(e)}}}function So(l){let e;return{c(){e=x(`Saved
                `)},l(t){e=ee(t,`Saved
                `)},m(t,n){z(t,e,n)},d(t){t&&b(e)}}}function Io(l){let e;return{c(){e=x("Saving...")},l(t){e=ee(t,"Saving...")},m(t,n){z(t,e,n)},d(t){t&&b(e)}}}function kn(l){let e,t,n="Your Flows",s,i,r,a="+ New Flow",o,u,f,c,d="Current Flow Tabs",h,m,p=de(l[9]),_=[];for(let g=0;g<p.length;g+=1)_[g]=Sn(bn(l,p,g));return{c(){e=E("div"),t=E("div"),t.textContent=n,s=P();for(let g=0;g<_.length;g+=1)_[g].c();i=P(),r=E("button"),r.textContent=a,o=P(),u=E("div"),f=P(),c=E("div"),c.textContent=d,this.h()},l(g){e=C(g,"DIV",{class:!0});var w=F(e);t=C(w,"DIV",{class:!0,"data-svelte-h":!0}),ae(t)!=="svelte-1g1s9en"&&(t.textContent=n),s=B(w);for(let k=0;k<_.length;k+=1)_[k].l(w);w.forEach(b),i=B(g),r=C(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(r)!=="svelte-1j1xl8p"&&(r.textContent=a),o=B(g),u=C(g,"DIV",{class:!0}),F(u).forEach(b),f=B(g),c=C(g,"DIV",{class:!0,"data-svelte-h":!0}),ae(c)!=="svelte-15dxj9u"&&(c.textContent=d),this.h()},h(){v(t,"class","section-label svelte-zlzldx"),v(e,"class","cloud-flows-section svelte-zlzldx"),v(r,"class","new-flow-btn svelte-zlzldx"),v(u,"class","section-divider svelte-zlzldx"),v(c,"class","section-label svelte-zlzldx")},m(g,w){z(g,e,w),y(e,t),y(e,s);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(e,null);z(g,i,w),z(g,r,w),z(g,o,w),z(g,u,w),z(g,f,w),z(g,c,w),h||(m=W(r,"click",l[33]),h=!0)},p(g,w){if(w[0]&30214){p=de(g[9]);let k;for(k=0;k<p.length;k+=1){const S=bn(g,p,k);_[k]?_[k].p(S,w):(_[k]=Sn(S),_[k].c(),_[k].m(e,null))}for(;k<_.length;k+=1)_[k].d(1);_.length=p.length}},d(g){g&&(b(e),b(i),b(r),b(o),b(u),b(f),b(c)),He(_,g),h=!1,m()}}}function Eo(l){let e,t,n=(l[47].title||"Untitled")+"",s,i,r,a,o=l[47].is_shared&&yn();function u(){return l[30](l[47])}function f(){return l[31](l[47])}return{c(){e=E("button"),t=E("span"),s=x(n),i=P(),o&&o.c(),this.h()},l(c){e=C(c,"BUTTON",{class:!0});var d=F(e);t=C(d,"SPAN",{class:!0});var h=F(t);s=ee(h,n),h.forEach(b),i=B(d),o&&o.l(d),d.forEach(b),this.h()},h(){v(t,"class","flow-title svelte-zlzldx"),v(e,"class","cloud-flow-item svelte-zlzldx"),q(e,"active",l[10]===l[47].id),q(e,"shared",l[47].is_shared)},m(c,d){z(c,e,d),y(e,t),y(t,s),y(e,i),o&&o.m(e,null),r||(a=[W(e,"click",u),W(e,"dblclick",$n(f))],r=!0)},p(c,d){l=c,d[0]&512&&n!==(n=(l[47].title||"Untitled")+"")&&Ae(s,n),l[47].is_shared?o||(o=yn(),o.c(),o.m(e,null)):o&&(o.d(1),o=null),d[0]&1536&&q(e,"active",l[10]===l[47].id),d[0]&512&&q(e,"shared",l[47].is_shared)},d(c){c&&b(e),o&&o.d(),r=!1,Ue(a)}}}function Co(l){let e,t,n;return{c(){e=E("input"),this.h()},l(s){e=C(s,"INPUT",{id:!0,class:!0}),this.h()},h(){v(e,"id","cloud-flow-edit-input"),v(e,"class","cloud-flow-edit-input svelte-zlzldx")},m(s,i){z(s,e,i),De(e,l[2]),t||(n=[W(e,"input",l[28]),W(e,"blur",l[13]),W(e,"keydown",l[29])],t=!0)},p(s,i){i[0]&4&&e.value!==s[2]&&De(e,s[2])},d(s){s&&b(e),t=!1,Ue(n)}}}function yn(l){let e,t="shared";return{c(){e=E("span"),e.textContent=t,this.h()},l(n){e=C(n,"SPAN",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-ox5vk7"&&(e.textContent=t),this.h()},h(){v(e,"class","shared-badge svelte-zlzldx")},m(n,s){z(n,e,s)},d(n){n&&b(e)}}}function Sn(l){let e,t,n,s="",i,r,a;function o(d,h){return d[1]===d[47].id?Co:Eo}let u=o(l),f=u(l);function c(){return l[32](l[47])}return{c(){e=E("div"),f.c(),t=P(),n=E("button"),n.textContent=s,i=P(),this.h()},l(d){e=C(d,"DIV",{class:!0});var h=F(e);f.l(h),t=B(h),n=C(h,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ae(n)!=="svelte-1spinoe"&&(n.textContent=s),i=B(h),h.forEach(b),this.h()},h(){v(n,"class","cloud-flow-delete svelte-zlzldx"),v(n,"title","Delete flow"),v(e,"class","cloud-flow-item-wrapper svelte-zlzldx")},m(d,h){z(d,e,h),f.m(e,null),y(e,t),y(e,n),y(e,i),r||(a=W(n,"click",$n(c)),r=!0)},p(d,h){l=d,u===(u=o(l))&&f?f.p(l,h):(f.d(1),f=u(l),f&&(f.c(),f.m(e,t)))},d(d){d&&b(e),f.d(),r=!1,a()}}}function To(l){let e,t;function n(){return l[34](l[46])}return e=new Sr({props:{flowId:l[0].root.children[l[46]],selected:l[5]==l[0].root.children[l[46]]}}),e.$on("click",n),{c(){j(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,i){X(e,s,i),t=!0},p(s,i){l=s;const r={};i[0]&1|i[1]&32768&&(r.flowId=l[0].root.children[l[46]]),i[0]&33|i[1]&32768&&(r.selected=l[5]==l[0].root.children[l[46]]),e.$set(r)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function In(l){let e,t,n,s,i,r="Sign Out",a,o;return{c(){e=E("button"),t=x("Share Flow"),s=P(),i=E("button"),i.textContent=r,this.h()},l(u){e=C(u,"BUTTON",{class:!0});var f=F(e);t=ee(f,"Share Flow"),f.forEach(b),s=B(u),i=C(u,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(i)!=="svelte-16upgnz"&&(i.textContent=r),this.h()},h(){v(e,"class","sidebar-action-btn share-btn svelte-zlzldx"),e.disabled=n=!l[10],v(i,"class","sidebar-action-btn signout-btn svelte-zlzldx")},m(u,f){z(u,e,f),y(e,t),z(u,s,f),z(u,i,f),a||(o=[W(e,"click",l[36]),W(i,"click",qs)],a=!0)},p(u,f){f[0]&1024&&n!==(n=!u[10])&&(e.disabled=n)},d(u){u&&(b(e),b(s),b(i)),a=!1,Ue(o)}}}function No(l){let e,t,n;return t=new Hr({}),{c(){e=E("div"),j(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var i=F(e);Q(t.$$.fragment,i),i.forEach(b),this.h()},h(){v(e,"class","prelude svelte-zlzldx")},m(s,i){z(s,e,i),X(t,e,null),n=!0},p:Z,i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){V(t.$$.fragment,s),n=!1},d(s){s&&b(e),G(t)}}}function Do(l){let e,t,n,s=l[5]!=null&&l[0][l[5]]&&En(l),i=l[3]&&Tn();return{c(){s&&s.c(),e=P(),i&&i.c(),t=Se()},l(r){s&&s.l(r),e=B(r),i&&i.l(r),t=Se()},m(r,a){s&&s.m(r,a),z(r,e,a),i&&i.m(r,a),z(r,t,a),n=!0},p(r,a){r[5]!=null&&r[0][r[5]]?s?(s.p(r,a),a[0]&33&&N(s,1)):(s=En(r),s.c(),N(s,1),s.m(e.parentNode,e)):s&&(te(),V(s,1,1,()=>{s=null}),le()),r[3]?i?a[0]&8&&N(i,1):(i=Tn(),i.c(),N(i,1),i.m(t.parentNode,t)):i&&(te(),V(i,1,1,()=>{i=null}),le())},i(r){n||(N(s),N(i),n=!0)},o(r){V(s),V(i),n=!1},d(r){r&&(b(e),b(t)),s&&s.d(r),i&&i.d(r)}}}function Ao(l){let e,t,n;return t=new fo({}),{c(){e=E("div"),j(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var i=F(e);Q(t.$$.fragment,i),i.forEach(b),this.h()},h(){v(e,"class","prelude svelte-zlzldx")},m(s,i){z(s,e,i),X(t,e,null),n=!0},p:Z,i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){V(t.$$.fragment,s),n=!1},d(s){s&&b(e),G(t)}}}function $o(l){let e,t='<div class="loading-message svelte-zlzldx">Loading...</div>';return{c(){e=E("div"),e.innerHTML=t,this.h()},l(n){e=C(n,"DIV",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-1ei1ena"&&(e.innerHTML=t),this.h()},h(){v(e,"class","prelude svelte-zlzldx")},m(n,s){z(n,e,s)},p:Z,i:Z,o:Z,d(n){n&&b(e)}}}function En(l){let e=l[5],t,n,s=Cn(l);return{c(){s.c(),t=Se()},l(i){s.l(i),t=Se()},m(i,r){s.m(i,r),z(i,t,r),n=!0},p(i,r){r[0]&32&&he(e,e=i[5])?(te(),V(s,1,1,Z),le(),s=Cn(i),s.c(),N(s,1),s.m(t.parentNode,t)):s.p(i,r)},i(i){n||(N(s),n=!0)},o(i){V(s),n=!1},d(i){i&&b(t),s.d(i)}}}function Cn(l){let e,t,n,s,i,r,a,o,u,f,c;return t=new $i({props:{flowId:l[5],deleteSelf:l[37]}}),i=new Bi({props:{flowId:l[5]}}),o=new Ni({props:{flowId:l[5]}}),o.$on("focusFlow",l[16]),{c(){e=E("div"),j(t.$$.fragment),n=P(),s=E("div"),j(i.$$.fragment),r=P(),a=E("div"),j(o.$$.fragment),this.h()},l(d){e=C(d,"DIV",{class:!0});var h=F(e);Q(t.$$.fragment,h),h.forEach(b),n=B(d),s=C(d,"DIV",{class:!0});var m=F(s);Q(i.$$.fragment,m),m.forEach(b),r=B(d),a=C(d,"DIV",{class:!0});var p=F(a);Q(o.$$.fragment,p),p.forEach(b),this.h()},h(){v(e,"class","title svelte-zlzldx"),v(s,"class","box-control svelte-zlzldx"),v(a,"class","flow svelte-zlzldx"),q(a,"customScrollbar",Y.data.customScrollbar.value)},m(d,h){z(d,e,h),X(t,e,null),z(d,n,h),z(d,s,h),X(i,s,null),z(d,r,h),z(d,a,h),X(o,a,null),u=!0,f||(c=W(a,"scroll",Ro),f=!0)},p(d,h){const m={};h[0]&32&&(m.flowId=d[5]),t.$set(m);const p={};h[0]&32&&(p.flowId=d[5]),i.$set(p);const _={};h[0]&32&&(_.flowId=d[5]),o.$set(_)},i(d){u||(N(t.$$.fragment,d),N(i.$$.fragment,d),N(o.$$.fragment,d),u=!0)},o(d){V(t.$$.fragment,d),V(i.$$.fragment,d),V(o.$$.fragment,d),u=!1},d(d){d&&(b(e),b(n),b(s),b(r),b(a)),G(t),G(i),G(o),f=!1,c()}}}function Tn(l){let e,t,n;return t=new io({}),{c(){e=E("div"),j(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var i=F(e);Q(t.$$.fragment,i),i.forEach(b),this.h()},h(){v(e,"class","side-doc svelte-zlzldx")},m(s,i){z(s,e,i),X(t,e,null),n=!0},i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){V(t.$$.fragment,s),n=!1},d(s){s&&b(e),G(t)}}}function Fo(l){let e,t,n,s,i,r,a,o,u,f,c,d,h,m,p,_,g,w,k,S,I,D,A,T,$,R,L,O;o=new Gn({props:{resize:!0,buttons:[{icon:"link",onclick:l[24],tooltip:l[6]?"help":"new updates",tutorialHighlight:1,notification:!l[6]},{icon:"gear",onclick:l[25],tooltip:"settings",tutorialHighlight:2},{icon:"file",onclick:l[26],tooltip:"file",tutorialHighlight:3},{icon:"people",onclick:l[27],tooltip:"share (p2p)",tutorialHighlight:4}]}});let M=l[7]&&wn(l),K=l[7]&&l[9].length>0&&kn(l);m=new ur({props:{list:l[0].root.children,$$slots:{default:[To,({index:J})=>({46:J}),({index:J})=>[0,J?32768:0]]},$$scope:{ctx:l}}}),m.$on("sort",l[19]);function re(J){l[35](J)}let me={addFlow:l[17]};l[4]!==void 0&&(me.switchSpeakers=l[4]),_=new vr({props:me}),ie.push(()=>ye(_,"switchSpeakers",re));let oe=l[7]&&In(l);D=new lo({});const Ie=[$o,Ao,Do,No],ve=[];function fe(J,se){return J[11]?0:J[7]?J[0].root.children.length>0?2:3:1}return T=fe(l),$=ve[T]=Ie[T](l),{c(){e=P(),t=E("main"),n=E("input"),s=P(),i=E("div"),r=E("div"),a=E("div"),j(o.$$.fragment),u=P(),M&&M.c(),f=P(),c=E("div"),d=E("div"),K&&K.c(),h=P(),j(m.$$.fragment),p=P(),j(_.$$.fragment),w=P(),k=E("div"),oe&&oe.c(),S=P(),I=E("div"),j(D.$$.fragment),A=P(),$.c(),this.h()},l(J){e=B(J),t=C(J,"MAIN",{class:!0});var se=F(t);n=C(se,"INPUT",{id:!0,type:!0}),s=B(se),i=C(se,"DIV",{class:!0});var Re=F(i);r=C(Re,"DIV",{class:!0});var Te=F(r);a=C(Te,"DIV",{class:!0});var $e=F(a);Q(o.$$.fragment,$e),u=B($e),M&&M.l($e),$e.forEach(b),f=B(Te),c=C(Te,"DIV",{class:!0});var Pe=F(c);d=C(Pe,"DIV",{class:!0});var Be=F(d);K&&K.l(Be),h=B(Be),Q(m.$$.fragment,Be),p=B(Be),Q(_.$$.fragment,Be),Be.forEach(b),Pe.forEach(b),w=B(Te),k=C(Te,"DIV",{class:!0});var Oe=F(k);oe&&oe.l(Oe),Oe.forEach(b),S=B(Te),I=C(Te,"DIV",{class:!0});var Xe=F(I);Q(D.$$.fragment,Xe),Xe.forEach(b),Te.forEach(b),A=B(Re),$.l(Re),Re.forEach(b),se.forEach(b),this.h()},h(){v(n,"id","uploadId"),v(n,"type","file"),n.hidden=!0,v(a,"class","header svelte-zlzldx"),v(d,"class","tabScroll svelte-zlzldx"),v(c,"class","tabs svelte-zlzldx"),q(c,"customScrollbar",Y.data.customScrollbar.value),v(k,"class","sidebar-footer svelte-zlzldx"),v(I,"class","timer"),v(r,"class","sidebar svelte-zlzldx"),v(i,"class","grid svelte-zlzldx"),q(i,"showPrelude",!(l[0].root.children.length>0)),v(t,"class","palette-plain"),q(t,"activeMouse",bt)},m(J,se){z(J,e,se),z(J,t,se),y(t,n),y(t,s),y(t,i),y(i,r),y(r,a),X(o,a,null),y(a,u),M&&M.m(a,null),y(r,f),y(r,c),y(c,d),K&&K.m(d,null),y(d,h),X(m,d,null),y(d,p),X(_,d,null),y(r,w),y(r,k),oe&&oe.m(k,null),y(r,S),y(r,I),X(D,I,null),y(i,A),ve[T].m(i,null),R=!0,L||(O=[W(yt.body,"keydown",l[21]),W(yt.body,"mousemove",l[20]),W(yt.body,"dragenter",Vo),W(yt.body,"drop",l[22]),W(n,"change",l[23])],L=!0)},p(J,se){const Re={};se[0]&64&&(Re.buttons=[{icon:"link",onclick:J[24],tooltip:J[6]?"help":"new updates",tutorialHighlight:1,notification:!J[6]},{icon:"gear",onclick:J[25],tooltip:"settings",tutorialHighlight:2},{icon:"file",onclick:J[26],tooltip:"file",tutorialHighlight:3},{icon:"people",onclick:J[27],tooltip:"share (p2p)",tutorialHighlight:4}]),o.$set(Re),J[7]?M?M.p(J,se):(M=wn(J),M.c(),M.m(a,null)):M&&(M.d(1),M=null),J[7]&&J[9].length>0?K?K.p(J,se):(K=kn(J),K.c(),K.m(d,h)):K&&(K.d(1),K=null);const Te={};se[0]&1&&(Te.list=J[0].root.children),se[0]&33|se[1]&557056&&(Te.$$scope={dirty:se,ctx:J}),m.$set(Te);const $e={};!g&&se[0]&16&&(g=!0,$e.switchSpeakers=J[4],ke(()=>g=!1)),_.$set($e),J[7]?oe?oe.p(J,se):(oe=In(J),oe.c(),oe.m(k,null)):oe&&(oe.d(1),oe=null);let Pe=T;T=fe(J),T===Pe?ve[T].p(J,se):(te(),V(ve[Pe],1,1,()=>{ve[Pe]=null}),le(),$=ve[T],$?$.p(J,se):($=ve[T]=Ie[T](J),$.c()),N($,1),$.m(i,null)),(!R||se[0]&1)&&q(i,"showPrelude",!(J[0].root.children.length>0))},i(J){R||(N(o.$$.fragment,J),N(m.$$.fragment,J),N(_.$$.fragment,J),N(D.$$.fragment,J),N($),R=!0)},o(J){V(o.$$.fragment,J),V(m.$$.fragment,J),V(_.$$.fragment,J),V(D.$$.fragment,J),V($),R=!1},d(J){J&&(b(e),b(t)),G(o),M&&M.d(),K&&K.d(),G(m),G(_),oe&&oe.d(),G(D),ve[T].d(),L=!1,Ue(O)}}}function Vo(l){l.preventDefault()}function Ro(l){const e=l.currentTarget;e.scrollTop!==0&&(e.scrollTop=0)}function zo(l,e,t){let n,s,i,r,a,o,u,f,c,d,h,m,p;ce(l,Ze,H=>t(5,s=H)),ce(l,bt,H=>t(39,i=H)),ce(l,at,H=>t(0,r=H)),ce(l,pt,H=>t(40,a=H)),ce(l,we,H=>t(41,o=H)),ce(l,Hn,H=>t(42,u=H)),ce(l,js,H=>t(6,f=H)),ce(l,Qs,H=>t(7,c=H)),ce(l,Xs,H=>t(8,d=H)),ce(l,Gs,H=>t(9,h=H)),ce(l,Un,H=>t(10,m=H)),ce(l,Ws,H=>t(11,p=H));let _=null,g="";function w(H,pe){t(1,_=H),t(2,g=pe),setTimeout(()=>{const Fe=document.getElementById("cloud-flow-edit-input");Fe&&(Fe.select(),Fe.focus())},0)}async function k(){_&&g.trim()&&(await Js(_,void 0,g.trim()),await Ks()),t(1,_=null),t(2,g="")}async function S(H,pe){confirm(`Delete flow "${pe||"Untitled"}"? This cannot be undone.`)&&await Ys(H)}nt(()=>{window.addEventListener("dragover",function(H){H.preventDefault()},!1),window.addEventListener("drop",function(H){H.preventDefault()},!1),window.addEventListener("beforeunload",function(H){if(n&&!fi){let pe="Are you sure you want to leave?";return H.returnValue=pe,pe}})});let I=Y.data.showSideDoc.value;Le(Y.subscribe(["showSideDoc"],H=>{t(3,I=Y.data[H].value)}));function D(H){T(),ue(Ze,s=H,s),A()}function A(){if(s==null)return;let H=u[s];H==null&&(H=s),ue(we,o=H,o)}function T(){ue(we,o=null,o)}function $(H){T();let pe=Zs(r.root.children.length,H,Ie);pe!=null&&(ue(Ze,s=pe,s),A())}async function R(){if(s==null)return;T();let H=r.root.children.indexOf(s);xs(s);let pe;H==0?pe=0:pe=H-1,r.root.children.length>0?(ue(Ze,s=r.root.children[pe],s),A()):ue(Ze,s=null,s)}function L(H){let{from:pe,to:Fe}=H.detail;pe>Fe&&(Fe+=1),ei(r.root.children[pe],Fe)}function O(H){ue(bt,i=!0,i)}const M=zt({control:{n:{handle:()=>{const H=ct("primary");H!=null&&$(H)},require:()=>ct("primary")!=null}},"control shift":{n:{handle:()=>{const H=ct("secondary");H!=null&&$(H)},require:()=>ct("secondary")!=null}},"commandControl shift":{z:{handle:()=>{s!=null&&ze.redo(s,a)},require:()=>s==null?!1:ze.canRedo(s,a),stopRepeat:!1,preventDefault:"always"}},commandControl:{z:{handle:()=>{s!=null&&ze.undo(s,a)},require:()=>s==null?!1:ze.canUndo(s,a),stopRepeat:!1,preventDefault:"always"}},"commandControl alt":{ArrowUp:{handle:()=>{if(s==null)return;let H=(r.root.children.indexOf(s)-1)%r.root.children.length;H<0&&(H=r.root.children.length-1),D(r.root.children[H])},require:()=>r.root.children.length>0,stopRepeat:!1},ArrowDown:{handle:()=>{if(s==null)return;let H=(r.root.children.indexOf(s)+1)%r.root.children.length;D(r.root.children[H])},require:()=>r.root.children.length>0,stopRepeat:!1}}});function K(H){ue(bt,i=!1,i),M(H)}function re(H){var Me;H.preventDefault();let pe=(Me=H==null?void 0:H.dataTransfer)==null?void 0:Me.files[0];if(pe==null)return;let Fe=new FileReader;Fe.onload=function(_t){var rt;let Ge=(rt=_t.target)==null?void 0:rt.result;Ge!=null&&oe(Ge.toString())},pe.type=="text/plain"||pe.type=="application/json"?Fe.readAsText(pe,"UTF-8"):ot(Jt,"File Message",{message:"Invalid file",error:!0})}function me(){var Me;const H=document.getElementById("uploadId");if(!((Me=H==null?void 0:H.files)!=null&&Me.length))return;const pe=H.files[0];let Fe=new FileReader;Fe.onload=function(_t){var rt;let Ge=(rt=_t.target)==null?void 0:rt.result;Ge!=null&&(oe(Ge.toString()),H.value="")},Fe.readAsText(pe,"UTF-8")}async function oe(H){let pe=JSON.parse(H);if(pe.isSettings){ti(pe);return}let Fe=null;try{Fe=li(pe)}catch{ot(Jt,"File Message",{message:"Invalid file",error:!0})}Fe!=null&&(!n||confirm("Are you sure you want to overwrite your current flows?"))&&(Kt(Fe),ue(Ze,s=null,s),ni())}let Ie=!1;nt(()=>{document.body.classList.add("app")}),Le(()=>{document.body.classList.remove("app"),document.body.classList.remove("customScrollbar")});const ve=()=>ot(si,"Help"),fe=()=>ot(sr,"Settings"),J=()=>ot(Mi,"File"),se=()=>ot(ii,"Share");function Re(){g=this.value,t(2,g)}const Te=H=>{H.key==="Enter"&&k(),H.key==="Escape"&&t(1,_=null)},$e=H=>ri(H.id),Pe=H=>w(H.id,H.title),Be=H=>S(H.id,H.title),Oe=()=>{oi(),Kt(ai()),ue(Ze,s=null,s)},Xe=H=>D(r.root.children[H]);function ut(H){Ie=H,t(4,Ie)}const it=()=>ot(wo,"Share Flow"),qe=()=>R();return l.$$.update=()=>{l.$$.dirty[0]&1&&(n=r.root.children.length>0)},Y.data.customScrollbar.value?document.body.classList.add("customScrollbar"):document.body.classList.remove("customScrollbar"),[r,_,g,I,Ie,s,f,c,d,h,m,p,w,k,S,D,A,$,R,L,O,K,re,me,ve,fe,J,se,Re,Te,$e,Pe,Be,Oe,Xe,ut,it,qe]}class Uo extends _e{constructor(e){super(),ge(this,e,zo,Fo,he,{},null,[-1,-1])}}export{Uo as component};
